2023-07-31 00:13:12.224 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-07-31 00:13:12.694 +03:00 [DBG] Entity Framework Core 7.0.9 initialized 'ShrtLyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.9' with options: MigrationsAssembly=ShrtLy.Infrastructure 
2023-07-31 00:13:12.704 +03:00 [DBG] Creating DbConnection.
2023-07-31 00:13:12.758 +03:00 [DBG] Created DbConnection. (51ms).
2023-07-31 00:13:12.764 +03:00 [DBG] Migrating using database 'Shrtly' on server 'localhost'.
2023-07-31 00:13:12.771 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:13:13.029 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:13:13.036 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-07-31 00:13:13.043 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (6ms).
2023-07-31 00:13:13.046 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (11ms).
2023-07-31 00:13:13.052 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-07-31 00:13:13.072 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-07-31 00:13:13.076 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:13:13.084 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (4ms).
2023-07-31 00:13:13.087 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-31 00:13:13.088 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-07-31 00:13:13.088 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2023-07-31 00:13:13.089 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:13:13.090 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:13:13.092 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-07-31 00:13:13.105 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-07-31 00:13:13.106 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:13:13.107 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (0ms).
2023-07-31 00:13:13.109 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:13:13.110 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:13:13.111 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-07-31 00:13:13.112 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2023-07-31 00:13:13.113 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2023-07-31 00:13:13.114 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-07-31 00:13:13.116 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-07-31 00:13:13.120 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:13:13.121 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (1ms).
2023-07-31 00:13:13.123 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-31 00:13:13.123 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-07-31 00:13:13.124 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2023-07-31 00:13:13.125 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:13:13.126 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:13:13.129 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-07-31 00:13:13.133 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-07-31 00:13:13.134 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:13:13.135 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (1ms).
2023-07-31 00:13:13.157 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-31 00:13:13.157 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-07-31 00:13:13.159 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2023-07-31 00:13:13.160 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:13:13.161 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:13:13.163 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-07-31 00:13:13.166 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-07-31 00:13:13.171 +03:00 [DBG] Closing data reader to 'Shrtly' on server 'localhost'.
2023-07-31 00:13:13.173 +03:00 [DBG] A data reader for 'Shrtly' on server 'localhost' is being disposed after spending 2ms reading results.
2023-07-31 00:13:13.174 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:13:13.175 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (0ms).
2023-07-31 00:13:13.186 +03:00 [INF] No migrations were applied. The database is already up to date.
2023-07-31 00:13:13.188 +03:00 [DBG] 'ShrtLyContext' disposed.
2023-07-31 00:13:13.193 +03:00 [DBG] Disposing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:13:13.194 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2023-07-31 00:13:13.255 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-07-31 00:13:46.893 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-07-31 00:13:47.304 +03:00 [DBG] Entity Framework Core 7.0.9 initialized 'ShrtLyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.9' with options: MigrationsAssembly=ShrtLy.Infrastructure 
2023-07-31 00:13:47.314 +03:00 [DBG] Creating DbConnection.
2023-07-31 00:13:47.366 +03:00 [DBG] Created DbConnection. (49ms).
2023-07-31 00:13:47.372 +03:00 [DBG] Migrating using database 'Shrtly' on server 'localhost'.
2023-07-31 00:13:47.377 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:13:47.586 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:13:47.594 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-07-31 00:13:47.601 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (6ms).
2023-07-31 00:13:47.604 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (11ms).
2023-07-31 00:13:47.611 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-07-31 00:13:47.633 +03:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-07-31 00:13:47.638 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:13:47.646 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (5ms).
2023-07-31 00:13:47.650 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-31 00:13:47.651 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-07-31 00:13:47.652 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (2ms).
2023-07-31 00:13:47.653 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:13:47.654 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:13:47.656 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-07-31 00:13:47.670 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-07-31 00:13:47.672 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:13:47.673 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (1ms).
2023-07-31 00:13:47.674 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:13:47.675 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:13:47.676 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-07-31 00:13:47.677 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2023-07-31 00:13:47.678 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2023-07-31 00:13:47.681 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-07-31 00:13:47.686 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-07-31 00:13:47.687 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:13:47.688 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (1ms).
2023-07-31 00:13:47.690 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-31 00:13:47.693 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (2ms).
2023-07-31 00:13:47.694 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (3ms).
2023-07-31 00:13:47.695 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:13:47.696 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:13:47.697 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-07-31 00:13:47.700 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-07-31 00:13:47.702 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:13:47.706 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (3ms).
2023-07-31 00:13:47.729 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-31 00:13:47.730 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-07-31 00:13:47.731 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2023-07-31 00:13:47.732 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:13:47.733 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:13:47.735 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-07-31 00:13:47.738 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-07-31 00:13:47.744 +03:00 [DBG] Closing data reader to 'Shrtly' on server 'localhost'.
2023-07-31 00:13:47.745 +03:00 [DBG] A data reader for 'Shrtly' on server 'localhost' is being disposed after spending 2ms reading results.
2023-07-31 00:13:47.747 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:13:47.747 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (0ms).
2023-07-31 00:13:47.759 +03:00 [INF] No migrations were applied. The database is already up to date.
2023-07-31 00:13:47.761 +03:00 [DBG] 'ShrtLyContext' disposed.
2023-07-31 00:13:47.764 +03:00 [DBG] Disposing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:13:47.766 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2023-07-31 00:13:47.822 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-07-31 00:14:25.171 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-07-31 00:14:25.589 +03:00 [DBG] Entity Framework Core 7.0.9 initialized 'ShrtLyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.9' with options: MigrationsAssembly=ShrtLy.Infrastructure 
2023-07-31 00:14:25.598 +03:00 [DBG] Creating DbConnection.
2023-07-31 00:14:25.651 +03:00 [DBG] Created DbConnection. (49ms).
2023-07-31 00:14:25.657 +03:00 [DBG] Migrating using database 'Shrtly' on server 'localhost'.
2023-07-31 00:14:25.663 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:14:25.874 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:14:25.881 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-07-31 00:14:25.888 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (5ms).
2023-07-31 00:14:25.892 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (11ms).
2023-07-31 00:14:25.899 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-07-31 00:14:25.921 +03:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-07-31 00:14:25.926 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:14:25.935 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (5ms).
2023-07-31 00:14:25.939 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-31 00:14:25.940 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-07-31 00:14:25.941 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (2ms).
2023-07-31 00:14:25.942 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:14:25.944 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:14:25.945 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-07-31 00:14:25.959 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-07-31 00:14:25.961 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:14:25.962 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (1ms).
2023-07-31 00:14:25.964 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:14:25.965 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:14:25.966 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-07-31 00:14:25.967 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2023-07-31 00:14:25.969 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (3ms).
2023-07-31 00:14:25.971 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-07-31 00:14:25.976 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-07-31 00:14:25.977 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:14:25.979 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (2ms).
2023-07-31 00:14:25.981 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-31 00:14:25.983 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (2ms).
2023-07-31 00:14:25.984 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (3ms).
2023-07-31 00:14:25.985 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:14:25.986 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:14:25.987 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-07-31 00:14:25.990 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-07-31 00:14:25.994 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:14:25.995 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (1ms).
2023-07-31 00:14:26.017 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-31 00:14:26.018 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-07-31 00:14:26.019 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-07-31 00:14:26.020 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:14:26.021 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:14:26.022 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-07-31 00:14:26.026 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-07-31 00:14:26.033 +03:00 [DBG] Closing data reader to 'Shrtly' on server 'localhost'.
2023-07-31 00:14:26.035 +03:00 [DBG] A data reader for 'Shrtly' on server 'localhost' is being disposed after spending 3ms reading results.
2023-07-31 00:14:26.038 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:14:26.038 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (0ms).
2023-07-31 00:14:26.051 +03:00 [INF] No migrations were applied. The database is already up to date.
2023-07-31 00:14:26.053 +03:00 [DBG] 'ShrtLyContext' disposed.
2023-07-31 00:14:26.055 +03:00 [DBG] Disposing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:14:26.057 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2023-07-31 00:14:26.116 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-07-31 00:15:19.153 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-07-31 00:15:19.577 +03:00 [DBG] Entity Framework Core 7.0.9 initialized 'ShrtLyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.9' with options: MigrationsAssembly=ShrtLy.Infrastructure 
2023-07-31 00:15:19.586 +03:00 [DBG] Creating DbConnection.
2023-07-31 00:15:19.640 +03:00 [DBG] Created DbConnection. (50ms).
2023-07-31 00:15:19.646 +03:00 [DBG] Migrating using database 'Shrtly' on server 'localhost'.
2023-07-31 00:15:19.653 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:15:19.872 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:15:19.879 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-07-31 00:15:19.885 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (5ms).
2023-07-31 00:15:19.889 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (12ms).
2023-07-31 00:15:19.896 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-07-31 00:15:19.919 +03:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-07-31 00:15:19.924 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:15:19.933 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (5ms).
2023-07-31 00:15:19.937 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-31 00:15:19.938 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-07-31 00:15:19.939 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2023-07-31 00:15:19.939 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:15:19.941 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:15:19.942 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-07-31 00:15:19.955 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-07-31 00:15:19.957 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:15:19.958 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (0ms).
2023-07-31 00:15:19.959 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:15:19.960 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:15:19.961 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-07-31 00:15:19.964 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2023-07-31 00:15:19.966 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (4ms).
2023-07-31 00:15:19.970 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-07-31 00:15:19.972 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-07-31 00:15:19.974 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:15:19.976 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (2ms).
2023-07-31 00:15:19.977 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-31 00:15:19.980 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (2ms).
2023-07-31 00:15:19.981 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (3ms).
2023-07-31 00:15:19.982 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:15:19.983 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:15:19.984 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-07-31 00:15:19.987 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-07-31 00:15:19.990 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:15:19.991 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (1ms).
2023-07-31 00:15:20.013 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-31 00:15:20.014 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-07-31 00:15:20.015 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-07-31 00:15:20.016 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:15:20.017 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:15:20.018 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-07-31 00:15:20.022 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-07-31 00:15:20.030 +03:00 [DBG] Closing data reader to 'Shrtly' on server 'localhost'.
2023-07-31 00:15:20.031 +03:00 [DBG] A data reader for 'Shrtly' on server 'localhost' is being disposed after spending 3ms reading results.
2023-07-31 00:15:20.033 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:15:20.034 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (0ms).
2023-07-31 00:15:20.047 +03:00 [INF] No migrations were applied. The database is already up to date.
2023-07-31 00:15:20.049 +03:00 [DBG] 'ShrtLyContext' disposed.
2023-07-31 00:15:20.051 +03:00 [DBG] Disposing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:15:20.053 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2023-07-31 00:15:20.109 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-07-31 00:19:04.529 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-07-31 00:19:04.992 +03:00 [DBG] Entity Framework Core 7.0.9 initialized 'ShrtLyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.9' with options: MigrationsAssembly=ShrtLy.Infrastructure 
2023-07-31 00:19:05.003 +03:00 [DBG] Creating DbConnection.
2023-07-31 00:19:05.060 +03:00 [DBG] Created DbConnection. (54ms).
2023-07-31 00:19:05.065 +03:00 [DBG] Migrating using database 'Shrtly' on server 'localhost'.
2023-07-31 00:19:05.071 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:19:05.293 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:19:05.300 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-07-31 00:19:05.307 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (6ms).
2023-07-31 00:19:05.310 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (11ms).
2023-07-31 00:19:05.316 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-07-31 00:19:05.338 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-07-31 00:19:05.342 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:19:05.350 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (4ms).
2023-07-31 00:19:05.353 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-31 00:19:05.354 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-07-31 00:19:05.355 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2023-07-31 00:19:05.356 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:19:05.357 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:19:05.358 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-07-31 00:19:05.372 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-07-31 00:19:05.373 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:19:05.374 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (1ms).
2023-07-31 00:19:05.375 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:19:05.376 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:19:05.377 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-07-31 00:19:05.378 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-07-31 00:19:05.379 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2023-07-31 00:19:05.380 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-07-31 00:19:05.383 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-07-31 00:19:05.386 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:19:05.389 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (3ms).
2023-07-31 00:19:05.391 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-31 00:19:05.392 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-07-31 00:19:05.392 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2023-07-31 00:19:05.395 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:19:05.396 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:19:05.399 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-07-31 00:19:05.401 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-07-31 00:19:05.402 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:19:05.404 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (2ms).
2023-07-31 00:19:05.427 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-31 00:19:05.428 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-07-31 00:19:05.430 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2023-07-31 00:19:05.431 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:19:05.432 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:19:05.434 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-07-31 00:19:05.437 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-07-31 00:19:05.444 +03:00 [DBG] Closing data reader to 'Shrtly' on server 'localhost'.
2023-07-31 00:19:05.446 +03:00 [DBG] A data reader for 'Shrtly' on server 'localhost' is being disposed after spending 2ms reading results.
2023-07-31 00:19:05.448 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:19:05.448 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (0ms).
2023-07-31 00:19:05.461 +03:00 [INF] No migrations were applied. The database is already up to date.
2023-07-31 00:19:05.462 +03:00 [DBG] 'ShrtLyContext' disposed.
2023-07-31 00:19:05.464 +03:00 [DBG] Disposing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:19:05.467 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2023-07-31 00:19:05.530 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-07-31 00:19:05.597 +03:00 [DBG] Hosting starting
2023-07-31 00:19:05.707 +03:00 [INF] Now listening on: https://localhost:5001
2023-07-31 00:19:05.708 +03:00 [INF] Now listening on: http://localhost:5000
2023-07-31 00:19:05.710 +03:00 [DBG] Loaded hosting startup assembly ShrtLy.Api
2023-07-31 00:19:05.711 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-07-31 00:19:05.712 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-07-31 00:19:05.713 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-07-31 00:19:05.714 +03:00 [INF] Hosting environment: Development
2023-07-31 00:19:05.715 +03:00 [INF] Content root path: D:\PROJECTS\KeyIvr\shrtly-kata\src\ShrtLy.Api
2023-07-31 00:19:05.715 +03:00 [DBG] Hosting started
2023-07-31 00:19:06.020 +03:00 [DBG] Connection id "0HMSH8ADILF6S" received FIN.
2023-07-31 00:19:06.020 +03:00 [DBG] Connection id "0HMSH8ADILF6T" received FIN.
2023-07-31 00:19:06.028 +03:00 [DBG] Connection id "0HMSH8ADILF6S" accepted.
2023-07-31 00:19:06.028 +03:00 [DBG] Connection id "0HMSH8ADILF6T" accepted.
2023-07-31 00:19:06.042 +03:00 [DBG] Connection id "0HMSH8ADILF6S" started.
2023-07-31 00:19:06.042 +03:00 [DBG] Connection id "0HMSH8ADILF6T" started.
2023-07-31 00:19:06.062 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-07-31 00:19:06.062 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-07-31 00:19:06.088 +03:00 [DBG] Connection id "0HMSH8ADILF6S" stopped.
2023-07-31 00:19:06.092 +03:00 [DBG] Connection id "0HMSH8ADILF6T" stopped.
2023-07-31 00:19:06.095 +03:00 [DBG] Connection id "0HMSH8ADILF6S" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-07-31 00:19:06.095 +03:00 [DBG] Connection id "0HMSH8ADILF6T" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-07-31 00:19:06.652 +03:00 [DBG] Connection id "0HMSH8ADILF6U" accepted.
2023-07-31 00:19:06.656 +03:00 [DBG] Connection id "0HMSH8ADILF6U" started.
2023-07-31 00:19:06.741 +03:00 [DBG] Connection 0HMSH8ADILF6U established using the following protocol: "Tls12"
2023-07-31 00:19:06.922 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2023-07-31 00:19:06.967 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-07-31 00:19:07.089 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-07-31 00:19:07.208 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-07-31 00:19:07.226 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 309.6785ms
2023-07-31 00:19:07.344 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - -
2023-07-31 00:19:07.344 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - -
2023-07-31 00:19:07.381 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - - - 200 12352 application/javascript;+charset=utf-8 37.2249ms
2023-07-31 00:19:07.423 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 79.2430ms
2023-07-31 00:19:07.627 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2023-07-31 00:19:07.802 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 174.5795ms
2023-07-31 00:19:12.094 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Links/all - -
2023-07-31 00:19:12.098 +03:00 [DBG] The request path  does not match the path filter
2023-07-31 00:19:12.119 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Links/all'
2023-07-31 00:19:12.124 +03:00 [DBG] Endpoint 'ShrtLy.Api.Controllers.LinksController.GetShortLinks (ShrtLy.Api)' with route pattern 'api/Links/all' is valid for the request path '/api/Links/all'
2023-07-31 00:19:12.126 +03:00 [DBG] Request matched endpoint 'ShrtLy.Api.Controllers.LinksController.GetShortLinks (ShrtLy.Api)'
2023-07-31 00:19:12.129 +03:00 [INF] Executing endpoint 'ShrtLy.Api.Controllers.LinksController.GetShortLinks (ShrtLy.Api)'
2023-07-31 00:19:12.153 +03:00 [INF] Route matched with {action = "GetShortLinks", controller = "Links"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetShortLinks(ShrtLy.Application.DTOs.PaginationDto) on controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api).
2023-07-31 00:19:12.157 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-31 00:19:12.158 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-31 00:19:12.159 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-31 00:19:12.161 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-31 00:19:12.162 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-31 00:19:12.166 +03:00 [DBG] Executing controller factory for controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api)
2023-07-31 00:19:12.170 +03:00 [DBG] Executed controller factory for controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api)
2023-07-31 00:19:12.180 +03:00 [DBG] Attempting to bind parameter 'pagination' of type 'ShrtLy.Application.DTOs.PaginationDto' ...
2023-07-31 00:19:12.183 +03:00 [DBG] Attempting to bind parameter 'pagination' of type 'ShrtLy.Application.DTOs.PaginationDto' using the name '' in request data ...
2023-07-31 00:19:12.190 +03:00 [DBG] Attempting to bind property 'ShrtLy.Application.DTOs.PaginationDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2023-07-31 00:19:12.193 +03:00 [DBG] Could not find a value in the request with name 'Page' for binding property 'ShrtLy.Application.DTOs.PaginationDto.Page' of type 'System.Int32'.
2023-07-31 00:19:12.199 +03:00 [DBG] Done attempting to bind property 'ShrtLy.Application.DTOs.PaginationDto.Page' of type 'System.Int32'.
2023-07-31 00:19:12.203 +03:00 [DBG] Attempting to bind property 'ShrtLy.Application.DTOs.PaginationDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2023-07-31 00:19:12.205 +03:00 [DBG] Could not find a value in the request with name 'PageSize' for binding property 'ShrtLy.Application.DTOs.PaginationDto.PageSize' of type 'System.Int32'.
2023-07-31 00:19:12.206 +03:00 [DBG] Done attempting to bind property 'ShrtLy.Application.DTOs.PaginationDto.PageSize' of type 'System.Int32'.
2023-07-31 00:19:12.208 +03:00 [DBG] Done attempting to bind parameter 'pagination' of type 'ShrtLy.Application.DTOs.PaginationDto'.
2023-07-31 00:19:12.211 +03:00 [DBG] Done attempting to bind parameter 'pagination' of type 'ShrtLy.Application.DTOs.PaginationDto'.
2023-07-31 00:19:12.212 +03:00 [DBG] Attempting to validate the bound parameter 'pagination' of type 'ShrtLy.Application.DTOs.PaginationDto' ...
2023-07-31 00:19:12.218 +03:00 [DBG] Done attempting to validate the bound parameter 'pagination' of type 'ShrtLy.Application.DTOs.PaginationDto'.
2023-07-31 00:19:12.264 +03:00 [DBG] Entity Framework Core 7.0.9 initialized 'ShrtLyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.9' with options: MigrationsAssembly=ShrtLy.Infrastructure 
2023-07-31 00:19:12.304 +03:00 [DBG] Compiling query expression: 
'DbSet<LinkEntity>()
    .Count()'
2023-07-31 00:19:12.445 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: new SingleQueryingEnumerable<int>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Links AS l), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
        ShrtLy.Infrastructure.ShrtLyContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-07-31 00:19:12.477 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-31 00:19:12.479 +03:00 [DBG] Creating DbConnection.
2023-07-31 00:19:12.480 +03:00 [DBG] Created DbConnection. (1ms).
2023-07-31 00:19:12.481 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-07-31 00:19:12.482 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2023-07-31 00:19:12.485 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:19:12.488 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:19:12.489 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Links] AS [l]
2023-07-31 00:19:12.510 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Links] AS [l]
2023-07-31 00:19:12.525 +03:00 [DBG] Closing data reader to 'Shrtly' on server 'localhost'.
2023-07-31 00:19:12.526 +03:00 [DBG] A data reader for 'Shrtly' on server 'localhost' is being disposed after spending 12ms reading results.
2023-07-31 00:19:12.533 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:19:12.534 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (1ms).
2023-07-31 00:19:12.546 +03:00 [DBG] Compiling query expression: 
'DbSet<LinkEntity>()
    .Skip(__p_0)
    .Take(__p_1)
    .AsNoTracking()'
2023-07-31 00:19:12.556 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2023-07-31 00:19:12.557 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2023-07-31 00:19:12.586 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<LinkEntity>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: LinkEntity.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: LinkEntity.ShortUrl (string) Required, 1], [Property: LinkEntity.Url (string) Required, 2] }
        SELECT l.Id, l.ShortUrl, l.Url
        FROM Links AS l
        ORDER BY (SELECT 1)
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, LinkEntity>, 
    ShrtLy.Infrastructure.ShrtLyContext, 
    False, 
    False, 
    True
)'
2023-07-31 00:19:12.597 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-31 00:19:12.599 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-07-31 00:19:12.603 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2023-07-31 00:19:12.604 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:19:12.606 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:19:12.610 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[ShortUrl], [l].[Url]
FROM [Links] AS [l]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2023-07-31 00:19:12.637 +03:00 [INF] Executed DbCommand (31ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[ShortUrl], [l].[Url]
FROM [Links] AS [l]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2023-07-31 00:19:12.644 +03:00 [DBG] Closing data reader to 'Shrtly' on server 'localhost'.
2023-07-31 00:19:12.646 +03:00 [DBG] A data reader for 'Shrtly' on server 'localhost' is being disposed after spending 5ms reading results.
2023-07-31 00:19:12.649 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:19:12.650 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (1ms).
2023-07-31 00:19:12.663 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-07-31 00:19:12.669 +03:00 [DBG] No information found on request to perform content negotiation.
2023-07-31 00:19:12.670 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-31 00:19:12.672 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-31 00:19:12.675 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-31 00:19:12.678 +03:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`7[[Shrtly.Common.PaginatedList`1[[ShrtLy.Application.DTOs.LinkDto, ShrtLy.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], Shrtly.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-07-31 00:19:12.709 +03:00 [INF] Executed action ShrtLy.Api.Controllers.LinksController.GetShortLinks (ShrtLy.Api) in 541.4ms
2023-07-31 00:19:12.712 +03:00 [INF] Executed endpoint 'ShrtLy.Api.Controllers.LinksController.GetShortLinks (ShrtLy.Api)'
2023-07-31 00:19:12.715 +03:00 [DBG] 'ShrtLyContext' disposed.
2023-07-31 00:19:12.718 +03:00 [DBG] Disposing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:19:12.720 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2023-07-31 00:19:12.722 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Links/all - - - 200 - application/json;+charset=utf-8 627.0851ms
2023-07-31 00:19:18.472 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/bfcd9w - -
2023-07-31 00:19:18.473 +03:00 [DBG] The request path  does not match the path filter
2023-07-31 00:19:18.475 +03:00 [DBG] 1 candidate(s) found for the request path '/bfcd9w'
2023-07-31 00:19:18.476 +03:00 [DBG] Endpoint 'ShrtLy.Api.Controllers.LinksController.NixRedirectAsync (ShrtLy.Api)' with route pattern '{url}' is valid for the request path '/bfcd9w'
2023-07-31 00:19:18.479 +03:00 [DBG] Request matched endpoint 'ShrtLy.Api.Controllers.LinksController.NixRedirectAsync (ShrtLy.Api)'
2023-07-31 00:19:18.481 +03:00 [INF] Executing endpoint 'ShrtLy.Api.Controllers.LinksController.NixRedirectAsync (ShrtLy.Api)'
2023-07-31 00:19:18.487 +03:00 [INF] Route matched with {action = "NixRedirect", controller = "Links"}. Executing controller action with signature System.Net.Http.HttpResponseMessage NixRedirectAsync(System.String) on controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api).
2023-07-31 00:19:18.493 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-31 00:19:18.495 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-31 00:19:18.498 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-31 00:19:18.502 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-31 00:19:18.503 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-31 00:19:18.508 +03:00 [DBG] Executing controller factory for controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api)
2023-07-31 00:19:18.514 +03:00 [DBG] Executed controller factory for controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api)
2023-07-31 00:19:18.517 +03:00 [DBG] Attempting to bind parameter 'url' of type 'System.String' ...
2023-07-31 00:19:18.518 +03:00 [DBG] Attempting to bind parameter 'url' of type 'System.String' using the name 'url' in request data ...
2023-07-31 00:19:18.520 +03:00 [DBG] Done attempting to bind parameter 'url' of type 'System.String'.
2023-07-31 00:19:18.522 +03:00 [DBG] Done attempting to bind parameter 'url' of type 'System.String'.
2023-07-31 00:19:18.523 +03:00 [DBG] Attempting to validate the bound parameter 'url' of type 'System.String' ...
2023-07-31 00:19:18.527 +03:00 [DBG] Done attempting to validate the bound parameter 'url' of type 'System.String'.
2023-07-31 00:19:18.583 +03:00 [DBG] Entity Framework Core 7.0.9 initialized 'ShrtLyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.9' with options: MigrationsAssembly=ShrtLy.Infrastructure 
2023-07-31 00:19:18.593 +03:00 [DBG] Compiling query expression: 
'DbSet<LinkEntity>()
    .Where(l => l.ShortUrl == __url_0)
    .Select(l => l.Url)
    .Single()'
2023-07-31 00:19:18.624 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<string>(
    asyncEnumerable: new SingleQueryingEnumerable<string>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT TOP(2) l.Url
            FROM Links AS l
            WHERE l.ShortUrl == @__url_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
        ShrtLy.Infrastructure.ShrtLyContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-07-31 00:19:18.638 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-31 00:19:18.639 +03:00 [DBG] Creating DbConnection.
2023-07-31 00:19:18.639 +03:00 [DBG] Created DbConnection. (0ms).
2023-07-31 00:19:18.640 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-07-31 00:19:18.642 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2023-07-31 00:19:18.642 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:19:18.643 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:19:18.646 +03:00 [DBG] Executing DbCommand [Parameters=[@__url_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [l].[Url]
FROM [Links] AS [l]
WHERE [l].[ShortUrl] = @__url_0
2023-07-31 00:23:42.903 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-07-31 00:23:43.333 +03:00 [DBG] Entity Framework Core 7.0.9 initialized 'ShrtLyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.9' with options: MigrationsAssembly=ShrtLy.Infrastructure 
2023-07-31 00:23:43.342 +03:00 [DBG] Creating DbConnection.
2023-07-31 00:23:43.394 +03:00 [DBG] Created DbConnection. (49ms).
2023-07-31 00:23:43.400 +03:00 [DBG] Migrating using database 'Shrtly' on server 'localhost'.
2023-07-31 00:23:43.406 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:23:43.619 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:23:43.625 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-07-31 00:23:43.632 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (5ms).
2023-07-31 00:23:43.635 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (11ms).
2023-07-31 00:23:43.642 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-07-31 00:23:43.664 +03:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-07-31 00:23:43.668 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:23:43.676 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (4ms).
2023-07-31 00:23:43.680 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-31 00:23:43.681 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2023-07-31 00:23:43.682 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2023-07-31 00:23:43.683 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:23:43.685 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:23:43.686 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-07-31 00:23:43.700 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-07-31 00:23:43.702 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:23:43.703 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (1ms).
2023-07-31 00:23:43.704 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:23:43.705 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:23:43.706 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-07-31 00:23:43.708 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2023-07-31 00:23:43.711 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (4ms).
2023-07-31 00:23:43.712 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-07-31 00:23:43.717 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-07-31 00:23:43.718 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:23:43.719 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (1ms).
2023-07-31 00:23:43.721 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-31 00:23:43.722 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-07-31 00:23:43.725 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (3ms).
2023-07-31 00:23:43.726 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:23:43.727 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:23:43.728 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-07-31 00:23:43.731 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-07-31 00:23:43.734 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:23:43.736 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (1ms).
2023-07-31 00:23:43.757 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-31 00:23:43.758 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-07-31 00:23:43.759 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2023-07-31 00:23:43.760 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:23:43.761 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:23:43.763 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-07-31 00:23:43.766 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-07-31 00:23:43.773 +03:00 [DBG] Closing data reader to 'Shrtly' on server 'localhost'.
2023-07-31 00:23:43.775 +03:00 [DBG] A data reader for 'Shrtly' on server 'localhost' is being disposed after spending 3ms reading results.
2023-07-31 00:23:43.777 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:23:43.778 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (0ms).
2023-07-31 00:23:43.791 +03:00 [INF] No migrations were applied. The database is already up to date.
2023-07-31 00:23:43.794 +03:00 [DBG] 'ShrtLyContext' disposed.
2023-07-31 00:23:43.796 +03:00 [DBG] Disposing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:23:43.798 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2023-07-31 00:23:43.854 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-07-31 00:23:43.912 +03:00 [DBG] Hosting starting
2023-07-31 00:23:44.021 +03:00 [INF] Now listening on: https://localhost:5001
2023-07-31 00:23:44.022 +03:00 [INF] Now listening on: http://localhost:5000
2023-07-31 00:23:44.024 +03:00 [DBG] Loaded hosting startup assembly ShrtLy.Api
2023-07-31 00:23:44.024 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-07-31 00:23:44.026 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-07-31 00:23:44.027 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-07-31 00:23:44.028 +03:00 [INF] Hosting environment: Development
2023-07-31 00:23:44.029 +03:00 [INF] Content root path: D:\PROJECTS\KeyIvr\shrtly-kata\src\ShrtLy.Api
2023-07-31 00:23:44.029 +03:00 [DBG] Hosting started
2023-07-31 00:23:44.340 +03:00 [DBG] Connection id "0HMSH8D0GU4IG" accepted.
2023-07-31 00:23:44.340 +03:00 [DBG] Connection id "0HMSH8D0GU4IF" accepted.
2023-07-31 00:23:44.347 +03:00 [DBG] Connection id "0HMSH8D0GU4IG" started.
2023-07-31 00:23:44.347 +03:00 [DBG] Connection id "0HMSH8D0GU4IF" started.
2023-07-31 00:23:44.357 +03:00 [DBG] Connection id "0HMSH8D0GU4IG" received FIN.
2023-07-31 00:23:44.357 +03:00 [DBG] Connection id "0HMSH8D0GU4IF" received FIN.
2023-07-31 00:23:44.364 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-07-31 00:23:44.364 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-07-31 00:23:44.389 +03:00 [DBG] Connection id "0HMSH8D0GU4IG" stopped.
2023-07-31 00:23:44.389 +03:00 [DBG] Connection id "0HMSH8D0GU4IF" stopped.
2023-07-31 00:23:44.392 +03:00 [DBG] Connection id "0HMSH8D0GU4IF" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-07-31 00:23:44.392 +03:00 [DBG] Connection id "0HMSH8D0GU4IG" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-07-31 00:23:47.351 +03:00 [DBG] Connection id "0HMSH8D0GU4IH" accepted.
2023-07-31 00:23:47.353 +03:00 [DBG] Connection id "0HMSH8D0GU4IH" started.
2023-07-31 00:23:47.405 +03:00 [DBG] Connection 0HMSH8D0GU4IH established using the following protocol: "Tls12"
2023-07-31 00:23:47.505 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2023-07-31 00:23:47.531 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-07-31 00:23:47.660 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-07-31 00:23:47.794 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-07-31 00:23:47.801 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 297.2276ms
2023-07-31 00:23:47.882 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - -
2023-07-31 00:23:47.882 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - -
2023-07-31 00:23:47.901 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - - - 200 12352 application/javascript;+charset=utf-8 18.4878ms
2023-07-31 00:23:47.929 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 46.4463ms
2023-07-31 00:23:48.057 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2023-07-31 00:23:48.222 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 165.0276ms
2023-07-31 00:23:53.541 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Links/all - -
2023-07-31 00:23:53.545 +03:00 [DBG] The request path  does not match the path filter
2023-07-31 00:23:53.567 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Links/all'
2023-07-31 00:23:53.571 +03:00 [DBG] Endpoint 'ShrtLy.Api.Controllers.LinksController.GetShortLinks (ShrtLy.Api)' with route pattern 'api/Links/all' is valid for the request path '/api/Links/all'
2023-07-31 00:23:53.573 +03:00 [DBG] Request matched endpoint 'ShrtLy.Api.Controllers.LinksController.GetShortLinks (ShrtLy.Api)'
2023-07-31 00:23:53.577 +03:00 [INF] Executing endpoint 'ShrtLy.Api.Controllers.LinksController.GetShortLinks (ShrtLy.Api)'
2023-07-31 00:23:53.601 +03:00 [INF] Route matched with {action = "GetShortLinks", controller = "Links"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetShortLinks(ShrtLy.Application.DTOs.PaginationDto) on controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api).
2023-07-31 00:23:53.606 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-31 00:23:53.607 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-31 00:23:53.608 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-31 00:23:53.612 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-31 00:23:53.613 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-31 00:23:53.618 +03:00 [DBG] Executing controller factory for controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api)
2023-07-31 00:23:53.620 +03:00 [DBG] Executed controller factory for controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api)
2023-07-31 00:23:53.633 +03:00 [DBG] Attempting to bind parameter 'pagination' of type 'ShrtLy.Application.DTOs.PaginationDto' ...
2023-07-31 00:23:53.636 +03:00 [DBG] Attempting to bind parameter 'pagination' of type 'ShrtLy.Application.DTOs.PaginationDto' using the name '' in request data ...
2023-07-31 00:23:53.645 +03:00 [DBG] Attempting to bind property 'ShrtLy.Application.DTOs.PaginationDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2023-07-31 00:23:53.647 +03:00 [DBG] Could not find a value in the request with name 'Page' for binding property 'ShrtLy.Application.DTOs.PaginationDto.Page' of type 'System.Int32'.
2023-07-31 00:23:53.648 +03:00 [DBG] Done attempting to bind property 'ShrtLy.Application.DTOs.PaginationDto.Page' of type 'System.Int32'.
2023-07-31 00:23:53.651 +03:00 [DBG] Attempting to bind property 'ShrtLy.Application.DTOs.PaginationDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2023-07-31 00:23:53.653 +03:00 [DBG] Could not find a value in the request with name 'PageSize' for binding property 'ShrtLy.Application.DTOs.PaginationDto.PageSize' of type 'System.Int32'.
2023-07-31 00:23:53.658 +03:00 [DBG] Done attempting to bind property 'ShrtLy.Application.DTOs.PaginationDto.PageSize' of type 'System.Int32'.
2023-07-31 00:23:53.660 +03:00 [DBG] Done attempting to bind parameter 'pagination' of type 'ShrtLy.Application.DTOs.PaginationDto'.
2023-07-31 00:23:53.661 +03:00 [DBG] Done attempting to bind parameter 'pagination' of type 'ShrtLy.Application.DTOs.PaginationDto'.
2023-07-31 00:23:53.662 +03:00 [DBG] Attempting to validate the bound parameter 'pagination' of type 'ShrtLy.Application.DTOs.PaginationDto' ...
2023-07-31 00:23:53.669 +03:00 [DBG] Done attempting to validate the bound parameter 'pagination' of type 'ShrtLy.Application.DTOs.PaginationDto'.
2023-07-31 00:23:53.718 +03:00 [DBG] Entity Framework Core 7.0.9 initialized 'ShrtLyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.9' with options: MigrationsAssembly=ShrtLy.Infrastructure 
2023-07-31 00:23:53.757 +03:00 [DBG] Compiling query expression: 
'DbSet<LinkEntity>()
    .Count()'
2023-07-31 00:23:53.902 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: new SingleQueryingEnumerable<int>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Links AS l), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
        ShrtLy.Infrastructure.ShrtLyContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-07-31 00:23:53.935 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-31 00:23:53.937 +03:00 [DBG] Creating DbConnection.
2023-07-31 00:23:53.938 +03:00 [DBG] Created DbConnection. (1ms).
2023-07-31 00:23:53.939 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-07-31 00:23:53.940 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2023-07-31 00:23:53.943 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:23:53.947 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:23:53.949 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Links] AS [l]
2023-07-31 00:23:53.966 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Links] AS [l]
2023-07-31 00:23:53.980 +03:00 [DBG] Closing data reader to 'Shrtly' on server 'localhost'.
2023-07-31 00:23:53.981 +03:00 [DBG] A data reader for 'Shrtly' on server 'localhost' is being disposed after spending 12ms reading results.
2023-07-31 00:23:53.984 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:23:53.986 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (2ms).
2023-07-31 00:23:53.997 +03:00 [DBG] Compiling query expression: 
'DbSet<LinkEntity>()
    .Skip(__p_0)
    .Take(__p_1)
    .AsNoTracking()'
2023-07-31 00:23:54.010 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2023-07-31 00:23:54.011 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2023-07-31 00:23:54.040 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<LinkEntity>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: LinkEntity.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: LinkEntity.ShortUrl (string) Required, 1], [Property: LinkEntity.Url (string) Required, 2] }
        SELECT l.Id, l.ShortUrl, l.Url
        FROM Links AS l
        ORDER BY (SELECT 1)
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, LinkEntity>, 
    ShrtLy.Infrastructure.ShrtLyContext, 
    False, 
    False, 
    True
)'
2023-07-31 00:23:54.051 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-31 00:23:54.052 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-07-31 00:23:54.058 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2023-07-31 00:23:54.058 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:23:54.060 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:23:54.065 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[ShortUrl], [l].[Url]
FROM [Links] AS [l]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2023-07-31 00:23:54.087 +03:00 [INF] Executed DbCommand (25ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[ShortUrl], [l].[Url]
FROM [Links] AS [l]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2023-07-31 00:23:54.094 +03:00 [DBG] Closing data reader to 'Shrtly' on server 'localhost'.
2023-07-31 00:23:54.095 +03:00 [DBG] A data reader for 'Shrtly' on server 'localhost' is being disposed after spending 4ms reading results.
2023-07-31 00:23:54.098 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:23:54.098 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (0ms).
2023-07-31 00:23:54.113 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-07-31 00:23:54.118 +03:00 [DBG] No information found on request to perform content negotiation.
2023-07-31 00:23:54.121 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-31 00:23:54.122 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-31 00:23:54.124 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-31 00:23:54.127 +03:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`7[[Shrtly.Common.PaginatedList`1[[ShrtLy.Application.DTOs.LinkDto, ShrtLy.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], Shrtly.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-07-31 00:23:54.151 +03:00 [INF] Executed action ShrtLy.Api.Controllers.LinksController.GetShortLinks (ShrtLy.Api) in 531.3763ms
2023-07-31 00:23:54.154 +03:00 [INF] Executed endpoint 'ShrtLy.Api.Controllers.LinksController.GetShortLinks (ShrtLy.Api)'
2023-07-31 00:23:54.155 +03:00 [DBG] 'ShrtLyContext' disposed.
2023-07-31 00:23:54.158 +03:00 [DBG] Disposing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:23:54.159 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2023-07-31 00:23:54.160 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Links/all - - - 200 - application/json;+charset=utf-8 619.1735ms
2023-07-31 00:24:01.454 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/aEIuSbO - -
2023-07-31 00:24:01.455 +03:00 [DBG] The request path  does not match the path filter
2023-07-31 00:24:01.456 +03:00 [DBG] 1 candidate(s) found for the request path '/aEIuSbO'
2023-07-31 00:24:01.461 +03:00 [DBG] Endpoint 'ShrtLy.Api.Controllers.LinksController.NixRedirectAsync (ShrtLy.Api)' with route pattern '{url}' is valid for the request path '/aEIuSbO'
2023-07-31 00:24:01.471 +03:00 [DBG] Request matched endpoint 'ShrtLy.Api.Controllers.LinksController.NixRedirectAsync (ShrtLy.Api)'
2023-07-31 00:24:01.483 +03:00 [INF] Executing endpoint 'ShrtLy.Api.Controllers.LinksController.NixRedirectAsync (ShrtLy.Api)'
2023-07-31 00:24:01.492 +03:00 [INF] Route matched with {action = "NixRedirect", controller = "Links"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Net.Http.HttpResponseMessage] NixRedirectAsync(System.String) on controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api).
2023-07-31 00:24:01.497 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-31 00:24:01.499 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-31 00:24:01.503 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-31 00:24:01.505 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-31 00:24:01.506 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-31 00:24:01.510 +03:00 [DBG] Executing controller factory for controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api)
2023-07-31 00:24:01.514 +03:00 [DBG] Executed controller factory for controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api)
2023-07-31 00:24:01.515 +03:00 [DBG] Attempting to bind parameter 'url' of type 'System.String' ...
2023-07-31 00:24:01.517 +03:00 [DBG] Attempting to bind parameter 'url' of type 'System.String' using the name 'url' in request data ...
2023-07-31 00:24:01.519 +03:00 [DBG] Done attempting to bind parameter 'url' of type 'System.String'.
2023-07-31 00:24:01.520 +03:00 [DBG] Done attempting to bind parameter 'url' of type 'System.String'.
2023-07-31 00:24:01.523 +03:00 [DBG] Attempting to validate the bound parameter 'url' of type 'System.String' ...
2023-07-31 00:24:01.525 +03:00 [DBG] Done attempting to validate the bound parameter 'url' of type 'System.String'.
2023-07-31 00:24:01.585 +03:00 [DBG] Entity Framework Core 7.0.9 initialized 'ShrtLyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.9' with options: MigrationsAssembly=ShrtLy.Infrastructure 
2023-07-31 00:24:01.593 +03:00 [DBG] Compiling query expression: 
'DbSet<LinkEntity>()
    .Where(l => l.ShortUrl == __url_0)
    .Select(l => l.Url)
    .Single()'
2023-07-31 00:24:01.624 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<string>(
    asyncEnumerable: new SingleQueryingEnumerable<string>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT TOP(2) l.Url
            FROM Links AS l
            WHERE l.ShortUrl == @__url_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
        ShrtLy.Infrastructure.ShrtLyContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-07-31 00:24:01.637 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-31 00:24:01.639 +03:00 [DBG] Creating DbConnection.
2023-07-31 00:24:01.640 +03:00 [DBG] Created DbConnection. (0ms).
2023-07-31 00:24:01.641 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-07-31 00:24:01.643 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2023-07-31 00:24:01.645 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:24:01.648 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:24:01.650 +03:00 [DBG] Executing DbCommand [Parameters=[@__url_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [l].[Url]
FROM [Links] AS [l]
WHERE [l].[ShortUrl] = @__url_0
2023-07-31 00:24:01.656 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__url_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [l].[Url]
FROM [Links] AS [l]
WHERE [l].[ShortUrl] = @__url_0
2023-07-31 00:24:01.660 +03:00 [DBG] Closing data reader to 'Shrtly' on server 'localhost'.
2023-07-31 00:24:01.660 +03:00 [DBG] A data reader for 'Shrtly' on server 'localhost' is being disposed after spending 2ms reading results.
2023-07-31 00:24:01.661 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:24:01.663 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (1ms).
2023-07-31 00:24:01.668 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-07-31 00:24:01.671 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2023-07-31 00:24:01.674 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2023-07-31 00:24:01.675 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-31 00:24:01.678 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-31 00:24:01.678 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-31 00:24:01.680 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Net.Http.HttpResponseMessage'.
2023-07-31 00:24:01.703 +03:00 [INF] Executed action ShrtLy.Api.Controllers.LinksController.NixRedirectAsync (ShrtLy.Api) in 193.7637ms
2023-07-31 00:24:01.705 +03:00 [INF] Executed endpoint 'ShrtLy.Api.Controllers.LinksController.NixRedirectAsync (ShrtLy.Api)'
2023-07-31 00:24:01.706 +03:00 [DBG] 'ShrtLyContext' disposed.
2023-07-31 00:24:01.707 +03:00 [DBG] Disposing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:24:01.708 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2023-07-31 00:24:01.709 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/aEIuSbO - - - 200 - application/json;+charset=utf-8 254.9663ms
2023-07-31 00:26:03.234 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/bfcd9w - -
2023-07-31 00:26:03.240 +03:00 [DBG] The request path /bfcd9w does not match a supported file type
2023-07-31 00:26:03.242 +03:00 [DBG] No candidates found for the request path '/swagger/bfcd9w'
2023-07-31 00:26:03.242 +03:00 [DBG] Request did not match any endpoints
2023-07-31 00:26:03.243 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/bfcd9w - - - 404 0 - 9.2452ms
2023-07-31 00:26:05.364 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - -
2023-07-31 00:26:05.366 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - - - 200 12352 application/javascript;+charset=utf-8 2.2176ms
2023-07-31 00:26:07.987 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/bfcd9w - -
2023-07-31 00:26:07.989 +03:00 [DBG] The request path  does not match the path filter
2023-07-31 00:26:07.990 +03:00 [DBG] 1 candidate(s) found for the request path '/bfcd9w'
2023-07-31 00:26:07.991 +03:00 [DBG] Endpoint 'ShrtLy.Api.Controllers.LinksController.NixRedirectAsync (ShrtLy.Api)' with route pattern '{url}' is valid for the request path '/bfcd9w'
2023-07-31 00:26:07.992 +03:00 [DBG] Request matched endpoint 'ShrtLy.Api.Controllers.LinksController.NixRedirectAsync (ShrtLy.Api)'
2023-07-31 00:26:07.993 +03:00 [INF] Executing endpoint 'ShrtLy.Api.Controllers.LinksController.NixRedirectAsync (ShrtLy.Api)'
2023-07-31 00:26:07.994 +03:00 [INF] Route matched with {action = "NixRedirect", controller = "Links"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Net.Http.HttpResponseMessage] NixRedirectAsync(System.String) on controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api).
2023-07-31 00:26:08.000 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-31 00:26:08.001 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-31 00:26:08.004 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-31 00:26:08.007 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-31 00:26:08.012 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-31 00:26:08.013 +03:00 [DBG] Executing controller factory for controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api)
2023-07-31 00:26:08.014 +03:00 [DBG] Executed controller factory for controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api)
2023-07-31 00:26:08.014 +03:00 [DBG] Attempting to bind parameter 'url' of type 'System.String' ...
2023-07-31 00:26:08.016 +03:00 [DBG] Attempting to bind parameter 'url' of type 'System.String' using the name 'url' in request data ...
2023-07-31 00:26:08.017 +03:00 [DBG] Done attempting to bind parameter 'url' of type 'System.String'.
2023-07-31 00:26:08.019 +03:00 [DBG] Done attempting to bind parameter 'url' of type 'System.String'.
2023-07-31 00:26:08.020 +03:00 [DBG] Attempting to validate the bound parameter 'url' of type 'System.String' ...
2023-07-31 00:26:08.021 +03:00 [DBG] Done attempting to validate the bound parameter 'url' of type 'System.String'.
2023-07-31 00:26:08.024 +03:00 [DBG] Entity Framework Core 7.0.9 initialized 'ShrtLyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.9' with options: MigrationsAssembly=ShrtLy.Infrastructure 
2023-07-31 00:26:08.027 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-31 00:26:08.028 +03:00 [DBG] Creating DbConnection.
2023-07-31 00:26:08.028 +03:00 [DBG] Created DbConnection. (0ms).
2023-07-31 00:26:08.032 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2023-07-31 00:26:08.032 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2023-07-31 00:26:08.033 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:26:08.034 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:26:08.036 +03:00 [DBG] Executing DbCommand [Parameters=[@__url_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [l].[Url]
FROM [Links] AS [l]
WHERE [l].[ShortUrl] = @__url_0
2023-07-31 00:26:08.046 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__url_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [l].[Url]
FROM [Links] AS [l]
WHERE [l].[ShortUrl] = @__url_0
2023-07-31 00:26:08.052 +03:00 [DBG] Closing data reader to 'Shrtly' on server 'localhost'.
2023-07-31 00:26:08.053 +03:00 [DBG] A data reader for 'Shrtly' on server 'localhost' is being disposed after spending 1ms reading results.
2023-07-31 00:26:08.054 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:26:08.059 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (4ms).
2023-07-31 00:26:08.060 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-07-31 00:26:08.067 +03:00 [DBG] No information found on request to perform content negotiation.
2023-07-31 00:26:08.068 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-31 00:26:08.069 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-31 00:26:08.070 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-31 00:26:08.071 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Net.Http.HttpResponseMessage'.
2023-07-31 00:26:08.073 +03:00 [INF] Executed action ShrtLy.Api.Controllers.LinksController.NixRedirectAsync (ShrtLy.Api) in 60.6399ms
2023-07-31 00:26:08.074 +03:00 [INF] Executed endpoint 'ShrtLy.Api.Controllers.LinksController.NixRedirectAsync (ShrtLy.Api)'
2023-07-31 00:26:08.078 +03:00 [DBG] 'ShrtLyContext' disposed.
2023-07-31 00:26:08.079 +03:00 [DBG] Disposing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:26:08.080 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2023-07-31 00:26:08.082 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/bfcd9w - - - 200 - application/json;+charset=utf-8 94.3538ms
2023-07-31 00:26:08.125 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/favicon.ico - -
2023-07-31 00:26:08.126 +03:00 [DBG] The request path  does not match the path filter
2023-07-31 00:26:08.128 +03:00 [DBG] 1 candidate(s) found for the request path '/favicon.ico'
2023-07-31 00:26:08.129 +03:00 [DBG] Endpoint 'ShrtLy.Api.Controllers.LinksController.NixRedirectAsync (ShrtLy.Api)' with route pattern '{url}' is valid for the request path '/favicon.ico'
2023-07-31 00:26:08.131 +03:00 [DBG] Request matched endpoint 'ShrtLy.Api.Controllers.LinksController.NixRedirectAsync (ShrtLy.Api)'
2023-07-31 00:26:08.133 +03:00 [INF] Executing endpoint 'ShrtLy.Api.Controllers.LinksController.NixRedirectAsync (ShrtLy.Api)'
2023-07-31 00:26:08.134 +03:00 [INF] Route matched with {action = "NixRedirect", controller = "Links"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Net.Http.HttpResponseMessage] NixRedirectAsync(System.String) on controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api).
2023-07-31 00:26:08.140 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-31 00:26:08.141 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-31 00:26:08.142 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-31 00:26:08.144 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-31 00:26:08.146 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-31 00:26:08.149 +03:00 [DBG] Executing controller factory for controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api)
2023-07-31 00:26:08.149 +03:00 [DBG] Executed controller factory for controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api)
2023-07-31 00:26:08.150 +03:00 [DBG] Attempting to bind parameter 'url' of type 'System.String' ...
2023-07-31 00:26:08.151 +03:00 [DBG] Attempting to bind parameter 'url' of type 'System.String' using the name 'url' in request data ...
2023-07-31 00:26:08.152 +03:00 [DBG] Done attempting to bind parameter 'url' of type 'System.String'.
2023-07-31 00:26:08.152 +03:00 [DBG] Done attempting to bind parameter 'url' of type 'System.String'.
2023-07-31 00:26:08.153 +03:00 [DBG] Attempting to validate the bound parameter 'url' of type 'System.String' ...
2023-07-31 00:26:08.153 +03:00 [DBG] Done attempting to validate the bound parameter 'url' of type 'System.String'.
2023-07-31 00:26:08.156 +03:00 [DBG] Entity Framework Core 7.0.9 initialized 'ShrtLyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.9' with options: MigrationsAssembly=ShrtLy.Infrastructure 
2023-07-31 00:26:08.159 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-31 00:26:08.159 +03:00 [DBG] Creating DbConnection.
2023-07-31 00:26:08.160 +03:00 [DBG] Created DbConnection. (0ms).
2023-07-31 00:26:08.160 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-07-31 00:26:08.161 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2023-07-31 00:26:08.162 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:26:08.163 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:26:08.163 +03:00 [DBG] Executing DbCommand [Parameters=[@__url_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [l].[Url]
FROM [Links] AS [l]
WHERE [l].[ShortUrl] = @__url_0
2023-07-31 00:26:08.170 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__url_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [l].[Url]
FROM [Links] AS [l]
WHERE [l].[ShortUrl] = @__url_0
2023-07-31 00:26:08.173 +03:00 [DBG] Closing data reader to 'Shrtly' on server 'localhost'.
2023-07-31 00:26:08.175 +03:00 [DBG] A data reader for 'Shrtly' on server 'localhost' is being disposed after spending 2ms reading results.
2023-07-31 00:26:08.177 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:26:08.178 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (0ms).
2023-07-31 00:26:08.253 +03:00 [INF] Executed action ShrtLy.Api.Controllers.LinksController.NixRedirectAsync (ShrtLy.Api) in 104.004ms
2023-07-31 00:26:08.255 +03:00 [INF] Executed endpoint 'ShrtLy.Api.Controllers.LinksController.NixRedirectAsync (ShrtLy.Api)'
2023-07-31 00:26:08.257 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Sequence contains no elements.
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at ShrtLy.Infrastructure.LinksRepository.FindUrl(String url) in D:\PROJECTS\KeyIvr\shrtly-kata\src\ShrtLy.Infrastructure\LinksRepository.cs:line 50
   at ShrtLy.Application.Features.Redirect.GetToShortLinkHandler.Handle(RedirectCommand request, CancellationToken cancellationToken) in D:\PROJECTS\KeyIvr\shrtly-kata\src\ShrtLy.Application\Features\Redirect\RedirectHandler.cs:line 20
   at ShrtLy.Api.Controllers.LinksController.NixRedirectAsync(String url) in D:\PROJECTS\KeyIvr\shrtly-kata\src\ShrtLy.Api\Controllers\LinksController.cs:line 48
   at lambda_method19(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-07-31 00:26:08.289 +03:00 [DBG] 'ShrtLyContext' disposed.
2023-07-31 00:26:08.290 +03:00 [DBG] Disposing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:26:08.291 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2023-07-31 00:26:08.293 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/favicon.ico - - - 500 - text/plain;+charset=utf-8 168.4393ms
2023-07-31 00:26:12.829 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - -
2023-07-31 00:26:12.831 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - - - 200 12352 application/javascript;+charset=utf-8 1.6815ms
2023-07-31 00:26:16.862 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - -
2023-07-31 00:26:16.865 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - - - 200 12352 application/javascript;+charset=utf-8 3.3491ms
2023-07-31 00:35:06.588 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-07-31 00:35:07.047 +03:00 [DBG] Entity Framework Core 7.0.9 initialized 'ShrtLyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.9' with options: MigrationsAssembly=ShrtLy.Infrastructure 
2023-07-31 00:35:07.056 +03:00 [DBG] Creating DbConnection.
2023-07-31 00:35:07.110 +03:00 [DBG] Created DbConnection. (51ms).
2023-07-31 00:35:07.115 +03:00 [DBG] Migrating using database 'Shrtly' on server 'localhost'.
2023-07-31 00:35:07.121 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:35:07.332 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:35:07.340 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-07-31 00:35:07.346 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (5ms).
2023-07-31 00:35:07.349 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (11ms).
2023-07-31 00:35:07.356 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-07-31 00:35:07.377 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-07-31 00:35:07.380 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:35:07.390 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (5ms).
2023-07-31 00:35:07.394 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-31 00:35:07.396 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2023-07-31 00:35:07.397 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (2ms).
2023-07-31 00:35:07.398 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:35:07.400 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:35:07.401 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-07-31 00:35:07.416 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-07-31 00:35:07.418 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:35:07.419 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (1ms).
2023-07-31 00:35:07.420 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:35:07.421 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:35:07.422 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-07-31 00:35:07.423 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2023-07-31 00:35:07.424 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2023-07-31 00:35:07.425 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-07-31 00:35:07.429 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-07-31 00:35:07.432 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:35:07.433 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (1ms).
2023-07-31 00:35:07.434 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-31 00:35:07.435 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-07-31 00:35:07.437 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (2ms).
2023-07-31 00:35:07.439 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:35:07.440 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:35:07.441 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-07-31 00:35:07.443 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-07-31 00:35:07.444 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:35:07.447 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (2ms).
2023-07-31 00:35:07.470 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-31 00:35:07.471 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-07-31 00:35:07.472 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2023-07-31 00:35:07.473 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:35:07.474 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:35:07.476 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-07-31 00:35:07.480 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-07-31 00:35:07.489 +03:00 [DBG] Closing data reader to 'Shrtly' on server 'localhost'.
2023-07-31 00:35:07.491 +03:00 [DBG] A data reader for 'Shrtly' on server 'localhost' is being disposed after spending 4ms reading results.
2023-07-31 00:35:07.492 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:35:07.494 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (1ms).
2023-07-31 00:35:07.505 +03:00 [INF] No migrations were applied. The database is already up to date.
2023-07-31 00:35:07.507 +03:00 [DBG] 'ShrtLyContext' disposed.
2023-07-31 00:35:07.509 +03:00 [DBG] Disposing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:35:07.511 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2023-07-31 00:35:07.571 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-07-31 00:35:07.633 +03:00 [DBG] Hosting starting
2023-07-31 00:35:07.747 +03:00 [INF] Now listening on: https://localhost:5001
2023-07-31 00:35:07.749 +03:00 [INF] Now listening on: http://localhost:5000
2023-07-31 00:35:07.750 +03:00 [DBG] Loaded hosting startup assembly ShrtLy.Api
2023-07-31 00:35:07.751 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-07-31 00:35:07.752 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-07-31 00:35:07.753 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-07-31 00:35:07.754 +03:00 [INF] Hosting environment: Development
2023-07-31 00:35:07.754 +03:00 [INF] Content root path: D:\PROJECTS\KeyIvr\shrtly-kata\src\ShrtLy.Api
2023-07-31 00:35:07.755 +03:00 [DBG] Hosting started
2023-07-31 00:35:08.206 +03:00 [DBG] Connection id "0HMSH8JCAPKBE" accepted.
2023-07-31 00:35:08.206 +03:00 [DBG] Connection id "0HMSH8JCAPKBF" accepted.
2023-07-31 00:35:08.209 +03:00 [DBG] Connection id "0HMSH8JCAPKBE" started.
2023-07-31 00:35:08.210 +03:00 [DBG] Connection id "0HMSH8JCAPKBF" started.
2023-07-31 00:35:08.217 +03:00 [DBG] Connection id "0HMSH8JCAPKBF" received FIN.
2023-07-31 00:35:08.217 +03:00 [DBG] Connection id "0HMSH8JCAPKBE" received FIN.
2023-07-31 00:35:08.228 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-07-31 00:35:08.228 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-07-31 00:35:08.251 +03:00 [DBG] Connection id "0HMSH8JCAPKBF" stopped.
2023-07-31 00:35:08.255 +03:00 [DBG] Connection id "0HMSH8JCAPKBE" stopped.
2023-07-31 00:35:08.260 +03:00 [DBG] Connection id "0HMSH8JCAPKBE" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-07-31 00:35:08.260 +03:00 [DBG] Connection id "0HMSH8JCAPKBF" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-07-31 00:35:08.699 +03:00 [DBG] Connection id "0HMSH8JCAPKBG" accepted.
2023-07-31 00:35:08.701 +03:00 [DBG] Connection id "0HMSH8JCAPKBG" started.
2023-07-31 00:35:08.745 +03:00 [DBG] Connection 0HMSH8JCAPKBG established using the following protocol: "Tls12"
2023-07-31 00:35:08.831 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2023-07-31 00:35:08.854 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-07-31 00:35:08.971 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-07-31 00:35:09.054 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-07-31 00:35:09.059 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 230.5318ms
2023-07-31 00:35:09.132 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - -
2023-07-31 00:35:09.132 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - -
2023-07-31 00:35:09.149 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - - - 200 12352 application/javascript;+charset=utf-8 16.7237ms
2023-07-31 00:35:09.173 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 41.0547ms
2023-07-31 00:35:09.307 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2023-07-31 00:35:09.443 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 136.3178ms
2023-07-31 00:35:13.298 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Links/all - -
2023-07-31 00:35:13.302 +03:00 [DBG] The request path  does not match the path filter
2023-07-31 00:35:13.329 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Links/all'
2023-07-31 00:35:13.333 +03:00 [DBG] Endpoint 'ShrtLy.Api.Controllers.LinksController.GetShortLinks (ShrtLy.Api)' with route pattern 'api/Links/all' is valid for the request path '/api/Links/all'
2023-07-31 00:35:13.335 +03:00 [DBG] Request matched endpoint 'ShrtLy.Api.Controllers.LinksController.GetShortLinks (ShrtLy.Api)'
2023-07-31 00:35:13.338 +03:00 [INF] Executing endpoint 'ShrtLy.Api.Controllers.LinksController.GetShortLinks (ShrtLy.Api)'
2023-07-31 00:35:13.362 +03:00 [INF] Route matched with {action = "GetShortLinks", controller = "Links"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetShortLinks(ShrtLy.Application.DTOs.PaginationDto) on controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api).
2023-07-31 00:35:13.367 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-31 00:35:13.368 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-31 00:35:13.370 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-31 00:35:13.378 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-31 00:35:13.379 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-31 00:35:13.383 +03:00 [DBG] Executing controller factory for controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api)
2023-07-31 00:35:13.384 +03:00 [DBG] Executed controller factory for controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api)
2023-07-31 00:35:13.396 +03:00 [DBG] Attempting to bind parameter 'pagination' of type 'ShrtLy.Application.DTOs.PaginationDto' ...
2023-07-31 00:35:13.399 +03:00 [DBG] Attempting to bind parameter 'pagination' of type 'ShrtLy.Application.DTOs.PaginationDto' using the name '' in request data ...
2023-07-31 00:35:13.405 +03:00 [DBG] Attempting to bind property 'ShrtLy.Application.DTOs.PaginationDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2023-07-31 00:35:13.407 +03:00 [DBG] Could not find a value in the request with name 'Page' for binding property 'ShrtLy.Application.DTOs.PaginationDto.Page' of type 'System.Int32'.
2023-07-31 00:35:13.410 +03:00 [DBG] Done attempting to bind property 'ShrtLy.Application.DTOs.PaginationDto.Page' of type 'System.Int32'.
2023-07-31 00:35:13.413 +03:00 [DBG] Attempting to bind property 'ShrtLy.Application.DTOs.PaginationDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2023-07-31 00:35:13.415 +03:00 [DBG] Could not find a value in the request with name 'PageSize' for binding property 'ShrtLy.Application.DTOs.PaginationDto.PageSize' of type 'System.Int32'.
2023-07-31 00:35:13.418 +03:00 [DBG] Done attempting to bind property 'ShrtLy.Application.DTOs.PaginationDto.PageSize' of type 'System.Int32'.
2023-07-31 00:35:13.420 +03:00 [DBG] Done attempting to bind parameter 'pagination' of type 'ShrtLy.Application.DTOs.PaginationDto'.
2023-07-31 00:35:13.421 +03:00 [DBG] Done attempting to bind parameter 'pagination' of type 'ShrtLy.Application.DTOs.PaginationDto'.
2023-07-31 00:35:13.424 +03:00 [DBG] Attempting to validate the bound parameter 'pagination' of type 'ShrtLy.Application.DTOs.PaginationDto' ...
2023-07-31 00:35:13.427 +03:00 [DBG] Done attempting to validate the bound parameter 'pagination' of type 'ShrtLy.Application.DTOs.PaginationDto'.
2023-07-31 00:35:13.474 +03:00 [DBG] Entity Framework Core 7.0.9 initialized 'ShrtLyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.9' with options: MigrationsAssembly=ShrtLy.Infrastructure 
2023-07-31 00:35:13.517 +03:00 [DBG] Compiling query expression: 
'DbSet<LinkEntity>()
    .Count()'
2023-07-31 00:35:13.659 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: new SingleQueryingEnumerable<int>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Links AS l), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
        ShrtLy.Infrastructure.ShrtLyContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-07-31 00:35:13.687 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-31 00:35:13.689 +03:00 [DBG] Creating DbConnection.
2023-07-31 00:35:13.690 +03:00 [DBG] Created DbConnection. (0ms).
2023-07-31 00:35:13.691 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-07-31 00:35:13.692 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2023-07-31 00:35:13.695 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:35:13.698 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:35:13.700 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Links] AS [l]
2023-07-31 00:35:13.722 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Links] AS [l]
2023-07-31 00:35:13.736 +03:00 [DBG] Closing data reader to 'Shrtly' on server 'localhost'.
2023-07-31 00:35:13.737 +03:00 [DBG] A data reader for 'Shrtly' on server 'localhost' is being disposed after spending 12ms reading results.
2023-07-31 00:35:13.742 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:35:13.747 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (5ms).
2023-07-31 00:35:13.758 +03:00 [DBG] Compiling query expression: 
'DbSet<LinkEntity>()
    .Skip(__p_0)
    .Take(__p_1)
    .AsNoTracking()'
2023-07-31 00:35:13.767 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2023-07-31 00:35:13.768 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2023-07-31 00:35:13.801 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<LinkEntity>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: LinkEntity.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: LinkEntity.ShortUrl (string) Required, 1], [Property: LinkEntity.Url (string) Required, 2] }
        SELECT l.Id, l.ShortUrl, l.Url
        FROM Links AS l
        ORDER BY (SELECT 1)
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, LinkEntity>, 
    ShrtLy.Infrastructure.ShrtLyContext, 
    False, 
    False, 
    True
)'
2023-07-31 00:35:13.813 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-31 00:35:13.814 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-07-31 00:35:13.818 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2023-07-31 00:35:13.819 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:35:13.821 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:35:13.825 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[ShortUrl], [l].[Url]
FROM [Links] AS [l]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2023-07-31 00:35:13.846 +03:00 [INF] Executed DbCommand (24ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[ShortUrl], [l].[Url]
FROM [Links] AS [l]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2023-07-31 00:35:13.853 +03:00 [DBG] Closing data reader to 'Shrtly' on server 'localhost'.
2023-07-31 00:35:13.854 +03:00 [DBG] A data reader for 'Shrtly' on server 'localhost' is being disposed after spending 5ms reading results.
2023-07-31 00:35:13.856 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:35:13.857 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (1ms).
2023-07-31 00:35:13.868 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-07-31 00:35:13.875 +03:00 [DBG] No information found on request to perform content negotiation.
2023-07-31 00:35:13.876 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-31 00:35:13.879 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-31 00:35:13.882 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-31 00:35:13.883 +03:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`7[[Shrtly.Common.PaginatedList`1[[ShrtLy.Application.DTOs.LinkDto, ShrtLy.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], Shrtly.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-07-31 00:35:13.909 +03:00 [INF] Executed action ShrtLy.Api.Controllers.LinksController.GetShortLinks (ShrtLy.Api) in 525.0017ms
2023-07-31 00:35:13.912 +03:00 [INF] Executed endpoint 'ShrtLy.Api.Controllers.LinksController.GetShortLinks (ShrtLy.Api)'
2023-07-31 00:35:13.914 +03:00 [DBG] 'ShrtLyContext' disposed.
2023-07-31 00:35:13.919 +03:00 [DBG] Disposing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:35:13.921 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2023-07-31 00:35:13.923 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Links/all - - - 200 - application/json;+charset=utf-8 624.3216ms
2023-07-31 00:35:19.328 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/bfcd9w - -
2023-07-31 00:35:19.329 +03:00 [DBG] The request path  does not match the path filter
2023-07-31 00:35:19.330 +03:00 [DBG] 1 candidate(s) found for the request path '/bfcd9w'
2023-07-31 00:35:19.331 +03:00 [DBG] Endpoint 'ShrtLy.Api.Controllers.LinksController.NixRedirectAsync (ShrtLy.Api)' with route pattern '{url}' is valid for the request path '/bfcd9w'
2023-07-31 00:35:19.333 +03:00 [DBG] Request matched endpoint 'ShrtLy.Api.Controllers.LinksController.NixRedirectAsync (ShrtLy.Api)'
2023-07-31 00:35:19.333 +03:00 [INF] Executing endpoint 'ShrtLy.Api.Controllers.LinksController.NixRedirectAsync (ShrtLy.Api)'
2023-07-31 00:35:19.337 +03:00 [INF] Route matched with {action = "NixRedirect", controller = "Links"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.RedirectResult] NixRedirectAsync(System.String) on controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api).
2023-07-31 00:35:19.342 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-31 00:35:19.343 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-31 00:35:19.344 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-31 00:35:19.348 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-31 00:35:19.348 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-31 00:35:19.352 +03:00 [DBG] Executing controller factory for controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api)
2023-07-31 00:35:19.353 +03:00 [DBG] Executed controller factory for controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api)
2023-07-31 00:35:19.355 +03:00 [DBG] Attempting to bind parameter 'url' of type 'System.String' ...
2023-07-31 00:35:19.356 +03:00 [DBG] Attempting to bind parameter 'url' of type 'System.String' using the name 'url' in request data ...
2023-07-31 00:35:19.357 +03:00 [DBG] Done attempting to bind parameter 'url' of type 'System.String'.
2023-07-31 00:35:19.358 +03:00 [DBG] Done attempting to bind parameter 'url' of type 'System.String'.
2023-07-31 00:35:19.361 +03:00 [DBG] Attempting to validate the bound parameter 'url' of type 'System.String' ...
2023-07-31 00:35:19.362 +03:00 [DBG] Done attempting to validate the bound parameter 'url' of type 'System.String'.
2023-07-31 00:35:19.408 +03:00 [DBG] Entity Framework Core 7.0.9 initialized 'ShrtLyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.9' with options: MigrationsAssembly=ShrtLy.Infrastructure 
2023-07-31 00:35:19.414 +03:00 [DBG] Compiling query expression: 
'DbSet<LinkEntity>()
    .Where(l => l.ShortUrl == __url_0)
    .Select(l => l.Url)
    .Single()'
2023-07-31 00:35:19.434 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<string>(
    asyncEnumerable: new SingleQueryingEnumerable<string>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT TOP(2) l.Url
            FROM Links AS l
            WHERE l.ShortUrl == @__url_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
        ShrtLy.Infrastructure.ShrtLyContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-07-31 00:35:19.443 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-31 00:35:19.445 +03:00 [DBG] Creating DbConnection.
2023-07-31 00:35:19.446 +03:00 [DBG] Created DbConnection. (0ms).
2023-07-31 00:35:19.447 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2023-07-31 00:35:19.449 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2023-07-31 00:35:19.450 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:35:19.451 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:35:19.452 +03:00 [DBG] Executing DbCommand [Parameters=[@__url_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [l].[Url]
FROM [Links] AS [l]
WHERE [l].[ShortUrl] = @__url_0
2023-07-31 00:35:19.457 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__url_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [l].[Url]
FROM [Links] AS [l]
WHERE [l].[ShortUrl] = @__url_0
2023-07-31 00:35:19.462 +03:00 [DBG] Closing data reader to 'Shrtly' on server 'localhost'.
2023-07-31 00:35:19.463 +03:00 [DBG] A data reader for 'Shrtly' on server 'localhost' is being disposed after spending 2ms reading results.
2023-07-31 00:35:19.464 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:35:19.467 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (2ms).
2023-07-31 00:35:19.470 +03:00 [INF] Executing RedirectResult, redirecting to https://localhost:5001/swagger/index.html.
2023-07-31 00:35:19.471 +03:00 [INF] Executed action ShrtLy.Api.Controllers.LinksController.NixRedirectAsync (ShrtLy.Api) in 119.0836ms
2023-07-31 00:35:19.471 +03:00 [INF] Executed endpoint 'ShrtLy.Api.Controllers.LinksController.NixRedirectAsync (ShrtLy.Api)'
2023-07-31 00:35:19.472 +03:00 [DBG] 'ShrtLyContext' disposed.
2023-07-31 00:35:19.473 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2023-07-31 00:35:19.474 +03:00 [DBG] Disposing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:35:19.475 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 1.9507ms
2023-07-31 00:35:19.479 +03:00 [DBG] Disposed connection to database '' on server '' (5ms).
2023-07-31 00:35:19.481 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/bfcd9w - - - 302 0 - 153.2605ms
2023-07-31 00:36:15.268 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Links?url=https%3A%2F%2Fgithub.com%2Ftpwrz%2FSelfTraining%2Fblob%2Fmain%2FWebAPI%2FWebApi.csproj - -
2023-07-31 00:36:15.274 +03:00 [DBG] The request path  does not match the path filter
2023-07-31 00:36:15.275 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Links'
2023-07-31 00:36:15.276 +03:00 [DBG] Endpoint 'ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api)' with route pattern 'api/Links' is valid for the request path '/api/Links'
2023-07-31 00:36:15.279 +03:00 [DBG] Request matched endpoint 'ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api)'
2023-07-31 00:36:15.282 +03:00 [INF] Executing endpoint 'ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api)'
2023-07-31 00:36:15.286 +03:00 [INF] Route matched with {action = "GetToShortLink", controller = "Links"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetToShortLink(System.String) on controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api).
2023-07-31 00:36:15.292 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-31 00:36:15.294 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-31 00:36:15.295 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-31 00:36:15.303 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-31 00:36:15.304 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-31 00:36:15.307 +03:00 [DBG] Executing controller factory for controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api)
2023-07-31 00:36:15.312 +03:00 [DBG] Executed controller factory for controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api)
2023-07-31 00:36:15.316 +03:00 [DBG] Attempting to bind parameter 'url' of type 'System.String' ...
2023-07-31 00:36:15.317 +03:00 [DBG] Attempting to bind parameter 'url' of type 'System.String' using the name 'url' in request data ...
2023-07-31 00:36:15.319 +03:00 [DBG] Done attempting to bind parameter 'url' of type 'System.String'.
2023-07-31 00:36:15.325 +03:00 [DBG] Done attempting to bind parameter 'url' of type 'System.String'.
2023-07-31 00:36:15.326 +03:00 [DBG] Attempting to validate the bound parameter 'url' of type 'System.String' ...
2023-07-31 00:36:15.330 +03:00 [DBG] Done attempting to validate the bound parameter 'url' of type 'System.String'.
2023-07-31 00:36:15.336 +03:00 [DBG] Entity Framework Core 7.0.9 initialized 'ShrtLyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.9' with options: MigrationsAssembly=ShrtLy.Infrastructure 
2023-07-31 00:36:15.339 +03:00 [DBG] Compiling query expression: 
'DbSet<LinkEntity>()
    .Any(l => l.Url == __url_0)'
2023-07-31 00:36:15.356 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Links AS l
                WHERE l.Url == @__url_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        ShrtLy.Infrastructure.ShrtLyContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-07-31 00:36:15.372 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-31 00:36:15.373 +03:00 [DBG] Creating DbConnection.
2023-07-31 00:36:15.375 +03:00 [DBG] Created DbConnection. (1ms).
2023-07-31 00:36:15.376 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-07-31 00:36:15.377 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2023-07-31 00:36:15.378 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:36:15.379 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:36:15.380 +03:00 [DBG] Executing DbCommand [Parameters=[@__url_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Links] AS [l]
        WHERE [l].[Url] = @__url_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-07-31 00:36:15.393 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__url_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Links] AS [l]
        WHERE [l].[Url] = @__url_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-07-31 00:36:15.400 +03:00 [DBG] Closing data reader to 'Shrtly' on server 'localhost'.
2023-07-31 00:36:15.403 +03:00 [DBG] A data reader for 'Shrtly' on server 'localhost' is being disposed after spending 4ms reading results.
2023-07-31 00:36:15.407 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:36:15.408 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (0ms).
2023-07-31 00:36:15.474 +03:00 [DBG] Context 'ShrtLyContext' started tracking 'LinkEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-31 00:36:15.479 +03:00 [DBG] SaveChanges starting for 'ShrtLyContext'.
2023-07-31 00:36:15.483 +03:00 [DBG] DetectChanges starting for 'ShrtLyContext'.
2023-07-31 00:36:15.493 +03:00 [DBG] DetectChanges completed for 'ShrtLyContext'.
2023-07-31 00:36:15.552 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:36:15.554 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:36:15.561 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-31 00:36:15.564 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-07-31 00:36:15.568 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2023-07-31 00:36:15.571 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Links] ([Id], [ShortUrl], [Url])
VALUES (@p0, @p1, @p2);
2023-07-31 00:36:15.579 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Links] ([Id], [ShortUrl], [Url])
VALUES (@p0, @p1, @p2);
2023-07-31 00:36:15.589 +03:00 [DBG] Closing data reader to 'Shrtly' on server 'localhost'.
2023-07-31 00:36:15.591 +03:00 [DBG] A data reader for 'Shrtly' on server 'localhost' is being disposed after spending 4ms reading results.
2023-07-31 00:36:15.593 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:36:15.595 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (1ms).
2023-07-31 00:36:15.604 +03:00 [DBG] An entity of type 'LinkEntity' tracked by 'ShrtLyContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-31 00:36:15.610 +03:00 [DBG] SaveChanges completed for 'ShrtLyContext' with 1 entities written to the database.
2023-07-31 00:36:15.613 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-07-31 00:36:15.620 +03:00 [DBG] No information found on request to perform content negotiation.
2023-07-31 00:36:15.621 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-31 00:36:15.625 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-31 00:36:15.626 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-07-31 00:36:15.627 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2023-07-31 00:36:15.629 +03:00 [INF] Executed action ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api) in 321.1808ms
2023-07-31 00:36:15.631 +03:00 [INF] Executed endpoint 'ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api)'
2023-07-31 00:36:15.636 +03:00 [DBG] 'ShrtLyContext' disposed.
2023-07-31 00:36:15.637 +03:00 [DBG] Disposing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:36:15.640 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2023-07-31 00:36:15.642 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Links?url=https%3A%2F%2Fgithub.com%2Ftpwrz%2FSelfTraining%2Fblob%2Fmain%2FWebAPI%2FWebApi.csproj - - - 200 - text/plain;+charset=utf-8 373.9322ms
2023-07-31 00:36:22.149 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/e13b0w - -
2023-07-31 00:36:22.150 +03:00 [DBG] The request path  does not match the path filter
2023-07-31 00:36:22.151 +03:00 [DBG] 1 candidate(s) found for the request path '/e13b0w'
2023-07-31 00:36:22.152 +03:00 [DBG] Endpoint 'ShrtLy.Api.Controllers.LinksController.NixRedirectAsync (ShrtLy.Api)' with route pattern '{url}' is valid for the request path '/e13b0w'
2023-07-31 00:36:22.154 +03:00 [DBG] Request matched endpoint 'ShrtLy.Api.Controllers.LinksController.NixRedirectAsync (ShrtLy.Api)'
2023-07-31 00:36:22.155 +03:00 [INF] Executing endpoint 'ShrtLy.Api.Controllers.LinksController.NixRedirectAsync (ShrtLy.Api)'
2023-07-31 00:36:22.156 +03:00 [INF] Route matched with {action = "NixRedirect", controller = "Links"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.RedirectResult] NixRedirectAsync(System.String) on controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api).
2023-07-31 00:36:22.160 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-31 00:36:22.163 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-31 00:36:22.164 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-31 00:36:22.167 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-31 00:36:22.168 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-31 00:36:22.171 +03:00 [DBG] Executing controller factory for controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api)
2023-07-31 00:36:22.176 +03:00 [DBG] Executed controller factory for controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api)
2023-07-31 00:36:22.177 +03:00 [DBG] Attempting to bind parameter 'url' of type 'System.String' ...
2023-07-31 00:36:22.178 +03:00 [DBG] Attempting to bind parameter 'url' of type 'System.String' using the name 'url' in request data ...
2023-07-31 00:36:22.180 +03:00 [DBG] Done attempting to bind parameter 'url' of type 'System.String'.
2023-07-31 00:36:22.183 +03:00 [DBG] Done attempting to bind parameter 'url' of type 'System.String'.
2023-07-31 00:36:22.184 +03:00 [DBG] Attempting to validate the bound parameter 'url' of type 'System.String' ...
2023-07-31 00:36:22.186 +03:00 [DBG] Done attempting to validate the bound parameter 'url' of type 'System.String'.
2023-07-31 00:36:22.188 +03:00 [DBG] Entity Framework Core 7.0.9 initialized 'ShrtLyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.9' with options: MigrationsAssembly=ShrtLy.Infrastructure 
2023-07-31 00:36:22.194 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-31 00:36:22.196 +03:00 [DBG] Creating DbConnection.
2023-07-31 00:36:22.197 +03:00 [DBG] Created DbConnection. (0ms).
2023-07-31 00:36:22.197 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-07-31 00:36:22.198 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2023-07-31 00:36:22.200 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:36:22.201 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:36:22.205 +03:00 [DBG] Executing DbCommand [Parameters=[@__url_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [l].[Url]
FROM [Links] AS [l]
WHERE [l].[ShortUrl] = @__url_0
2023-07-31 00:36:22.211 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__url_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [l].[Url]
FROM [Links] AS [l]
WHERE [l].[ShortUrl] = @__url_0
2023-07-31 00:36:22.216 +03:00 [DBG] Closing data reader to 'Shrtly' on server 'localhost'.
2023-07-31 00:36:22.217 +03:00 [DBG] A data reader for 'Shrtly' on server 'localhost' is being disposed after spending 0ms reading results.
2023-07-31 00:36:22.218 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:36:22.219 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (0ms).
2023-07-31 00:36:22.222 +03:00 [INF] Executing RedirectResult, redirecting to https://github.com/tpwrz/SelfTraining/blob/main/WebAPI/WebApi.csproj.
2023-07-31 00:36:22.226 +03:00 [INF] Executed action ShrtLy.Api.Controllers.LinksController.NixRedirectAsync (ShrtLy.Api) in 55.7243ms
2023-07-31 00:36:22.227 +03:00 [INF] Executed endpoint 'ShrtLy.Api.Controllers.LinksController.NixRedirectAsync (ShrtLy.Api)'
2023-07-31 00:36:22.228 +03:00 [DBG] 'ShrtLyContext' disposed.
2023-07-31 00:36:22.232 +03:00 [DBG] Disposing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:36:22.233 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2023-07-31 00:36:22.238 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/e13b0w - - - 302 0 - 88.6685ms
2023-07-31 00:36:33.805 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Links?url=https%3A%2F%2Fwww.twilio.com%2Fblog%2Fbuild-a-url-shortener-with-csharp-dotnet-and-redis - -
2023-07-31 00:36:33.808 +03:00 [DBG] The request path  does not match the path filter
2023-07-31 00:36:33.810 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Links'
2023-07-31 00:36:33.811 +03:00 [DBG] Endpoint 'ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api)' with route pattern 'api/Links' is valid for the request path '/api/Links'
2023-07-31 00:36:33.813 +03:00 [DBG] Request matched endpoint 'ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api)'
2023-07-31 00:36:33.814 +03:00 [INF] Executing endpoint 'ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api)'
2023-07-31 00:36:33.815 +03:00 [INF] Route matched with {action = "GetToShortLink", controller = "Links"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetToShortLink(System.String) on controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api).
2023-07-31 00:36:33.820 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-31 00:36:33.822 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-31 00:36:33.823 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-31 00:36:33.825 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-31 00:36:33.828 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-31 00:36:33.832 +03:00 [DBG] Executing controller factory for controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api)
2023-07-31 00:36:33.834 +03:00 [DBG] Executed controller factory for controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api)
2023-07-31 00:36:33.837 +03:00 [DBG] Attempting to bind parameter 'url' of type 'System.String' ...
2023-07-31 00:36:33.838 +03:00 [DBG] Attempting to bind parameter 'url' of type 'System.String' using the name 'url' in request data ...
2023-07-31 00:36:33.844 +03:00 [DBG] Done attempting to bind parameter 'url' of type 'System.String'.
2023-07-31 00:36:33.844 +03:00 [DBG] Done attempting to bind parameter 'url' of type 'System.String'.
2023-07-31 00:36:33.845 +03:00 [DBG] Attempting to validate the bound parameter 'url' of type 'System.String' ...
2023-07-31 00:36:33.848 +03:00 [DBG] Done attempting to validate the bound parameter 'url' of type 'System.String'.
2023-07-31 00:36:33.853 +03:00 [DBG] Entity Framework Core 7.0.9 initialized 'ShrtLyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.9' with options: MigrationsAssembly=ShrtLy.Infrastructure 
2023-07-31 00:36:33.855 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-31 00:36:33.856 +03:00 [DBG] Creating DbConnection.
2023-07-31 00:36:33.857 +03:00 [DBG] Created DbConnection. (0ms).
2023-07-31 00:36:33.861 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2023-07-31 00:36:33.862 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2023-07-31 00:36:33.863 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:36:33.864 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:36:33.866 +03:00 [DBG] Executing DbCommand [Parameters=[@__url_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Links] AS [l]
        WHERE [l].[Url] = @__url_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-07-31 00:36:33.872 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__url_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Links] AS [l]
        WHERE [l].[Url] = @__url_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-07-31 00:36:33.877 +03:00 [DBG] Closing data reader to 'Shrtly' on server 'localhost'.
2023-07-31 00:36:33.877 +03:00 [DBG] A data reader for 'Shrtly' on server 'localhost' is being disposed after spending 0ms reading results.
2023-07-31 00:36:33.878 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:36:33.879 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (0ms).
2023-07-31 00:36:33.881 +03:00 [DBG] Context 'ShrtLyContext' started tracking 'LinkEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-31 00:36:33.883 +03:00 [DBG] SaveChanges starting for 'ShrtLyContext'.
2023-07-31 00:36:33.883 +03:00 [DBG] DetectChanges starting for 'ShrtLyContext'.
2023-07-31 00:36:33.884 +03:00 [DBG] DetectChanges completed for 'ShrtLyContext'.
2023-07-31 00:36:33.886 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:36:33.887 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:36:33.888 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-31 00:36:33.891 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-07-31 00:36:33.892 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2023-07-31 00:36:33.893 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Links] ([Id], [ShortUrl], [Url])
VALUES (@p0, @p1, @p2);
2023-07-31 00:36:33.898 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Links] ([Id], [ShortUrl], [Url])
VALUES (@p0, @p1, @p2);
2023-07-31 00:36:33.902 +03:00 [DBG] Closing data reader to 'Shrtly' on server 'localhost'.
2023-07-31 00:36:33.903 +03:00 [DBG] A data reader for 'Shrtly' on server 'localhost' is being disposed after spending 1ms reading results.
2023-07-31 00:36:33.905 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:36:33.907 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (2ms).
2023-07-31 00:36:33.908 +03:00 [DBG] An entity of type 'LinkEntity' tracked by 'ShrtLyContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-31 00:36:33.913 +03:00 [DBG] SaveChanges completed for 'ShrtLyContext' with 1 entities written to the database.
2023-07-31 00:36:33.914 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-07-31 00:36:33.921 +03:00 [DBG] No information found on request to perform content negotiation.
2023-07-31 00:36:33.921 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-31 00:36:33.922 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-31 00:36:33.923 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-07-31 00:36:33.926 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2023-07-31 00:36:33.927 +03:00 [INF] Executed action ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api) in 94.2717ms
2023-07-31 00:36:33.929 +03:00 [INF] Executed endpoint 'ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api)'
2023-07-31 00:36:33.931 +03:00 [DBG] 'ShrtLyContext' disposed.
2023-07-31 00:36:33.931 +03:00 [DBG] Disposing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:36:33.932 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2023-07-31 00:36:33.933 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Links?url=https%3A%2F%2Fwww.twilio.com%2Fblog%2Fbuild-a-url-shortener-with-csharp-dotnet-and-redis - - - 200 - text/plain;+charset=utf-8 128.2412ms
2023-07-31 00:36:38.468 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/706dew - -
2023-07-31 00:36:38.470 +03:00 [DBG] The request path  does not match the path filter
2023-07-31 00:36:38.471 +03:00 [DBG] 1 candidate(s) found for the request path '/706dew'
2023-07-31 00:36:38.473 +03:00 [DBG] Endpoint 'ShrtLy.Api.Controllers.LinksController.NixRedirectAsync (ShrtLy.Api)' with route pattern '{url}' is valid for the request path '/706dew'
2023-07-31 00:36:38.474 +03:00 [DBG] Request matched endpoint 'ShrtLy.Api.Controllers.LinksController.NixRedirectAsync (ShrtLy.Api)'
2023-07-31 00:36:38.475 +03:00 [INF] Executing endpoint 'ShrtLy.Api.Controllers.LinksController.NixRedirectAsync (ShrtLy.Api)'
2023-07-31 00:36:38.476 +03:00 [INF] Route matched with {action = "NixRedirect", controller = "Links"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.RedirectResult] NixRedirectAsync(System.String) on controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api).
2023-07-31 00:36:38.482 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-31 00:36:38.483 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-31 00:36:38.484 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-31 00:36:38.486 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-31 00:36:38.490 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-31 00:36:38.496 +03:00 [DBG] Executing controller factory for controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api)
2023-07-31 00:36:38.497 +03:00 [DBG] Executed controller factory for controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api)
2023-07-31 00:36:38.499 +03:00 [DBG] Attempting to bind parameter 'url' of type 'System.String' ...
2023-07-31 00:36:38.503 +03:00 [DBG] Attempting to bind parameter 'url' of type 'System.String' using the name 'url' in request data ...
2023-07-31 00:36:38.504 +03:00 [DBG] Done attempting to bind parameter 'url' of type 'System.String'.
2023-07-31 00:36:38.505 +03:00 [DBG] Done attempting to bind parameter 'url' of type 'System.String'.
2023-07-31 00:36:38.508 +03:00 [DBG] Attempting to validate the bound parameter 'url' of type 'System.String' ...
2023-07-31 00:36:38.509 +03:00 [DBG] Done attempting to validate the bound parameter 'url' of type 'System.String'.
2023-07-31 00:36:38.514 +03:00 [DBG] Entity Framework Core 7.0.9 initialized 'ShrtLyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.9' with options: MigrationsAssembly=ShrtLy.Infrastructure 
2023-07-31 00:36:38.516 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-31 00:36:38.518 +03:00 [DBG] Creating DbConnection.
2023-07-31 00:36:38.518 +03:00 [DBG] Created DbConnection. (0ms).
2023-07-31 00:36:38.524 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (7ms).
2023-07-31 00:36:38.525 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2023-07-31 00:36:38.526 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:36:38.527 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:36:38.531 +03:00 [DBG] Executing DbCommand [Parameters=[@__url_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [l].[Url]
FROM [Links] AS [l]
WHERE [l].[ShortUrl] = @__url_0
2023-07-31 00:36:38.536 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__url_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [l].[Url]
FROM [Links] AS [l]
WHERE [l].[ShortUrl] = @__url_0
2023-07-31 00:36:38.539 +03:00 [DBG] Closing data reader to 'Shrtly' on server 'localhost'.
2023-07-31 00:36:38.541 +03:00 [DBG] A data reader for 'Shrtly' on server 'localhost' is being disposed after spending 2ms reading results.
2023-07-31 00:36:38.546 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:36:38.546 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (0ms).
2023-07-31 00:36:38.548 +03:00 [INF] Executing RedirectResult, redirecting to https://www.twilio.com/blog/build-a-url-shortener-with-csharp-dotnet-and-redis.
2023-07-31 00:36:38.550 +03:00 [INF] Executed action ShrtLy.Api.Controllers.LinksController.NixRedirectAsync (ShrtLy.Api) in 54.2399ms
2023-07-31 00:36:38.551 +03:00 [INF] Executed endpoint 'ShrtLy.Api.Controllers.LinksController.NixRedirectAsync (ShrtLy.Api)'
2023-07-31 00:36:38.554 +03:00 [DBG] 'ShrtLyContext' disposed.
2023-07-31 00:36:38.555 +03:00 [DBG] Disposing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:36:38.556 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2023-07-31 00:36:38.558 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/706dew - - - 302 0 - 89.5979ms
2023-07-31 00:36:50.986 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Links/all - -
2023-07-31 00:36:50.988 +03:00 [DBG] The request path  does not match the path filter
2023-07-31 00:36:50.989 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Links/all'
2023-07-31 00:36:50.991 +03:00 [DBG] Endpoint 'ShrtLy.Api.Controllers.LinksController.GetShortLinks (ShrtLy.Api)' with route pattern 'api/Links/all' is valid for the request path '/api/Links/all'
2023-07-31 00:36:50.992 +03:00 [DBG] Request matched endpoint 'ShrtLy.Api.Controllers.LinksController.GetShortLinks (ShrtLy.Api)'
2023-07-31 00:36:50.993 +03:00 [INF] Executing endpoint 'ShrtLy.Api.Controllers.LinksController.GetShortLinks (ShrtLy.Api)'
2023-07-31 00:36:50.995 +03:00 [INF] Route matched with {action = "GetShortLinks", controller = "Links"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetShortLinks(ShrtLy.Application.DTOs.PaginationDto) on controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api).
2023-07-31 00:36:51.001 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-31 00:36:51.002 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-31 00:36:51.003 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-31 00:36:51.007 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-31 00:36:51.008 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-31 00:36:51.011 +03:00 [DBG] Executing controller factory for controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api)
2023-07-31 00:36:51.013 +03:00 [DBG] Executed controller factory for controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api)
2023-07-31 00:36:51.014 +03:00 [DBG] Attempting to bind parameter 'pagination' of type 'ShrtLy.Application.DTOs.PaginationDto' ...
2023-07-31 00:36:51.015 +03:00 [DBG] Attempting to bind parameter 'pagination' of type 'ShrtLy.Application.DTOs.PaginationDto' using the name '' in request data ...
2023-07-31 00:36:51.017 +03:00 [DBG] Attempting to bind property 'ShrtLy.Application.DTOs.PaginationDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2023-07-31 00:36:51.024 +03:00 [DBG] Could not find a value in the request with name 'Page' for binding property 'ShrtLy.Application.DTOs.PaginationDto.Page' of type 'System.Int32'.
2023-07-31 00:36:51.027 +03:00 [DBG] Done attempting to bind property 'ShrtLy.Application.DTOs.PaginationDto.Page' of type 'System.Int32'.
2023-07-31 00:36:51.032 +03:00 [DBG] Attempting to bind property 'ShrtLy.Application.DTOs.PaginationDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2023-07-31 00:36:51.033 +03:00 [DBG] Could not find a value in the request with name 'PageSize' for binding property 'ShrtLy.Application.DTOs.PaginationDto.PageSize' of type 'System.Int32'.
2023-07-31 00:36:51.037 +03:00 [DBG] Done attempting to bind property 'ShrtLy.Application.DTOs.PaginationDto.PageSize' of type 'System.Int32'.
2023-07-31 00:36:51.039 +03:00 [DBG] Done attempting to bind parameter 'pagination' of type 'ShrtLy.Application.DTOs.PaginationDto'.
2023-07-31 00:36:51.044 +03:00 [DBG] Done attempting to bind parameter 'pagination' of type 'ShrtLy.Application.DTOs.PaginationDto'.
2023-07-31 00:36:51.044 +03:00 [DBG] Attempting to validate the bound parameter 'pagination' of type 'ShrtLy.Application.DTOs.PaginationDto' ...
2023-07-31 00:36:51.047 +03:00 [DBG] Done attempting to validate the bound parameter 'pagination' of type 'ShrtLy.Application.DTOs.PaginationDto'.
2023-07-31 00:36:51.052 +03:00 [DBG] Entity Framework Core 7.0.9 initialized 'ShrtLyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.9' with options: MigrationsAssembly=ShrtLy.Infrastructure 
2023-07-31 00:36:51.054 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-31 00:36:51.056 +03:00 [DBG] Creating DbConnection.
2023-07-31 00:36:51.057 +03:00 [DBG] Created DbConnection. (0ms).
2023-07-31 00:36:51.060 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2023-07-31 00:36:51.061 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2023-07-31 00:36:51.062 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:36:51.063 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:36:51.064 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Links] AS [l]
2023-07-31 00:36:51.075 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Links] AS [l]
2023-07-31 00:36:51.080 +03:00 [DBG] Closing data reader to 'Shrtly' on server 'localhost'.
2023-07-31 00:36:51.081 +03:00 [DBG] A data reader for 'Shrtly' on server 'localhost' is being disposed after spending 1ms reading results.
2023-07-31 00:36:51.084 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:36:51.085 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (0ms).
2023-07-31 00:36:51.089 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-31 00:36:51.090 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-07-31 00:36:51.091 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2023-07-31 00:36:51.092 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:36:51.094 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:36:51.094 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[ShortUrl], [l].[Url]
FROM [Links] AS [l]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2023-07-31 00:36:51.102 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[ShortUrl], [l].[Url]
FROM [Links] AS [l]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2023-07-31 00:36:51.107 +03:00 [DBG] Closing data reader to 'Shrtly' on server 'localhost'.
2023-07-31 00:36:51.108 +03:00 [DBG] A data reader for 'Shrtly' on server 'localhost' is being disposed after spending 0ms reading results.
2023-07-31 00:36:51.109 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:36:51.110 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (1ms).
2023-07-31 00:36:51.112 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-07-31 00:36:51.116 +03:00 [DBG] No information found on request to perform content negotiation.
2023-07-31 00:36:51.117 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-31 00:36:51.118 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-31 00:36:51.119 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-31 00:36:51.120 +03:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`7[[Shrtly.Common.PaginatedList`1[[ShrtLy.Application.DTOs.LinkDto, ShrtLy.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], Shrtly.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-07-31 00:36:51.128 +03:00 [INF] Executed action ShrtLy.Api.Controllers.LinksController.GetShortLinks (ShrtLy.Api) in 116.7916ms
2023-07-31 00:36:51.129 +03:00 [INF] Executed endpoint 'ShrtLy.Api.Controllers.LinksController.GetShortLinks (ShrtLy.Api)'
2023-07-31 00:36:51.131 +03:00 [DBG] 'ShrtLyContext' disposed.
2023-07-31 00:36:51.132 +03:00 [DBG] Disposing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:36:51.134 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2023-07-31 00:36:51.135 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Links/all - - - 200 - application/json;+charset=utf-8 148.9188ms
2023-07-31 00:37:07.816 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/e13b0w - -
2023-07-31 00:37:07.819 +03:00 [DBG] The request path  does not match the path filter
2023-07-31 00:37:07.822 +03:00 [DBG] 1 candidate(s) found for the request path '/e13b0w'
2023-07-31 00:37:07.825 +03:00 [DBG] Endpoint 'ShrtLy.Api.Controllers.LinksController.NixRedirectAsync (ShrtLy.Api)' with route pattern '{url}' is valid for the request path '/e13b0w'
2023-07-31 00:37:07.831 +03:00 [DBG] Request matched endpoint 'ShrtLy.Api.Controllers.LinksController.NixRedirectAsync (ShrtLy.Api)'
2023-07-31 00:37:07.836 +03:00 [INF] Executing endpoint 'ShrtLy.Api.Controllers.LinksController.NixRedirectAsync (ShrtLy.Api)'
2023-07-31 00:37:07.837 +03:00 [INF] Route matched with {action = "NixRedirect", controller = "Links"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.RedirectResult] NixRedirectAsync(System.String) on controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api).
2023-07-31 00:37:07.842 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-31 00:37:07.845 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-31 00:37:07.848 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-31 00:37:07.852 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-31 00:37:07.854 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-31 00:37:07.858 +03:00 [DBG] Executing controller factory for controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api)
2023-07-31 00:37:07.860 +03:00 [DBG] Executed controller factory for controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api)
2023-07-31 00:37:07.864 +03:00 [DBG] Attempting to bind parameter 'url' of type 'System.String' ...
2023-07-31 00:37:07.865 +03:00 [DBG] Attempting to bind parameter 'url' of type 'System.String' using the name 'url' in request data ...
2023-07-31 00:37:07.866 +03:00 [DBG] Done attempting to bind parameter 'url' of type 'System.String'.
2023-07-31 00:37:07.869 +03:00 [DBG] Done attempting to bind parameter 'url' of type 'System.String'.
2023-07-31 00:37:07.870 +03:00 [DBG] Attempting to validate the bound parameter 'url' of type 'System.String' ...
2023-07-31 00:37:07.873 +03:00 [DBG] Done attempting to validate the bound parameter 'url' of type 'System.String'.
2023-07-31 00:37:07.877 +03:00 [DBG] Entity Framework Core 7.0.9 initialized 'ShrtLyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.9' with options: MigrationsAssembly=ShrtLy.Infrastructure 
2023-07-31 00:37:07.879 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-31 00:37:07.884 +03:00 [DBG] Creating DbConnection.
2023-07-31 00:37:07.885 +03:00 [DBG] Created DbConnection. (0ms).
2023-07-31 00:37:07.886 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (7ms).
2023-07-31 00:37:07.888 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2023-07-31 00:37:07.893 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:37:07.894 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:37:07.896 +03:00 [DBG] Executing DbCommand [Parameters=[@__url_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [l].[Url]
FROM [Links] AS [l]
WHERE [l].[ShortUrl] = @__url_0
2023-07-31 00:37:07.901 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__url_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [l].[Url]
FROM [Links] AS [l]
WHERE [l].[ShortUrl] = @__url_0
2023-07-31 00:37:07.904 +03:00 [DBG] Closing data reader to 'Shrtly' on server 'localhost'.
2023-07-31 00:37:07.906 +03:00 [DBG] A data reader for 'Shrtly' on server 'localhost' is being disposed after spending 2ms reading results.
2023-07-31 00:37:07.907 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:37:07.910 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (3ms).
2023-07-31 00:37:07.911 +03:00 [INF] Executing RedirectResult, redirecting to https://github.com/tpwrz/SelfTraining/blob/main/WebAPI/WebApi.csproj.
2023-07-31 00:37:07.912 +03:00 [INF] Executed action ShrtLy.Api.Controllers.LinksController.NixRedirectAsync (ShrtLy.Api) in 54.2563ms
2023-07-31 00:37:07.914 +03:00 [INF] Executed endpoint 'ShrtLy.Api.Controllers.LinksController.NixRedirectAsync (ShrtLy.Api)'
2023-07-31 00:37:07.916 +03:00 [DBG] 'ShrtLyContext' disposed.
2023-07-31 00:37:07.918 +03:00 [DBG] Disposing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:37:07.919 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2023-07-31 00:37:07.920 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/e13b0w - - - 302 0 - 104.1410ms
2023-07-31 00:37:22.253 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-07-31 00:37:22.690 +03:00 [DBG] Entity Framework Core 7.0.9 initialized 'ShrtLyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.9' with options: MigrationsAssembly=ShrtLy.Infrastructure 
2023-07-31 00:37:22.699 +03:00 [DBG] Creating DbConnection.
2023-07-31 00:37:22.749 +03:00 [DBG] Created DbConnection. (47ms).
2023-07-31 00:37:22.754 +03:00 [DBG] Migrating using database 'Shrtly' on server 'localhost'.
2023-07-31 00:37:22.760 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:37:22.976 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:37:22.984 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-07-31 00:37:22.991 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (6ms).
2023-07-31 00:37:22.994 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (12ms).
2023-07-31 00:37:23.001 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-07-31 00:37:23.024 +03:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-07-31 00:37:23.028 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:37:23.037 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (5ms).
2023-07-31 00:37:23.042 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-31 00:37:23.043 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2023-07-31 00:37:23.043 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2023-07-31 00:37:23.044 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:37:23.046 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:37:23.048 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-07-31 00:37:23.062 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-07-31 00:37:23.063 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:37:23.064 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (1ms).
2023-07-31 00:37:23.066 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:37:23.067 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:37:23.067 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-07-31 00:37:23.068 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2023-07-31 00:37:23.069 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2023-07-31 00:37:23.070 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-07-31 00:37:23.080 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-07-31 00:37:23.082 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:37:23.084 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (1ms).
2023-07-31 00:37:23.085 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-31 00:37:23.088 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (2ms).
2023-07-31 00:37:23.089 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (3ms).
2023-07-31 00:37:23.090 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:37:23.091 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:37:23.092 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-07-31 00:37:23.095 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-07-31 00:37:23.098 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:37:23.099 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (1ms).
2023-07-31 00:37:23.121 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-31 00:37:23.123 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-07-31 00:37:23.125 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2023-07-31 00:37:23.126 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:37:23.127 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:37:23.129 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-07-31 00:37:23.134 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-07-31 00:37:23.139 +03:00 [DBG] Closing data reader to 'Shrtly' on server 'localhost'.
2023-07-31 00:37:23.141 +03:00 [DBG] A data reader for 'Shrtly' on server 'localhost' is being disposed after spending 3ms reading results.
2023-07-31 00:37:23.143 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:37:23.144 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (0ms).
2023-07-31 00:37:23.156 +03:00 [INF] No migrations were applied. The database is already up to date.
2023-07-31 00:37:23.158 +03:00 [DBG] 'ShrtLyContext' disposed.
2023-07-31 00:37:23.161 +03:00 [DBG] Disposing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:37:23.162 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2023-07-31 00:37:23.219 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-07-31 00:37:23.278 +03:00 [DBG] Hosting starting
2023-07-31 00:37:23.381 +03:00 [INF] Now listening on: https://localhost:5001
2023-07-31 00:37:23.382 +03:00 [INF] Now listening on: http://localhost:5000
2023-07-31 00:37:23.384 +03:00 [DBG] Loaded hosting startup assembly ShrtLy.Api
2023-07-31 00:37:23.386 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-07-31 00:37:23.387 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-07-31 00:37:23.389 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-07-31 00:37:23.390 +03:00 [INF] Hosting environment: Development
2023-07-31 00:37:23.391 +03:00 [INF] Content root path: D:\PROJECTS\KeyIvr\shrtly-kata\src\ShrtLy.Api
2023-07-31 00:37:23.392 +03:00 [DBG] Hosting started
2023-07-31 00:37:23.881 +03:00 [DBG] Connection id "0HMSH8KKOJNMH" accepted.
2023-07-31 00:37:23.881 +03:00 [DBG] Connection id "0HMSH8KKOJNMG" accepted.
2023-07-31 00:37:23.882 +03:00 [DBG] Connection id "0HMSH8KKOJNMG" received FIN.
2023-07-31 00:37:23.882 +03:00 [DBG] Connection id "0HMSH8KKOJNMH" received FIN.
2023-07-31 00:37:23.886 +03:00 [DBG] Connection id "0HMSH8KKOJNMH" started.
2023-07-31 00:37:23.887 +03:00 [DBG] Connection id "0HMSH8KKOJNMG" started.
2023-07-31 00:37:23.901 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-07-31 00:37:23.901 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-07-31 00:37:23.927 +03:00 [DBG] Connection id "0HMSH8KKOJNMH" stopped.
2023-07-31 00:37:23.927 +03:00 [DBG] Connection id "0HMSH8KKOJNMG" stopped.
2023-07-31 00:37:23.933 +03:00 [DBG] Connection id "0HMSH8KKOJNMG" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-07-31 00:37:23.933 +03:00 [DBG] Connection id "0HMSH8KKOJNMH" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-07-31 00:37:37.493 +03:00 [DBG] Connection id "0HMSH8KKOJNMI" accepted.
2023-07-31 00:37:37.497 +03:00 [DBG] Connection id "0HMSH8KKOJNMI" started.
2023-07-31 00:37:37.558 +03:00 [DBG] Connection 0HMSH8KKOJNMI established using the following protocol: "Tls12"
2023-07-31 00:37:37.686 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2023-07-31 00:37:37.715 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-07-31 00:37:37.854 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-07-31 00:37:37.961 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-07-31 00:37:37.966 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 282.3653ms
2023-07-31 00:37:38.058 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - -
2023-07-31 00:37:38.058 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - -
2023-07-31 00:37:38.082 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - - - 200 12352 application/javascript;+charset=utf-8 23.4669ms
2023-07-31 00:37:38.106 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 47.4566ms
2023-07-31 00:37:38.249 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2023-07-31 00:37:38.389 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 139.4492ms
2023-07-31 00:37:41.900 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Links/all - -
2023-07-31 00:37:41.903 +03:00 [DBG] The request path  does not match the path filter
2023-07-31 00:37:41.924 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Links/all'
2023-07-31 00:37:41.928 +03:00 [DBG] Endpoint 'ShrtLy.Api.Controllers.LinksController.GetShortLinks (ShrtLy.Api)' with route pattern 'api/Links/all' is valid for the request path '/api/Links/all'
2023-07-31 00:37:41.930 +03:00 [DBG] Request matched endpoint 'ShrtLy.Api.Controllers.LinksController.GetShortLinks (ShrtLy.Api)'
2023-07-31 00:37:41.934 +03:00 [INF] Executing endpoint 'ShrtLy.Api.Controllers.LinksController.GetShortLinks (ShrtLy.Api)'
2023-07-31 00:37:41.957 +03:00 [INF] Route matched with {action = "GetShortLinks", controller = "Links"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetShortLinks(ShrtLy.Application.DTOs.PaginationDto) on controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api).
2023-07-31 00:37:41.963 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-31 00:37:41.964 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-31 00:37:41.965 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-31 00:37:41.967 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-31 00:37:41.969 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-31 00:37:41.975 +03:00 [DBG] Executing controller factory for controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api)
2023-07-31 00:37:41.976 +03:00 [DBG] Executed controller factory for controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api)
2023-07-31 00:37:41.988 +03:00 [DBG] Attempting to bind parameter 'pagination' of type 'ShrtLy.Application.DTOs.PaginationDto' ...
2023-07-31 00:37:41.991 +03:00 [DBG] Attempting to bind parameter 'pagination' of type 'ShrtLy.Application.DTOs.PaginationDto' using the name '' in request data ...
2023-07-31 00:37:41.997 +03:00 [DBG] Attempting to bind property 'ShrtLy.Application.DTOs.PaginationDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2023-07-31 00:37:41.999 +03:00 [DBG] Could not find a value in the request with name 'Page' for binding property 'ShrtLy.Application.DTOs.PaginationDto.Page' of type 'System.Int32'.
2023-07-31 00:37:42.004 +03:00 [DBG] Done attempting to bind property 'ShrtLy.Application.DTOs.PaginationDto.Page' of type 'System.Int32'.
2023-07-31 00:37:42.008 +03:00 [DBG] Attempting to bind property 'ShrtLy.Application.DTOs.PaginationDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2023-07-31 00:37:42.011 +03:00 [DBG] Could not find a value in the request with name 'PageSize' for binding property 'ShrtLy.Application.DTOs.PaginationDto.PageSize' of type 'System.Int32'.
2023-07-31 00:37:42.013 +03:00 [DBG] Done attempting to bind property 'ShrtLy.Application.DTOs.PaginationDto.PageSize' of type 'System.Int32'.
2023-07-31 00:37:42.016 +03:00 [DBG] Done attempting to bind parameter 'pagination' of type 'ShrtLy.Application.DTOs.PaginationDto'.
2023-07-31 00:37:42.017 +03:00 [DBG] Done attempting to bind parameter 'pagination' of type 'ShrtLy.Application.DTOs.PaginationDto'.
2023-07-31 00:37:42.019 +03:00 [DBG] Attempting to validate the bound parameter 'pagination' of type 'ShrtLy.Application.DTOs.PaginationDto' ...
2023-07-31 00:37:42.024 +03:00 [DBG] Done attempting to validate the bound parameter 'pagination' of type 'ShrtLy.Application.DTOs.PaginationDto'.
2023-07-31 00:37:42.071 +03:00 [DBG] Entity Framework Core 7.0.9 initialized 'ShrtLyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.9' with options: MigrationsAssembly=ShrtLy.Infrastructure 
2023-07-31 00:37:42.108 +03:00 [DBG] Compiling query expression: 
'DbSet<LinkEntity>()
    .Count()'
2023-07-31 00:37:42.263 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: new SingleQueryingEnumerable<int>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Links AS l), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
        ShrtLy.Infrastructure.ShrtLyContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-07-31 00:37:42.293 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-31 00:37:42.294 +03:00 [DBG] Creating DbConnection.
2023-07-31 00:37:42.295 +03:00 [DBG] Created DbConnection. (0ms).
2023-07-31 00:37:42.296 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-07-31 00:37:42.297 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2023-07-31 00:37:42.301 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:37:42.304 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:37:42.305 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Links] AS [l]
2023-07-31 00:37:42.325 +03:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Links] AS [l]
2023-07-31 00:37:42.340 +03:00 [DBG] Closing data reader to 'Shrtly' on server 'localhost'.
2023-07-31 00:37:42.342 +03:00 [DBG] A data reader for 'Shrtly' on server 'localhost' is being disposed after spending 13ms reading results.
2023-07-31 00:37:42.346 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:37:42.347 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (1ms).
2023-07-31 00:37:42.360 +03:00 [DBG] Compiling query expression: 
'DbSet<LinkEntity>()
    .Skip(__p_0)
    .Take(__p_1)
    .AsNoTracking()'
2023-07-31 00:37:42.369 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2023-07-31 00:37:42.370 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2023-07-31 00:37:42.402 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<LinkEntity>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: LinkEntity.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: LinkEntity.ShortUrl (string) Required, 1], [Property: LinkEntity.Url (string) Required, 2] }
        SELECT l.Id, l.ShortUrl, l.Url
        FROM Links AS l
        ORDER BY (SELECT 1)
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, LinkEntity>, 
    ShrtLy.Infrastructure.ShrtLyContext, 
    False, 
    False, 
    True
)'
2023-07-31 00:37:42.413 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-31 00:37:42.414 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-07-31 00:37:42.418 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2023-07-31 00:37:42.419 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:37:42.420 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:37:42.424 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[ShortUrl], [l].[Url]
FROM [Links] AS [l]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2023-07-31 00:37:42.445 +03:00 [INF] Executed DbCommand (24ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[ShortUrl], [l].[Url]
FROM [Links] AS [l]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2023-07-31 00:37:42.451 +03:00 [DBG] Closing data reader to 'Shrtly' on server 'localhost'.
2023-07-31 00:37:42.453 +03:00 [DBG] A data reader for 'Shrtly' on server 'localhost' is being disposed after spending 5ms reading results.
2023-07-31 00:37:42.456 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:37:42.457 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (1ms).
2023-07-31 00:37:42.475 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-07-31 00:37:42.480 +03:00 [DBG] No information found on request to perform content negotiation.
2023-07-31 00:37:42.481 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-31 00:37:42.482 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-31 00:37:42.484 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-31 00:37:42.486 +03:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`7[[Shrtly.Common.PaginatedList`1[[ShrtLy.Application.DTOs.LinkDto, ShrtLy.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], Shrtly.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-07-31 00:37:42.513 +03:00 [INF] Executed action ShrtLy.Api.Controllers.LinksController.GetShortLinks (ShrtLy.Api) in 536.7664ms
2023-07-31 00:37:42.516 +03:00 [INF] Executed endpoint 'ShrtLy.Api.Controllers.LinksController.GetShortLinks (ShrtLy.Api)'
2023-07-31 00:37:42.518 +03:00 [DBG] 'ShrtLyContext' disposed.
2023-07-31 00:37:42.521 +03:00 [DBG] Disposing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:37:42.523 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2023-07-31 00:37:42.525 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Links/all - - - 200 - application/json;+charset=utf-8 624.9350ms
2023-07-31 00:37:52.036 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/aEIuSbO - -
2023-07-31 00:37:52.038 +03:00 [DBG] The request path  does not match the path filter
2023-07-31 00:37:52.040 +03:00 [DBG] 1 candidate(s) found for the request path '/aEIuSbO'
2023-07-31 00:37:52.042 +03:00 [DBG] Endpoint 'ShrtLy.Api.Controllers.LinksController.NixRedirectAsync (ShrtLy.Api)' with route pattern '{url}' is valid for the request path '/aEIuSbO'
2023-07-31 00:37:52.044 +03:00 [DBG] Request matched endpoint 'ShrtLy.Api.Controllers.LinksController.NixRedirectAsync (ShrtLy.Api)'
2023-07-31 00:37:52.047 +03:00 [INF] Executing endpoint 'ShrtLy.Api.Controllers.LinksController.NixRedirectAsync (ShrtLy.Api)'
2023-07-31 00:37:52.055 +03:00 [INF] Route matched with {action = "NixRedirect", controller = "Links"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.RedirectResult] NixRedirectAsync(System.String) on controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api).
2023-07-31 00:37:52.060 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-31 00:37:52.061 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-31 00:37:52.062 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-31 00:37:52.064 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-31 00:37:52.067 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-31 00:37:52.071 +03:00 [DBG] Executing controller factory for controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api)
2023-07-31 00:37:52.072 +03:00 [DBG] Executed controller factory for controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api)
2023-07-31 00:37:52.073 +03:00 [DBG] Attempting to bind parameter 'url' of type 'System.String' ...
2023-07-31 00:37:52.075 +03:00 [DBG] Attempting to bind parameter 'url' of type 'System.String' using the name 'url' in request data ...
2023-07-31 00:37:52.077 +03:00 [DBG] Done attempting to bind parameter 'url' of type 'System.String'.
2023-07-31 00:37:52.078 +03:00 [DBG] Done attempting to bind parameter 'url' of type 'System.String'.
2023-07-31 00:37:52.080 +03:00 [DBG] Attempting to validate the bound parameter 'url' of type 'System.String' ...
2023-07-31 00:37:52.081 +03:00 [DBG] Done attempting to validate the bound parameter 'url' of type 'System.String'.
2023-07-31 00:37:52.145 +03:00 [DBG] Entity Framework Core 7.0.9 initialized 'ShrtLyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.9' with options: MigrationsAssembly=ShrtLy.Infrastructure 
2023-07-31 00:37:52.154 +03:00 [DBG] Compiling query expression: 
'DbSet<LinkEntity>()
    .Where(l => l.ShortUrl == __url_0)
    .Select(l => l.Url)
    .Single()'
2023-07-31 00:37:52.187 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<string>(
    asyncEnumerable: new SingleQueryingEnumerable<string>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT TOP(2) l.Url
            FROM Links AS l
            WHERE l.ShortUrl == @__url_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
        ShrtLy.Infrastructure.ShrtLyContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-07-31 00:37:52.196 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-31 00:37:52.196 +03:00 [DBG] Creating DbConnection.
2023-07-31 00:37:52.199 +03:00 [DBG] Created DbConnection. (2ms).
2023-07-31 00:37:52.200 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-07-31 00:37:52.202 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2023-07-31 00:37:52.202 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:37:52.203 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:37:52.204 +03:00 [DBG] Executing DbCommand [Parameters=[@__url_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [l].[Url]
FROM [Links] AS [l]
WHERE [l].[ShortUrl] = @__url_0
2023-07-31 00:37:52.212 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__url_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [l].[Url]
FROM [Links] AS [l]
WHERE [l].[ShortUrl] = @__url_0
2023-07-31 00:37:52.220 +03:00 [DBG] Closing data reader to 'Shrtly' on server 'localhost'.
2023-07-31 00:37:52.221 +03:00 [DBG] A data reader for 'Shrtly' on server 'localhost' is being disposed after spending 1ms reading results.
2023-07-31 00:37:52.225 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:37:52.227 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (1ms).
2023-07-31 00:37:52.231 +03:00 [INF] Executing RedirectResult, redirecting to https://github.com/aivascu/shrtly-kata/blob/master/src/ShrtLy.Api/Startup.cs.
2023-07-31 00:37:52.232 +03:00 [INF] Executed action ShrtLy.Api.Controllers.LinksController.NixRedirectAsync (ShrtLy.Api) in 161.5959ms
2023-07-31 00:37:52.233 +03:00 [INF] Executed endpoint 'ShrtLy.Api.Controllers.LinksController.NixRedirectAsync (ShrtLy.Api)'
2023-07-31 00:37:52.234 +03:00 [DBG] 'ShrtLyContext' disposed.
2023-07-31 00:37:52.235 +03:00 [DBG] Disposing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:37:52.236 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2023-07-31 00:37:52.237 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/aEIuSbO - - - 302 0 - 200.6481ms
2023-07-31 00:37:59.895 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/bfcd9w - -
2023-07-31 00:37:59.897 +03:00 [DBG] The request path  does not match the path filter
2023-07-31 00:37:59.899 +03:00 [DBG] 1 candidate(s) found for the request path '/bfcd9w'
2023-07-31 00:37:59.900 +03:00 [DBG] Endpoint 'ShrtLy.Api.Controllers.LinksController.NixRedirectAsync (ShrtLy.Api)' with route pattern '{url}' is valid for the request path '/bfcd9w'
2023-07-31 00:37:59.903 +03:00 [DBG] Request matched endpoint 'ShrtLy.Api.Controllers.LinksController.NixRedirectAsync (ShrtLy.Api)'
2023-07-31 00:37:59.905 +03:00 [INF] Executing endpoint 'ShrtLy.Api.Controllers.LinksController.NixRedirectAsync (ShrtLy.Api)'
2023-07-31 00:37:59.906 +03:00 [INF] Route matched with {action = "NixRedirect", controller = "Links"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.RedirectResult] NixRedirectAsync(System.String) on controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api).
2023-07-31 00:37:59.915 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-31 00:37:59.921 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-31 00:37:59.923 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-31 00:37:59.928 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-31 00:37:59.929 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-31 00:37:59.931 +03:00 [DBG] Executing controller factory for controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api)
2023-07-31 00:37:59.932 +03:00 [DBG] Executed controller factory for controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api)
2023-07-31 00:37:59.934 +03:00 [DBG] Attempting to bind parameter 'url' of type 'System.String' ...
2023-07-31 00:37:59.935 +03:00 [DBG] Attempting to bind parameter 'url' of type 'System.String' using the name 'url' in request data ...
2023-07-31 00:37:59.940 +03:00 [DBG] Done attempting to bind parameter 'url' of type 'System.String'.
2023-07-31 00:37:59.941 +03:00 [DBG] Done attempting to bind parameter 'url' of type 'System.String'.
2023-07-31 00:37:59.942 +03:00 [DBG] Attempting to validate the bound parameter 'url' of type 'System.String' ...
2023-07-31 00:37:59.946 +03:00 [DBG] Done attempting to validate the bound parameter 'url' of type 'System.String'.
2023-07-31 00:37:59.948 +03:00 [DBG] Entity Framework Core 7.0.9 initialized 'ShrtLyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.9' with options: MigrationsAssembly=ShrtLy.Infrastructure 
2023-07-31 00:37:59.955 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-31 00:37:59.955 +03:00 [DBG] Creating DbConnection.
2023-07-31 00:37:59.956 +03:00 [DBG] Created DbConnection. (0ms).
2023-07-31 00:37:59.960 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2023-07-31 00:37:59.961 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2023-07-31 00:37:59.963 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:37:59.967 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:37:59.968 +03:00 [DBG] Executing DbCommand [Parameters=[@__url_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [l].[Url]
FROM [Links] AS [l]
WHERE [l].[ShortUrl] = @__url_0
2023-07-31 00:37:59.973 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__url_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [l].[Url]
FROM [Links] AS [l]
WHERE [l].[ShortUrl] = @__url_0
2023-07-31 00:37:59.976 +03:00 [DBG] Closing data reader to 'Shrtly' on server 'localhost'.
2023-07-31 00:37:59.977 +03:00 [DBG] A data reader for 'Shrtly' on server 'localhost' is being disposed after spending 1ms reading results.
2023-07-31 00:37:59.978 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:37:59.979 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (0ms).
2023-07-31 00:37:59.980 +03:00 [INF] Executing RedirectResult, redirecting to https://localhost:5001/swagger/index.html.
2023-07-31 00:37:59.982 +03:00 [INF] Executed action ShrtLy.Api.Controllers.LinksController.NixRedirectAsync (ShrtLy.Api) in 51.1289ms
2023-07-31 00:37:59.983 +03:00 [INF] Executed endpoint 'ShrtLy.Api.Controllers.LinksController.NixRedirectAsync (ShrtLy.Api)'
2023-07-31 00:37:59.987 +03:00 [DBG] 'ShrtLyContext' disposed.
2023-07-31 00:37:59.987 +03:00 [DBG] Disposing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:37:59.988 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2023-07-31 00:37:59.989 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2023-07-31 00:37:59.991 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 3.0661ms
2023-07-31 00:37:59.993 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/bfcd9w - - - 302 0 - 98.3437ms
2023-07-31 00:40:40.495 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-07-31 00:40:40.920 +03:00 [DBG] Entity Framework Core 7.0.9 initialized 'ShrtLyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.9' with options: MigrationsAssembly=ShrtLy.Infrastructure 
2023-07-31 00:40:40.930 +03:00 [DBG] Creating DbConnection.
2023-07-31 00:40:40.983 +03:00 [DBG] Created DbConnection. (50ms).
2023-07-31 00:40:40.989 +03:00 [DBG] Migrating using database 'Shrtly' on server 'localhost'.
2023-07-31 00:40:40.996 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:40:41.217 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:40:41.230 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-07-31 00:40:41.238 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (8ms).
2023-07-31 00:40:41.242 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (15ms).
2023-07-31 00:40:41.250 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-07-31 00:40:41.274 +03:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-07-31 00:40:41.278 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:40:41.287 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (5ms).
2023-07-31 00:40:41.292 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-31 00:40:41.293 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-07-31 00:40:41.293 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2023-07-31 00:40:41.294 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:40:41.296 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:40:41.297 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-07-31 00:40:41.311 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-07-31 00:40:41.313 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:40:41.314 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (1ms).
2023-07-31 00:40:41.316 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:40:41.317 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:40:41.318 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-07-31 00:40:41.319 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2023-07-31 00:40:41.320 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2023-07-31 00:40:41.323 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-07-31 00:40:41.329 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-07-31 00:40:41.330 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:40:41.333 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (2ms).
2023-07-31 00:40:41.334 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-31 00:40:41.338 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (3ms).
2023-07-31 00:40:41.339 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (4ms).
2023-07-31 00:40:41.340 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:40:41.343 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:40:41.346 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-07-31 00:40:41.348 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-07-31 00:40:41.350 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:40:41.352 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (2ms).
2023-07-31 00:40:41.375 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-31 00:40:41.376 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-07-31 00:40:41.377 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2023-07-31 00:40:41.379 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:40:41.380 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:40:41.381 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-07-31 00:40:41.385 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-07-31 00:40:41.394 +03:00 [DBG] Closing data reader to 'Shrtly' on server 'localhost'.
2023-07-31 00:40:41.396 +03:00 [DBG] A data reader for 'Shrtly' on server 'localhost' is being disposed after spending 4ms reading results.
2023-07-31 00:40:41.398 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:40:41.399 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (1ms).
2023-07-31 00:40:41.410 +03:00 [INF] No migrations were applied. The database is already up to date.
2023-07-31 00:40:41.412 +03:00 [DBG] 'ShrtLyContext' disposed.
2023-07-31 00:40:41.414 +03:00 [DBG] Disposing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:40:41.416 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2023-07-31 00:40:41.476 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-07-31 00:40:41.538 +03:00 [DBG] Hosting starting
2023-07-31 00:40:41.640 +03:00 [INF] Now listening on: https://localhost:5001
2023-07-31 00:40:41.641 +03:00 [INF] Now listening on: http://localhost:5000
2023-07-31 00:40:41.643 +03:00 [DBG] Loaded hosting startup assembly ShrtLy.Api
2023-07-31 00:40:41.643 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-07-31 00:40:41.645 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-07-31 00:40:41.646 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-07-31 00:40:41.646 +03:00 [INF] Hosting environment: Development
2023-07-31 00:40:41.647 +03:00 [INF] Content root path: D:\PROJECTS\KeyIvr\shrtly-kata\src\ShrtLy.Api
2023-07-31 00:40:41.648 +03:00 [DBG] Hosting started
2023-07-31 00:40:41.838 +03:00 [DBG] Connection id "0HMSH8MFOHQFO" accepted.
2023-07-31 00:40:41.838 +03:00 [DBG] Connection id "0HMSH8MFOHQFN" accepted.
2023-07-31 00:40:41.841 +03:00 [DBG] Connection id "0HMSH8MFOHQFO" started.
2023-07-31 00:40:41.842 +03:00 [DBG] Connection id "0HMSH8MFOHQFN" started.
2023-07-31 00:40:41.858 +03:00 [DBG] Connection id "0HMSH8MFOHQFO" received FIN.
2023-07-31 00:40:41.858 +03:00 [DBG] Connection id "0HMSH8MFOHQFN" received FIN.
2023-07-31 00:40:41.868 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-07-31 00:40:41.868 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-07-31 00:40:41.892 +03:00 [DBG] Connection id "0HMSH8MFOHQFN" stopped.
2023-07-31 00:40:41.892 +03:00 [DBG] Connection id "0HMSH8MFOHQFO" stopped.
2023-07-31 00:40:41.895 +03:00 [DBG] Connection id "0HMSH8MFOHQFN" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-07-31 00:40:41.895 +03:00 [DBG] Connection id "0HMSH8MFOHQFO" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-07-31 00:40:45.070 +03:00 [DBG] Connection id "0HMSH8MFOHQFP" accepted.
2023-07-31 00:40:45.073 +03:00 [DBG] Connection id "0HMSH8MFOHQFP" started.
2023-07-31 00:40:45.119 +03:00 [DBG] Connection 0HMSH8MFOHQFP established using the following protocol: "Tls12"
2023-07-31 00:40:45.227 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2023-07-31 00:40:45.266 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-07-31 00:40:45.392 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-07-31 00:40:45.492 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-07-31 00:40:45.496 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 271.7239ms
2023-07-31 00:40:45.561 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - -
2023-07-31 00:40:45.561 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - -
2023-07-31 00:40:45.570 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - - - 200 12352 application/javascript;+charset=utf-8 8.8944ms
2023-07-31 00:40:45.597 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 36.1276ms
2023-07-31 00:40:45.728 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2023-07-31 00:40:45.893 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 164.6308ms
2023-07-31 00:40:49.329 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Links/all - -
2023-07-31 00:40:49.335 +03:00 [DBG] The request path  does not match the path filter
2023-07-31 00:40:49.359 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Links/all'
2023-07-31 00:40:49.362 +03:00 [DBG] Endpoint 'ShrtLy.Api.Controllers.LinksController.GetShortLinks (ShrtLy.Api)' with route pattern 'api/Links/all' is valid for the request path '/api/Links/all'
2023-07-31 00:40:49.365 +03:00 [DBG] Request matched endpoint 'ShrtLy.Api.Controllers.LinksController.GetShortLinks (ShrtLy.Api)'
2023-07-31 00:40:49.368 +03:00 [INF] Executing endpoint 'ShrtLy.Api.Controllers.LinksController.GetShortLinks (ShrtLy.Api)'
2023-07-31 00:40:49.392 +03:00 [INF] Route matched with {action = "GetShortLinks", controller = "Links"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetShortLinks(ShrtLy.Application.DTOs.PaginationDto) on controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api).
2023-07-31 00:40:49.397 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-31 00:40:49.398 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-31 00:40:49.400 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-31 00:40:49.408 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-31 00:40:49.409 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-31 00:40:49.418 +03:00 [DBG] Executing controller factory for controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api)
2023-07-31 00:40:49.419 +03:00 [DBG] Executed controller factory for controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api)
2023-07-31 00:40:49.432 +03:00 [DBG] Attempting to bind parameter 'pagination' of type 'ShrtLy.Application.DTOs.PaginationDto' ...
2023-07-31 00:40:49.435 +03:00 [DBG] Attempting to bind parameter 'pagination' of type 'ShrtLy.Application.DTOs.PaginationDto' using the name '' in request data ...
2023-07-31 00:40:49.449 +03:00 [DBG] Attempting to bind property 'ShrtLy.Application.DTOs.PaginationDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2023-07-31 00:40:49.451 +03:00 [DBG] Could not find a value in the request with name 'Page' for binding property 'ShrtLy.Application.DTOs.PaginationDto.Page' of type 'System.Int32'.
2023-07-31 00:40:49.458 +03:00 [DBG] Done attempting to bind property 'ShrtLy.Application.DTOs.PaginationDto.Page' of type 'System.Int32'.
2023-07-31 00:40:49.462 +03:00 [DBG] Attempting to bind property 'ShrtLy.Application.DTOs.PaginationDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2023-07-31 00:40:49.466 +03:00 [DBG] Could not find a value in the request with name 'PageSize' for binding property 'ShrtLy.Application.DTOs.PaginationDto.PageSize' of type 'System.Int32'.
2023-07-31 00:40:49.472 +03:00 [DBG] Done attempting to bind property 'ShrtLy.Application.DTOs.PaginationDto.PageSize' of type 'System.Int32'.
2023-07-31 00:40:49.473 +03:00 [DBG] Done attempting to bind parameter 'pagination' of type 'ShrtLy.Application.DTOs.PaginationDto'.
2023-07-31 00:40:49.476 +03:00 [DBG] Done attempting to bind parameter 'pagination' of type 'ShrtLy.Application.DTOs.PaginationDto'.
2023-07-31 00:40:49.477 +03:00 [DBG] Attempting to validate the bound parameter 'pagination' of type 'ShrtLy.Application.DTOs.PaginationDto' ...
2023-07-31 00:40:49.484 +03:00 [DBG] Done attempting to validate the bound parameter 'pagination' of type 'ShrtLy.Application.DTOs.PaginationDto'.
2023-07-31 00:40:49.531 +03:00 [DBG] Entity Framework Core 7.0.9 initialized 'ShrtLyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.9' with options: MigrationsAssembly=ShrtLy.Infrastructure 
2023-07-31 00:40:49.571 +03:00 [DBG] Compiling query expression: 
'DbSet<LinkEntity>()
    .Count()'
2023-07-31 00:40:49.710 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: new SingleQueryingEnumerable<int>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Links AS l), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
        ShrtLy.Infrastructure.ShrtLyContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-07-31 00:40:49.740 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-31 00:40:49.742 +03:00 [DBG] Creating DbConnection.
2023-07-31 00:40:49.743 +03:00 [DBG] Created DbConnection. (0ms).
2023-07-31 00:40:49.744 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-07-31 00:40:49.745 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2023-07-31 00:40:49.748 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:40:49.752 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:40:49.754 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Links] AS [l]
2023-07-31 00:40:49.776 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Links] AS [l]
2023-07-31 00:40:49.791 +03:00 [DBG] Closing data reader to 'Shrtly' on server 'localhost'.
2023-07-31 00:40:49.792 +03:00 [DBG] A data reader for 'Shrtly' on server 'localhost' is being disposed after spending 14ms reading results.
2023-07-31 00:40:49.795 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:40:49.796 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (1ms).
2023-07-31 00:40:49.810 +03:00 [DBG] Compiling query expression: 
'DbSet<LinkEntity>()
    .Skip(__p_0)
    .Take(__p_1)
    .AsNoTracking()'
2023-07-31 00:40:49.817 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2023-07-31 00:40:49.819 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2023-07-31 00:40:49.846 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<LinkEntity>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: LinkEntity.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: LinkEntity.ShortUrl (string) Required, 1], [Property: LinkEntity.Url (string) Required, 2] }
        SELECT l.Id, l.ShortUrl, l.Url
        FROM Links AS l
        ORDER BY (SELECT 1)
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, LinkEntity>, 
    ShrtLy.Infrastructure.ShrtLyContext, 
    False, 
    False, 
    True
)'
2023-07-31 00:40:49.858 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-31 00:40:49.860 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-07-31 00:40:49.864 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2023-07-31 00:40:49.866 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:40:49.867 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:40:49.874 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[ShortUrl], [l].[Url]
FROM [Links] AS [l]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2023-07-31 00:40:49.901 +03:00 [INF] Executed DbCommand (30ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[ShortUrl], [l].[Url]
FROM [Links] AS [l]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2023-07-31 00:40:49.907 +03:00 [DBG] Closing data reader to 'Shrtly' on server 'localhost'.
2023-07-31 00:40:49.908 +03:00 [DBG] A data reader for 'Shrtly' on server 'localhost' is being disposed after spending 4ms reading results.
2023-07-31 00:40:49.909 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:40:49.910 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (0ms).
2023-07-31 00:40:49.922 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-07-31 00:40:49.929 +03:00 [DBG] No information found on request to perform content negotiation.
2023-07-31 00:40:49.930 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-31 00:40:49.935 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-31 00:40:49.937 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-31 00:40:49.940 +03:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`7[[Shrtly.Common.PaginatedList`1[[ShrtLy.Application.DTOs.LinkDto, ShrtLy.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], Shrtly.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-07-31 00:40:49.964 +03:00 [INF] Executed action ShrtLy.Api.Controllers.LinksController.GetShortLinks (ShrtLy.Api) in 545.1012ms
2023-07-31 00:40:49.968 +03:00 [INF] Executed endpoint 'ShrtLy.Api.Controllers.LinksController.GetShortLinks (ShrtLy.Api)'
2023-07-31 00:40:49.970 +03:00 [DBG] 'ShrtLyContext' disposed.
2023-07-31 00:40:49.974 +03:00 [DBG] Disposing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:40:49.976 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2023-07-31 00:40:49.979 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Links/all - - - 200 - application/json;+charset=utf-8 650.2939ms
2023-07-31 00:40:56.037 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/e13b0w - -
2023-07-31 00:40:56.038 +03:00 [DBG] The request path  does not match the path filter
2023-07-31 00:40:56.040 +03:00 [DBG] 1 candidate(s) found for the request path '/e13b0w'
2023-07-31 00:40:56.041 +03:00 [DBG] Endpoint 'HTTP: GET /{url}' with route pattern '/{url}' is valid for the request path '/e13b0w'
2023-07-31 00:40:56.043 +03:00 [DBG] Request matched endpoint 'HTTP: GET /{url}'
2023-07-31 00:40:56.044 +03:00 [INF] Executing endpoint 'HTTP: GET /{url}'
2023-07-31 00:40:56.100 +03:00 [DBG] Entity Framework Core 7.0.9 initialized 'ShrtLyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.9' with options: MigrationsAssembly=ShrtLy.Infrastructure 
2023-07-31 00:40:56.108 +03:00 [DBG] Compiling query expression: 
'DbSet<LinkEntity>()
    .Where(l => l.ShortUrl == __url_0)
    .Select(l => l.Url)
    .Single()'
2023-07-31 00:40:56.136 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<string>(
    asyncEnumerable: new SingleQueryingEnumerable<string>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT TOP(2) l.Url
            FROM Links AS l
            WHERE l.ShortUrl == @__url_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
        ShrtLy.Infrastructure.ShrtLyContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-07-31 00:40:56.147 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-31 00:40:56.149 +03:00 [DBG] Creating DbConnection.
2023-07-31 00:40:56.150 +03:00 [DBG] Created DbConnection. (0ms).
2023-07-31 00:40:56.151 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-07-31 00:40:56.152 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2023-07-31 00:40:56.153 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:40:56.154 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:40:56.155 +03:00 [DBG] Executing DbCommand [Parameters=[@__url_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [l].[Url]
FROM [Links] AS [l]
WHERE [l].[ShortUrl] = @__url_0
2023-07-31 00:40:56.160 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__url_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [l].[Url]
FROM [Links] AS [l]
WHERE [l].[ShortUrl] = @__url_0
2023-07-31 00:40:56.165 +03:00 [DBG] Closing data reader to 'Shrtly' on server 'localhost'.
2023-07-31 00:40:56.165 +03:00 [DBG] A data reader for 'Shrtly' on server 'localhost' is being disposed after spending 1ms reading results.
2023-07-31 00:40:56.168 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:40:56.172 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (3ms).
2023-07-31 00:40:56.180 +03:00 [INF] Executing RedirectResult, redirecting to https://github.com/tpwrz/SelfTraining/blob/main/WebAPI/WebApi.csproj.
2023-07-31 00:40:56.181 +03:00 [INF] Executed endpoint 'HTTP: GET /{url}'
2023-07-31 00:40:56.188 +03:00 [DBG] 'ShrtLyContext' disposed.
2023-07-31 00:40:56.189 +03:00 [DBG] Disposing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:40:56.195 +03:00 [DBG] Disposed connection to database '' on server '' (6ms).
2023-07-31 00:40:56.198 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/e13b0w - - - 302 0 - 161.2292ms
2023-07-31 00:41:01.328 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/e13b0w - -
2023-07-31 00:41:01.330 +03:00 [DBG] The request path  does not match the path filter
2023-07-31 00:41:01.330 +03:00 [DBG] 1 candidate(s) found for the request path '/e13b0w'
2023-07-31 00:41:01.331 +03:00 [DBG] Endpoint 'HTTP: GET /{url}' with route pattern '/{url}' is valid for the request path '/e13b0w'
2023-07-31 00:41:01.333 +03:00 [DBG] Request matched endpoint 'HTTP: GET /{url}'
2023-07-31 00:41:01.334 +03:00 [INF] Executing endpoint 'HTTP: GET /{url}'
2023-07-31 00:41:01.337 +03:00 [DBG] Entity Framework Core 7.0.9 initialized 'ShrtLyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.9' with options: MigrationsAssembly=ShrtLy.Infrastructure 
2023-07-31 00:41:01.342 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-31 00:41:01.343 +03:00 [DBG] Creating DbConnection.
2023-07-31 00:41:01.344 +03:00 [DBG] Created DbConnection. (0ms).
2023-07-31 00:41:01.345 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-07-31 00:41:01.346 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2023-07-31 00:41:01.348 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:41:01.349 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:41:01.355 +03:00 [DBG] Executing DbCommand [Parameters=[@__url_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [l].[Url]
FROM [Links] AS [l]
WHERE [l].[ShortUrl] = @__url_0
2023-07-31 00:41:01.362 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__url_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [l].[Url]
FROM [Links] AS [l]
WHERE [l].[ShortUrl] = @__url_0
2023-07-31 00:41:01.367 +03:00 [DBG] Closing data reader to 'Shrtly' on server 'localhost'.
2023-07-31 00:41:01.367 +03:00 [DBG] A data reader for 'Shrtly' on server 'localhost' is being disposed after spending 1ms reading results.
2023-07-31 00:41:01.370 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:41:01.376 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (5ms).
2023-07-31 00:41:01.378 +03:00 [INF] Executing RedirectResult, redirecting to https://github.com/tpwrz/SelfTraining/blob/main/WebAPI/WebApi.csproj.
2023-07-31 00:41:01.380 +03:00 [INF] Executed endpoint 'HTTP: GET /{url}'
2023-07-31 00:41:01.384 +03:00 [DBG] 'ShrtLyContext' disposed.
2023-07-31 00:41:01.387 +03:00 [DBG] Disposing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:41:01.388 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2023-07-31 00:41:01.390 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/e13b0w - - - 302 0 - 61.7928ms
2023-07-31 00:41:16.019 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - -
2023-07-31 00:41:16.022 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - - - 200 12352 application/javascript;+charset=utf-8 2.5951ms
2023-07-31 00:41:18.159 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/bfcd9w - -
2023-07-31 00:41:18.161 +03:00 [DBG] The request path  does not match the path filter
2023-07-31 00:41:18.162 +03:00 [DBG] 1 candidate(s) found for the request path '/bfcd9w'
2023-07-31 00:41:18.163 +03:00 [DBG] Endpoint 'HTTP: GET /{url}' with route pattern '/{url}' is valid for the request path '/bfcd9w'
2023-07-31 00:41:18.164 +03:00 [DBG] Request matched endpoint 'HTTP: GET /{url}'
2023-07-31 00:41:18.165 +03:00 [INF] Executing endpoint 'HTTP: GET /{url}'
2023-07-31 00:41:18.167 +03:00 [DBG] Entity Framework Core 7.0.9 initialized 'ShrtLyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.9' with options: MigrationsAssembly=ShrtLy.Infrastructure 
2023-07-31 00:41:18.170 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-31 00:41:18.173 +03:00 [DBG] Creating DbConnection.
2023-07-31 00:41:18.173 +03:00 [DBG] Created DbConnection. (0ms).
2023-07-31 00:41:18.175 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2023-07-31 00:41:18.176 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2023-07-31 00:41:18.177 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:41:18.180 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:41:18.180 +03:00 [DBG] Executing DbCommand [Parameters=[@__url_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [l].[Url]
FROM [Links] AS [l]
WHERE [l].[ShortUrl] = @__url_0
2023-07-31 00:41:18.190 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__url_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [l].[Url]
FROM [Links] AS [l]
WHERE [l].[ShortUrl] = @__url_0
2023-07-31 00:41:18.196 +03:00 [DBG] Closing data reader to 'Shrtly' on server 'localhost'.
2023-07-31 00:41:18.197 +03:00 [DBG] A data reader for 'Shrtly' on server 'localhost' is being disposed after spending 0ms reading results.
2023-07-31 00:41:18.200 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:41:18.201 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (0ms).
2023-07-31 00:41:18.204 +03:00 [INF] Executing RedirectResult, redirecting to https://localhost:5001/swagger/index.html.
2023-07-31 00:41:18.206 +03:00 [INF] Executed endpoint 'HTTP: GET /{url}'
2023-07-31 00:41:18.206 +03:00 [DBG] 'ShrtLyContext' disposed.
2023-07-31 00:41:18.207 +03:00 [DBG] Disposing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:41:18.208 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2023-07-31 00:41:18.209 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2023-07-31 00:41:18.211 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-07-31 00:41:18.214 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/bfcd9w - - - 302 0 - 54.3523ms
2023-07-31 00:41:18.219 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-07-31 00:41:18.220 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 11.1345ms
2023-07-31 00:41:18.235 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - -
2023-07-31 00:41:18.235 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - -
2023-07-31 00:41:18.239 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - - - 200 12352 application/javascript;+charset=utf-8 3.5583ms
2023-07-31 00:41:18.273 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 38.1419ms
2023-07-31 00:41:18.350 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2023-07-31 00:41:18.359 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 9.1850ms
2023-07-31 00:41:31.072 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/aEIuSbO - -
2023-07-31 00:41:31.074 +03:00 [DBG] The request path  does not match the path filter
2023-07-31 00:41:31.074 +03:00 [DBG] 1 candidate(s) found for the request path '/aEIuSbO'
2023-07-31 00:41:31.075 +03:00 [DBG] Endpoint 'HTTP: GET /{url}' with route pattern '/{url}' is valid for the request path '/aEIuSbO'
2023-07-31 00:41:31.076 +03:00 [DBG] Request matched endpoint 'HTTP: GET /{url}'
2023-07-31 00:41:31.077 +03:00 [INF] Executing endpoint 'HTTP: GET /{url}'
2023-07-31 00:41:31.079 +03:00 [DBG] Entity Framework Core 7.0.9 initialized 'ShrtLyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.9' with options: MigrationsAssembly=ShrtLy.Infrastructure 
2023-07-31 00:41:31.080 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-31 00:41:31.082 +03:00 [DBG] Creating DbConnection.
2023-07-31 00:41:31.083 +03:00 [DBG] Created DbConnection. (0ms).
2023-07-31 00:41:31.089 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (8ms).
2023-07-31 00:41:31.090 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2023-07-31 00:41:31.093 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:41:31.097 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:41:31.097 +03:00 [DBG] Executing DbCommand [Parameters=[@__url_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [l].[Url]
FROM [Links] AS [l]
WHERE [l].[ShortUrl] = @__url_0
2023-07-31 00:41:31.102 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__url_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [l].[Url]
FROM [Links] AS [l]
WHERE [l].[ShortUrl] = @__url_0
2023-07-31 00:41:31.108 +03:00 [DBG] Closing data reader to 'Shrtly' on server 'localhost'.
2023-07-31 00:41:31.109 +03:00 [DBG] A data reader for 'Shrtly' on server 'localhost' is being disposed after spending 1ms reading results.
2023-07-31 00:41:31.110 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:41:31.113 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (2ms).
2023-07-31 00:41:31.114 +03:00 [INF] Executing RedirectResult, redirecting to https://github.com/aivascu/shrtly-kata/blob/master/src/ShrtLy.Api/Startup.cs.
2023-07-31 00:41:31.117 +03:00 [INF] Executed endpoint 'HTTP: GET /{url}'
2023-07-31 00:41:31.118 +03:00 [DBG] 'ShrtLyContext' disposed.
2023-07-31 00:41:31.119 +03:00 [DBG] Disposing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:41:31.120 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2023-07-31 00:41:31.123 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/aEIuSbO - - - 302 0 - 50.6335ms
2023-07-31 00:41:37.402 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Links/all - -
2023-07-31 00:41:37.404 +03:00 [DBG] The request path  does not match the path filter
2023-07-31 00:41:37.405 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Links/all'
2023-07-31 00:41:37.406 +03:00 [DBG] Endpoint 'ShrtLy.Api.Controllers.LinksController.GetShortLinks (ShrtLy.Api)' with route pattern 'api/Links/all' is valid for the request path '/api/Links/all'
2023-07-31 00:41:37.408 +03:00 [DBG] Request matched endpoint 'ShrtLy.Api.Controllers.LinksController.GetShortLinks (ShrtLy.Api)'
2023-07-31 00:41:37.409 +03:00 [INF] Executing endpoint 'ShrtLy.Api.Controllers.LinksController.GetShortLinks (ShrtLy.Api)'
2023-07-31 00:41:37.411 +03:00 [INF] Route matched with {action = "GetShortLinks", controller = "Links"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetShortLinks(ShrtLy.Application.DTOs.PaginationDto) on controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api).
2023-07-31 00:41:37.417 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-31 00:41:37.418 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-31 00:41:37.419 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-31 00:41:37.423 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-31 00:41:37.424 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-31 00:41:37.428 +03:00 [DBG] Executing controller factory for controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api)
2023-07-31 00:41:37.430 +03:00 [DBG] Executed controller factory for controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api)
2023-07-31 00:41:37.431 +03:00 [DBG] Attempting to bind parameter 'pagination' of type 'ShrtLy.Application.DTOs.PaginationDto' ...
2023-07-31 00:41:37.433 +03:00 [DBG] Attempting to bind parameter 'pagination' of type 'ShrtLy.Application.DTOs.PaginationDto' using the name '' in request data ...
2023-07-31 00:41:37.436 +03:00 [DBG] Attempting to bind property 'ShrtLy.Application.DTOs.PaginationDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2023-07-31 00:41:37.439 +03:00 [DBG] Could not find a value in the request with name 'Page' for binding property 'ShrtLy.Application.DTOs.PaginationDto.Page' of type 'System.Int32'.
2023-07-31 00:41:37.442 +03:00 [DBG] Done attempting to bind property 'ShrtLy.Application.DTOs.PaginationDto.Page' of type 'System.Int32'.
2023-07-31 00:41:37.446 +03:00 [DBG] Attempting to bind property 'ShrtLy.Application.DTOs.PaginationDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2023-07-31 00:41:37.448 +03:00 [DBG] Could not find a value in the request with name 'PageSize' for binding property 'ShrtLy.Application.DTOs.PaginationDto.PageSize' of type 'System.Int32'.
2023-07-31 00:41:37.450 +03:00 [DBG] Done attempting to bind property 'ShrtLy.Application.DTOs.PaginationDto.PageSize' of type 'System.Int32'.
2023-07-31 00:41:37.452 +03:00 [DBG] Done attempting to bind parameter 'pagination' of type 'ShrtLy.Application.DTOs.PaginationDto'.
2023-07-31 00:41:37.453 +03:00 [DBG] Done attempting to bind parameter 'pagination' of type 'ShrtLy.Application.DTOs.PaginationDto'.
2023-07-31 00:41:37.457 +03:00 [DBG] Attempting to validate the bound parameter 'pagination' of type 'ShrtLy.Application.DTOs.PaginationDto' ...
2023-07-31 00:41:37.459 +03:00 [DBG] Done attempting to validate the bound parameter 'pagination' of type 'ShrtLy.Application.DTOs.PaginationDto'.
2023-07-31 00:41:37.465 +03:00 [DBG] Entity Framework Core 7.0.9 initialized 'ShrtLyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.9' with options: MigrationsAssembly=ShrtLy.Infrastructure 
2023-07-31 00:41:37.467 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-31 00:41:37.467 +03:00 [DBG] Creating DbConnection.
2023-07-31 00:41:37.468 +03:00 [DBG] Created DbConnection. (0ms).
2023-07-31 00:41:37.469 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-07-31 00:41:37.472 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2023-07-31 00:41:37.473 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:41:37.476 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:41:37.477 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Links] AS [l]
2023-07-31 00:41:37.481 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Links] AS [l]
2023-07-31 00:41:37.485 +03:00 [DBG] Closing data reader to 'Shrtly' on server 'localhost'.
2023-07-31 00:41:37.487 +03:00 [DBG] A data reader for 'Shrtly' on server 'localhost' is being disposed after spending 2ms reading results.
2023-07-31 00:41:37.488 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:41:37.491 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (2ms).
2023-07-31 00:41:37.493 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-31 00:41:37.495 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-07-31 00:41:37.496 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2023-07-31 00:41:37.497 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:41:37.498 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:41:37.499 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[ShortUrl], [l].[Url]
FROM [Links] AS [l]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2023-07-31 00:41:37.510 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[ShortUrl], [l].[Url]
FROM [Links] AS [l]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2023-07-31 00:41:37.515 +03:00 [DBG] Closing data reader to 'Shrtly' on server 'localhost'.
2023-07-31 00:41:37.517 +03:00 [DBG] A data reader for 'Shrtly' on server 'localhost' is being disposed after spending 1ms reading results.
2023-07-31 00:41:37.518 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:41:37.519 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (1ms).
2023-07-31 00:41:37.522 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-07-31 00:41:37.528 +03:00 [DBG] No information found on request to perform content negotiation.
2023-07-31 00:41:37.528 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-31 00:41:37.529 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-31 00:41:37.532 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-31 00:41:37.535 +03:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`7[[Shrtly.Common.PaginatedList`1[[ShrtLy.Application.DTOs.LinkDto, ShrtLy.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], Shrtly.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-07-31 00:41:37.540 +03:00 [INF] Executed action ShrtLy.Api.Controllers.LinksController.GetShortLinks (ShrtLy.Api) in 111.9833ms
2023-07-31 00:41:37.542 +03:00 [INF] Executed endpoint 'ShrtLy.Api.Controllers.LinksController.GetShortLinks (ShrtLy.Api)'
2023-07-31 00:41:37.543 +03:00 [DBG] 'ShrtLyContext' disposed.
2023-07-31 00:41:37.547 +03:00 [DBG] Disposing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:41:37.549 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2023-07-31 00:41:37.551 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Links/all - - - 200 - application/json;+charset=utf-8 148.9047ms
2023-07-31 00:41:47.640 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/706dew - -
2023-07-31 00:41:47.641 +03:00 [DBG] The request path  does not match the path filter
2023-07-31 00:41:47.642 +03:00 [DBG] 1 candidate(s) found for the request path '/706dew'
2023-07-31 00:41:47.643 +03:00 [DBG] Endpoint 'HTTP: GET /{url}' with route pattern '/{url}' is valid for the request path '/706dew'
2023-07-31 00:41:47.644 +03:00 [DBG] Request matched endpoint 'HTTP: GET /{url}'
2023-07-31 00:41:47.646 +03:00 [INF] Executing endpoint 'HTTP: GET /{url}'
2023-07-31 00:41:47.647 +03:00 [DBG] Entity Framework Core 7.0.9 initialized 'ShrtLyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.9' with options: MigrationsAssembly=ShrtLy.Infrastructure 
2023-07-31 00:41:47.651 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-31 00:41:47.652 +03:00 [DBG] Creating DbConnection.
2023-07-31 00:41:47.654 +03:00 [DBG] Created DbConnection. (2ms).
2023-07-31 00:41:47.656 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2023-07-31 00:41:47.657 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2023-07-31 00:41:47.660 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:41:47.661 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:41:47.666 +03:00 [DBG] Executing DbCommand [Parameters=[@__url_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [l].[Url]
FROM [Links] AS [l]
WHERE [l].[ShortUrl] = @__url_0
2023-07-31 00:41:47.675 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__url_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [l].[Url]
FROM [Links] AS [l]
WHERE [l].[ShortUrl] = @__url_0
2023-07-31 00:41:47.679 +03:00 [DBG] Closing data reader to 'Shrtly' on server 'localhost'.
2023-07-31 00:41:47.680 +03:00 [DBG] A data reader for 'Shrtly' on server 'localhost' is being disposed after spending 0ms reading results.
2023-07-31 00:41:47.683 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:41:47.684 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (0ms).
2023-07-31 00:41:47.686 +03:00 [INF] Executing RedirectResult, redirecting to https://www.twilio.com/blog/build-a-url-shortener-with-csharp-dotnet-and-redis.
2023-07-31 00:41:47.687 +03:00 [INF] Executed endpoint 'HTTP: GET /{url}'
2023-07-31 00:41:47.689 +03:00 [DBG] 'ShrtLyContext' disposed.
2023-07-31 00:41:47.695 +03:00 [DBG] Disposing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 00:41:47.696 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2023-07-31 00:41:47.699 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/706dew - - - 302 0 - 59.1838ms
2023-07-31 21:01:29.581 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-07-31 21:01:30.082 +03:00 [DBG] Entity Framework Core 7.0.9 initialized 'ShrtLyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.9' with options: MigrationsAssembly=ShrtLy.Infrastructure 
2023-07-31 21:01:30.093 +03:00 [DBG] Creating DbConnection.
2023-07-31 21:01:30.157 +03:00 [DBG] Created DbConnection. (60ms).
2023-07-31 21:01:30.163 +03:00 [DBG] Migrating using database 'Shrtly' on server 'localhost'.
2023-07-31 21:01:30.171 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:01:30.450 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:01:30.457 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-07-31 21:01:30.464 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (6ms).
2023-07-31 21:01:30.468 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (12ms).
2023-07-31 21:01:30.474 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-07-31 21:01:30.497 +03:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-07-31 21:01:30.501 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:01:30.511 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (5ms).
2023-07-31 21:01:30.515 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-31 21:01:30.516 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2023-07-31 21:01:30.518 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (2ms).
2023-07-31 21:01:30.519 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:01:30.522 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:01:30.524 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-07-31 21:01:30.538 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-07-31 21:01:30.540 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:01:30.542 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (2ms).
2023-07-31 21:01:30.543 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:01:30.545 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:01:30.546 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-07-31 21:01:30.546 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-07-31 21:01:30.547 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2023-07-31 21:01:30.548 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-07-31 21:01:30.550 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-07-31 21:01:30.552 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:01:30.552 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (0ms).
2023-07-31 21:01:30.553 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-31 21:01:30.554 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-07-31 21:01:30.555 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2023-07-31 21:01:30.556 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:01:30.556 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:01:30.557 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-07-31 21:01:30.559 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-07-31 21:01:30.560 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:01:30.561 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (0ms).
2023-07-31 21:01:30.582 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-31 21:01:30.583 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-07-31 21:01:30.584 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2023-07-31 21:01:30.585 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:01:30.586 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:01:30.587 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-07-31 21:01:30.591 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-07-31 21:01:30.594 +03:00 [DBG] Closing data reader to 'Shrtly' on server 'localhost'.
2023-07-31 21:01:30.596 +03:00 [DBG] A data reader for 'Shrtly' on server 'localhost' is being disposed after spending 2ms reading results.
2023-07-31 21:01:30.597 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:01:30.598 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (0ms).
2023-07-31 21:01:30.609 +03:00 [INF] No migrations were applied. The database is already up to date.
2023-07-31 21:01:30.610 +03:00 [DBG] 'ShrtLyContext' disposed.
2023-07-31 21:01:30.612 +03:00 [DBG] Disposing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:01:30.614 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2023-07-31 21:01:30.700 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-07-31 21:01:30.766 +03:00 [DBG] Hosting starting
2023-07-31 21:01:30.926 +03:00 [INF] Now listening on: https://localhost:5001
2023-07-31 21:01:30.927 +03:00 [INF] Now listening on: http://localhost:5000
2023-07-31 21:01:30.928 +03:00 [DBG] Loaded hosting startup assembly ShrtLy.Api
2023-07-31 21:01:30.929 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-07-31 21:01:30.930 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-07-31 21:01:30.931 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-07-31 21:01:30.932 +03:00 [INF] Hosting environment: Development
2023-07-31 21:01:30.932 +03:00 [INF] Content root path: D:\PROJECTS\KeyIvr\shrtly-kata\src\ShrtLy.Api
2023-07-31 21:01:30.933 +03:00 [DBG] Hosting started
2023-07-31 21:01:31.017 +03:00 [DBG] Connection id "0HMSHU0LN53KU" accepted.
2023-07-31 21:01:31.017 +03:00 [DBG] Connection id "0HMSHU0LN53KT" accepted.
2023-07-31 21:01:31.019 +03:00 [DBG] Connection id "0HMSHU0LN53KU" started.
2023-07-31 21:01:31.020 +03:00 [DBG] Connection id "0HMSHU0LN53KT" started.
2023-07-31 21:01:31.301 +03:00 [DBG] Connection id "0HMSHU0LN53KV" accepted.
2023-07-31 21:01:31.303 +03:00 [DBG] Connection id "0HMSHU0LN53KV" started.
2023-07-31 21:01:31.372 +03:00 [DBG] Connection 0HMSHU0LN53KV established using the following protocol: "Tls12"
2023-07-31 21:01:31.467 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2023-07-31 21:01:31.489 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-07-31 21:01:31.605 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-07-31 21:01:31.802 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-07-31 21:01:31.807 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 342.2021ms
2023-07-31 21:01:31.887 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - -
2023-07-31 21:01:31.886 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - -
2023-07-31 21:01:31.929 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - - - 200 12352 application/javascript;+charset=utf-8 42.8718ms
2023-07-31 21:01:32.022 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 135.1575ms
2023-07-31 21:01:32.162 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2023-07-31 21:01:32.359 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 197.2899ms
2023-07-31 21:01:38.612 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Links/all - -
2023-07-31 21:01:38.616 +03:00 [DBG] The request path  does not match the path filter
2023-07-31 21:01:38.642 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Links/all'
2023-07-31 21:01:38.647 +03:00 [DBG] Endpoint 'ShrtLy.Api.Controllers.LinksController.GetShortLinks (ShrtLy.Api)' with route pattern 'api/Links/all' is valid for the request path '/api/Links/all'
2023-07-31 21:01:38.649 +03:00 [DBG] Request matched endpoint 'ShrtLy.Api.Controllers.LinksController.GetShortLinks (ShrtLy.Api)'
2023-07-31 21:01:38.654 +03:00 [INF] Executing endpoint 'ShrtLy.Api.Controllers.LinksController.GetShortLinks (ShrtLy.Api)'
2023-07-31 21:01:38.681 +03:00 [INF] Route matched with {action = "GetShortLinks", controller = "Links"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetShortLinks(ShrtLy.Application.DTOs.PaginationDto) on controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api).
2023-07-31 21:01:38.684 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-31 21:01:38.685 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-31 21:01:38.687 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-31 21:01:38.689 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-31 21:01:38.690 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-31 21:01:38.692 +03:00 [DBG] Executing controller factory for controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api)
2023-07-31 21:01:38.694 +03:00 [DBG] Executed controller factory for controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api)
2023-07-31 21:01:38.707 +03:00 [DBG] Attempting to bind parameter 'pagination' of type 'ShrtLy.Application.DTOs.PaginationDto' ...
2023-07-31 21:01:38.710 +03:00 [DBG] Attempting to bind parameter 'pagination' of type 'ShrtLy.Application.DTOs.PaginationDto' using the name '' in request data ...
2023-07-31 21:01:38.715 +03:00 [DBG] Attempting to bind property 'ShrtLy.Application.DTOs.PaginationDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2023-07-31 21:01:38.717 +03:00 [DBG] Could not find a value in the request with name 'Page' for binding property 'ShrtLy.Application.DTOs.PaginationDto.Page' of type 'System.Int32'.
2023-07-31 21:01:38.718 +03:00 [DBG] Done attempting to bind property 'ShrtLy.Application.DTOs.PaginationDto.Page' of type 'System.Int32'.
2023-07-31 21:01:38.721 +03:00 [DBG] Attempting to bind property 'ShrtLy.Application.DTOs.PaginationDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2023-07-31 21:01:38.722 +03:00 [DBG] Could not find a value in the request with name 'PageSize' for binding property 'ShrtLy.Application.DTOs.PaginationDto.PageSize' of type 'System.Int32'.
2023-07-31 21:01:38.723 +03:00 [DBG] Done attempting to bind property 'ShrtLy.Application.DTOs.PaginationDto.PageSize' of type 'System.Int32'.
2023-07-31 21:01:38.725 +03:00 [DBG] Done attempting to bind parameter 'pagination' of type 'ShrtLy.Application.DTOs.PaginationDto'.
2023-07-31 21:01:38.726 +03:00 [DBG] Done attempting to bind parameter 'pagination' of type 'ShrtLy.Application.DTOs.PaginationDto'.
2023-07-31 21:01:38.727 +03:00 [DBG] Attempting to validate the bound parameter 'pagination' of type 'ShrtLy.Application.DTOs.PaginationDto' ...
2023-07-31 21:01:38.731 +03:00 [DBG] Done attempting to validate the bound parameter 'pagination' of type 'ShrtLy.Application.DTOs.PaginationDto'.
2023-07-31 21:01:38.781 +03:00 [DBG] Entity Framework Core 7.0.9 initialized 'ShrtLyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.9' with options: MigrationsAssembly=ShrtLy.Infrastructure 
2023-07-31 21:01:38.831 +03:00 [DBG] Compiling query expression: 
'DbSet<LinkEntity>()
    .Count()'
2023-07-31 21:01:38.982 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: new SingleQueryingEnumerable<int>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Links AS l), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
        ShrtLy.Infrastructure.ShrtLyContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-07-31 21:01:39.012 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-31 21:01:39.014 +03:00 [DBG] Creating DbConnection.
2023-07-31 21:01:39.015 +03:00 [DBG] Created DbConnection. (1ms).
2023-07-31 21:01:39.016 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-07-31 21:01:39.017 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2023-07-31 21:01:39.020 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:01:39.024 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:01:39.025 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Links] AS [l]
2023-07-31 21:01:39.042 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Links] AS [l]
2023-07-31 21:01:39.056 +03:00 [DBG] Closing data reader to 'Shrtly' on server 'localhost'.
2023-07-31 21:01:39.057 +03:00 [DBG] A data reader for 'Shrtly' on server 'localhost' is being disposed after spending 13ms reading results.
2023-07-31 21:01:39.060 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:01:39.061 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (1ms).
2023-07-31 21:01:39.079 +03:00 [DBG] Compiling query expression: 
'DbSet<LinkEntity>()
    .Skip(__p_0)
    .Take(__p_1)
    .AsNoTracking()'
2023-07-31 21:01:39.086 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2023-07-31 21:01:39.087 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2023-07-31 21:01:39.115 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<LinkEntity>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: LinkEntity.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: LinkEntity.ShortUrl (string) Required, 1], [Property: LinkEntity.Url (string) Required, 2] }
        SELECT l.Id, l.ShortUrl, l.Url
        FROM Links AS l
        ORDER BY (SELECT 1)
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, LinkEntity>, 
    ShrtLy.Infrastructure.ShrtLyContext, 
    False, 
    False, 
    True
)'
2023-07-31 21:01:39.125 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-31 21:01:39.126 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-07-31 21:01:39.130 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2023-07-31 21:01:39.131 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:01:39.132 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:01:39.136 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[ShortUrl], [l].[Url]
FROM [Links] AS [l]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2023-07-31 21:01:39.158 +03:00 [INF] Executed DbCommand (25ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[ShortUrl], [l].[Url]
FROM [Links] AS [l]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2023-07-31 21:01:39.164 +03:00 [DBG] Closing data reader to 'Shrtly' on server 'localhost'.
2023-07-31 21:01:39.165 +03:00 [DBG] A data reader for 'Shrtly' on server 'localhost' is being disposed after spending 4ms reading results.
2023-07-31 21:01:39.167 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:01:39.168 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (0ms).
2023-07-31 21:01:39.179 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-07-31 21:01:39.183 +03:00 [DBG] No information found on request to perform content negotiation.
2023-07-31 21:01:39.184 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-31 21:01:39.184 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-31 21:01:39.186 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-31 21:01:39.187 +03:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`7[[Shrtly.Common.PaginatedList`1[[ShrtLy.Application.DTOs.LinkDto, ShrtLy.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], Shrtly.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-07-31 21:01:39.209 +03:00 [INF] Executed action ShrtLy.Api.Controllers.LinksController.GetShortLinks (ShrtLy.Api) in 514.6163ms
2023-07-31 21:01:39.211 +03:00 [INF] Executed endpoint 'ShrtLy.Api.Controllers.LinksController.GetShortLinks (ShrtLy.Api)'
2023-07-31 21:01:39.213 +03:00 [DBG] 'ShrtLyContext' disposed.
2023-07-31 21:01:39.217 +03:00 [DBG] Disposing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:01:39.219 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2023-07-31 21:01:39.222 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Links/all - - - 200 - application/json;+charset=utf-8 609.6124ms
2023-07-31 21:01:41.037 +03:00 [DBG] Authentication of the HTTPS connection timed out.
2023-07-31 21:01:41.037 +03:00 [DBG] Authentication of the HTTPS connection timed out.
2023-07-31 21:01:41.041 +03:00 [DBG] Connection id "0HMSHU0LN53KU" stopped.
2023-07-31 21:01:41.041 +03:00 [DBG] Connection id "0HMSHU0LN53KT" stopped.
2023-07-31 21:01:41.042 +03:00 [DBG] Connection id "0HMSHU0LN53KU" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-07-31 21:01:41.042 +03:00 [DBG] Connection id "0HMSHU0LN53KT" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-07-31 21:01:46.677 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/706dew - -
2023-07-31 21:01:46.679 +03:00 [DBG] The request path /706dew does not match a supported file type
2023-07-31 21:01:46.680 +03:00 [DBG] No candidates found for the request path '/swagger/706dew'
2023-07-31 21:01:46.681 +03:00 [DBG] Request did not match any endpoints
2023-07-31 21:01:46.682 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/706dew - - - 404 0 - 5.1923ms
2023-07-31 21:01:50.047 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/706dew - -
2023-07-31 21:01:50.049 +03:00 [DBG] The request path  does not match the path filter
2023-07-31 21:01:50.051 +03:00 [DBG] 1 candidate(s) found for the request path '/706dew'
2023-07-31 21:01:50.051 +03:00 [DBG] Endpoint 'HTTP: GET /{url}' with route pattern '/{url}' is valid for the request path '/706dew'
2023-07-31 21:01:50.053 +03:00 [DBG] Request matched endpoint 'HTTP: GET /{url}'
2023-07-31 21:01:50.053 +03:00 [INF] Executing endpoint 'HTTP: GET /{url}'
2023-07-31 21:01:50.115 +03:00 [DBG] Entity Framework Core 7.0.9 initialized 'ShrtLyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.9' with options: MigrationsAssembly=ShrtLy.Infrastructure 
2023-07-31 21:01:50.122 +03:00 [DBG] Compiling query expression: 
'DbSet<LinkEntity>()
    .Where(l => l.ShortUrl == __url_0)
    .Select(l => l.Url)
    .Single()'
2023-07-31 21:01:50.150 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<string>(
    asyncEnumerable: new SingleQueryingEnumerable<string>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT TOP(2) l.Url
            FROM Links AS l
            WHERE l.ShortUrl == @__url_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
        ShrtLy.Infrastructure.ShrtLyContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-07-31 21:01:50.160 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-31 21:01:50.161 +03:00 [DBG] Creating DbConnection.
2023-07-31 21:01:50.162 +03:00 [DBG] Created DbConnection. (0ms).
2023-07-31 21:01:50.163 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-07-31 21:01:50.164 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2023-07-31 21:01:50.164 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:01:50.166 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:01:50.167 +03:00 [DBG] Executing DbCommand [Parameters=[@__url_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [l].[Url]
FROM [Links] AS [l]
WHERE [l].[ShortUrl] = @__url_0
2023-07-31 21:01:50.171 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__url_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [l].[Url]
FROM [Links] AS [l]
WHERE [l].[ShortUrl] = @__url_0
2023-07-31 21:01:50.174 +03:00 [DBG] Closing data reader to 'Shrtly' on server 'localhost'.
2023-07-31 21:01:50.175 +03:00 [DBG] A data reader for 'Shrtly' on server 'localhost' is being disposed after spending 2ms reading results.
2023-07-31 21:01:50.176 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:01:50.177 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (0ms).
2023-07-31 21:01:50.179 +03:00 [INF] Executing RedirectResult, redirecting to https://www.twilio.com/blog/build-a-url-shortener-with-csharp-dotnet-and-redis.
2023-07-31 21:01:50.180 +03:00 [INF] Executed endpoint 'HTTP: GET /{url}'
2023-07-31 21:01:50.182 +03:00 [DBG] 'ShrtLyContext' disposed.
2023-07-31 21:01:50.183 +03:00 [DBG] Disposing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:01:50.184 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2023-07-31 21:01:50.184 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/706dew - - - 302 0 - 137.0611ms
2023-07-31 21:01:55.556 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - -
2023-07-31 21:01:55.558 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - - - 200 12352 application/javascript;+charset=utf-8 2.1339ms
2023-07-31 21:15:44.579 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-07-31 21:15:45.072 +03:00 [DBG] Entity Framework Core 7.0.9 initialized 'ShrtLyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.9' with options: MigrationsAssembly=ShrtLy.Infrastructure 
2023-07-31 21:15:45.083 +03:00 [DBG] Creating DbConnection.
2023-07-31 21:15:45.141 +03:00 [DBG] Created DbConnection. (55ms).
2023-07-31 21:15:45.146 +03:00 [DBG] Migrating using database 'Shrtly' on server 'localhost'.
2023-07-31 21:15:45.152 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:15:45.381 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:15:45.388 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-07-31 21:15:45.395 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (5ms).
2023-07-31 21:15:45.398 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (12ms).
2023-07-31 21:15:45.405 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-07-31 21:15:45.428 +03:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-07-31 21:15:45.432 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:15:45.440 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (4ms).
2023-07-31 21:15:45.444 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-31 21:15:45.446 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2023-07-31 21:15:45.447 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (2ms).
2023-07-31 21:15:45.449 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:15:45.451 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:15:45.452 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-07-31 21:15:45.465 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-07-31 21:15:45.467 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:15:45.468 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (0ms).
2023-07-31 21:15:45.469 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:15:45.470 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:15:45.471 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-07-31 21:15:45.471 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-07-31 21:15:45.472 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2023-07-31 21:15:45.473 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-07-31 21:15:45.475 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-07-31 21:15:45.476 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:15:45.477 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (0ms).
2023-07-31 21:15:45.478 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-31 21:15:45.478 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-07-31 21:15:45.479 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2023-07-31 21:15:45.480 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:15:45.481 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:15:45.481 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-07-31 21:15:45.483 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-07-31 21:15:45.484 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:15:45.485 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (0ms).
2023-07-31 21:15:45.506 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-31 21:15:45.506 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-07-31 21:15:45.507 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-07-31 21:15:45.508 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:15:45.509 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:15:45.510 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-07-31 21:15:45.513 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-07-31 21:15:45.516 +03:00 [DBG] Closing data reader to 'Shrtly' on server 'localhost'.
2023-07-31 21:15:45.518 +03:00 [DBG] A data reader for 'Shrtly' on server 'localhost' is being disposed after spending 2ms reading results.
2023-07-31 21:15:45.519 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:15:45.519 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (0ms).
2023-07-31 21:15:45.529 +03:00 [INF] No migrations were applied. The database is already up to date.
2023-07-31 21:15:45.531 +03:00 [DBG] 'ShrtLyContext' disposed.
2023-07-31 21:15:45.533 +03:00 [DBG] Disposing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:15:45.534 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2023-07-31 21:15:45.593 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-07-31 21:15:45.649 +03:00 [DBG] Hosting starting
2023-07-31 21:15:45.762 +03:00 [INF] Now listening on: https://localhost:5001
2023-07-31 21:15:45.764 +03:00 [INF] Now listening on: http://localhost:5000
2023-07-31 21:15:45.764 +03:00 [DBG] Loaded hosting startup assembly ShrtLy.Api
2023-07-31 21:15:45.765 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-07-31 21:15:45.766 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-07-31 21:15:45.767 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-07-31 21:15:45.768 +03:00 [INF] Hosting environment: Development
2023-07-31 21:15:45.768 +03:00 [INF] Content root path: D:\PROJECTS\KeyIvr\shrtly-kata\src\ShrtLy.Api
2023-07-31 21:15:45.769 +03:00 [DBG] Hosting started
2023-07-31 21:15:46.076 +03:00 [DBG] Connection id "0HMSHU8KHKKRH" received FIN.
2023-07-31 21:15:46.076 +03:00 [DBG] Connection id "0HMSHU8KHKKRG" received FIN.
2023-07-31 21:15:46.076 +03:00 [DBG] Connection id "0HMSHU8KHKKRG" accepted.
2023-07-31 21:15:46.076 +03:00 [DBG] Connection id "0HMSHU8KHKKRH" accepted.
2023-07-31 21:15:46.083 +03:00 [DBG] Connection id "0HMSHU8KHKKRG" started.
2023-07-31 21:15:46.083 +03:00 [DBG] Connection id "0HMSHU8KHKKRH" started.
2023-07-31 21:15:46.103 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-07-31 21:15:46.103 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-07-31 21:15:46.133 +03:00 [DBG] Connection id "0HMSHU8KHKKRH" stopped.
2023-07-31 21:15:46.133 +03:00 [DBG] Connection id "0HMSHU8KHKKRG" stopped.
2023-07-31 21:15:46.136 +03:00 [DBG] Connection id "0HMSHU8KHKKRG" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-07-31 21:15:46.136 +03:00 [DBG] Connection id "0HMSHU8KHKKRH" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-07-31 21:15:46.222 +03:00 [DBG] Connection id "0HMSHU8KHKKRI" accepted.
2023-07-31 21:15:46.223 +03:00 [DBG] Connection id "0HMSHU8KHKKRI" started.
2023-07-31 21:15:46.260 +03:00 [DBG] Connection 0HMSHU8KHKKRI established using the following protocol: "Tls12"
2023-07-31 21:15:46.332 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2023-07-31 21:15:46.351 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-07-31 21:15:46.454 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-07-31 21:15:46.543 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-07-31 21:15:46.547 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 216.1915ms
2023-07-31 21:15:46.609 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - -
2023-07-31 21:15:46.609 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - -
2023-07-31 21:15:46.630 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - - - 200 12352 application/javascript;+charset=utf-8 20.9480ms
2023-07-31 21:15:46.651 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 42.6172ms
2023-07-31 21:15:46.764 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2023-07-31 21:15:46.878 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 114.1465ms
2023-07-31 21:15:51.834 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Links/all - -
2023-07-31 21:15:51.839 +03:00 [DBG] The request path  does not match the path filter
2023-07-31 21:15:51.861 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Links/all'
2023-07-31 21:15:51.864 +03:00 [DBG] Endpoint 'ShrtLy.Api.Controllers.LinksController.GetShortLinks (ShrtLy.Api)' with route pattern 'api/Links/all' is valid for the request path '/api/Links/all'
2023-07-31 21:15:51.868 +03:00 [DBG] Request matched endpoint 'ShrtLy.Api.Controllers.LinksController.GetShortLinks (ShrtLy.Api)'
2023-07-31 21:15:51.871 +03:00 [INF] Executing endpoint 'ShrtLy.Api.Controllers.LinksController.GetShortLinks (ShrtLy.Api)'
2023-07-31 21:15:51.895 +03:00 [INF] Route matched with {action = "GetShortLinks", controller = "Links"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetShortLinks(ShrtLy.Application.DTOs.PaginationDto) on controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api).
2023-07-31 21:15:51.899 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-31 21:15:51.900 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-31 21:15:51.901 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-31 21:15:51.903 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-31 21:15:51.904 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-31 21:15:51.906 +03:00 [DBG] Executing controller factory for controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api)
2023-07-31 21:15:51.908 +03:00 [DBG] Executed controller factory for controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api)
2023-07-31 21:15:51.920 +03:00 [DBG] Attempting to bind parameter 'pagination' of type 'ShrtLy.Application.DTOs.PaginationDto' ...
2023-07-31 21:15:51.923 +03:00 [DBG] Attempting to bind parameter 'pagination' of type 'ShrtLy.Application.DTOs.PaginationDto' using the name '' in request data ...
2023-07-31 21:15:51.928 +03:00 [DBG] Attempting to bind property 'ShrtLy.Application.DTOs.PaginationDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2023-07-31 21:15:51.930 +03:00 [DBG] Could not find a value in the request with name 'Page' for binding property 'ShrtLy.Application.DTOs.PaginationDto.Page' of type 'System.Int32'.
2023-07-31 21:15:51.931 +03:00 [DBG] Done attempting to bind property 'ShrtLy.Application.DTOs.PaginationDto.Page' of type 'System.Int32'.
2023-07-31 21:15:51.933 +03:00 [DBG] Attempting to bind property 'ShrtLy.Application.DTOs.PaginationDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2023-07-31 21:15:51.935 +03:00 [DBG] Could not find a value in the request with name 'PageSize' for binding property 'ShrtLy.Application.DTOs.PaginationDto.PageSize' of type 'System.Int32'.
2023-07-31 21:15:51.936 +03:00 [DBG] Done attempting to bind property 'ShrtLy.Application.DTOs.PaginationDto.PageSize' of type 'System.Int32'.
2023-07-31 21:15:51.937 +03:00 [DBG] Done attempting to bind parameter 'pagination' of type 'ShrtLy.Application.DTOs.PaginationDto'.
2023-07-31 21:15:51.938 +03:00 [DBG] Done attempting to bind parameter 'pagination' of type 'ShrtLy.Application.DTOs.PaginationDto'.
2023-07-31 21:15:51.939 +03:00 [DBG] Attempting to validate the bound parameter 'pagination' of type 'ShrtLy.Application.DTOs.PaginationDto' ...
2023-07-31 21:15:51.943 +03:00 [DBG] Done attempting to validate the bound parameter 'pagination' of type 'ShrtLy.Application.DTOs.PaginationDto'.
2023-07-31 21:15:51.987 +03:00 [DBG] Entity Framework Core 7.0.9 initialized 'ShrtLyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.9' with options: MigrationsAssembly=ShrtLy.Infrastructure 
2023-07-31 21:15:52.025 +03:00 [DBG] Compiling query expression: 
'DbSet<LinkEntity>()
    .Count()'
2023-07-31 21:15:52.158 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: new SingleQueryingEnumerable<int>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Links AS l), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
        ShrtLy.Infrastructure.ShrtLyContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-07-31 21:15:52.186 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-31 21:15:52.188 +03:00 [DBG] Creating DbConnection.
2023-07-31 21:15:52.188 +03:00 [DBG] Created DbConnection. (0ms).
2023-07-31 21:15:52.189 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-07-31 21:15:52.190 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2023-07-31 21:15:52.193 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:15:52.196 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:15:52.197 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Links] AS [l]
2023-07-31 21:15:52.213 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Links] AS [l]
2023-07-31 21:15:52.227 +03:00 [DBG] Closing data reader to 'Shrtly' on server 'localhost'.
2023-07-31 21:15:52.228 +03:00 [DBG] A data reader for 'Shrtly' on server 'localhost' is being disposed after spending 12ms reading results.
2023-07-31 21:15:52.231 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:15:52.232 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (1ms).
2023-07-31 21:15:52.242 +03:00 [DBG] Compiling query expression: 
'DbSet<LinkEntity>()
    .Skip(__p_0)
    .Take(__p_1)
    .AsNoTracking()'
2023-07-31 21:15:52.249 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2023-07-31 21:15:52.250 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2023-07-31 21:15:52.279 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<LinkEntity>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: LinkEntity.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: LinkEntity.ShortUrl (string) Required, 1], [Property: LinkEntity.Url (string) Required, 2] }
        SELECT l.Id, l.ShortUrl, l.Url
        FROM Links AS l
        ORDER BY (SELECT 1)
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, LinkEntity>, 
    ShrtLy.Infrastructure.ShrtLyContext, 
    False, 
    False, 
    True
)'
2023-07-31 21:15:52.288 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-31 21:15:52.289 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-07-31 21:15:52.293 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2023-07-31 21:15:52.294 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:15:52.295 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:15:52.299 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[ShortUrl], [l].[Url]
FROM [Links] AS [l]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2023-07-31 21:15:52.320 +03:00 [INF] Executed DbCommand (24ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[ShortUrl], [l].[Url]
FROM [Links] AS [l]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2023-07-31 21:15:52.325 +03:00 [DBG] Closing data reader to 'Shrtly' on server 'localhost'.
2023-07-31 21:15:52.327 +03:00 [DBG] A data reader for 'Shrtly' on server 'localhost' is being disposed after spending 4ms reading results.
2023-07-31 21:15:52.328 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:15:52.328 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (0ms).
2023-07-31 21:15:52.339 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-07-31 21:15:52.343 +03:00 [DBG] No information found on request to perform content negotiation.
2023-07-31 21:15:52.344 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-31 21:15:52.345 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-31 21:15:52.346 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-31 21:15:52.348 +03:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`7[[Shrtly.Common.PaginatedList`1[[ShrtLy.Application.DTOs.LinkDto, ShrtLy.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], Shrtly.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-07-31 21:15:52.368 +03:00 [INF] Executed action ShrtLy.Api.Controllers.LinksController.GetShortLinks (ShrtLy.Api) in 460.3891ms
2023-07-31 21:15:52.370 +03:00 [INF] Executed endpoint 'ShrtLy.Api.Controllers.LinksController.GetShortLinks (ShrtLy.Api)'
2023-07-31 21:15:52.372 +03:00 [DBG] 'ShrtLyContext' disposed.
2023-07-31 21:15:52.375 +03:00 [DBG] Disposing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:15:52.376 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2023-07-31 21:15:52.378 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Links/all - - - 200 - application/json;+charset=utf-8 544.1408ms
2023-07-31 21:16:13.894 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Links?url=localhost%3A5001%2FaEIuSbO - -
2023-07-31 21:16:13.900 +03:00 [DBG] The request path  does not match the path filter
2023-07-31 21:16:13.902 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Links'
2023-07-31 21:16:13.902 +03:00 [DBG] Endpoint 'ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api)' with route pattern 'api/Links' is valid for the request path '/api/Links'
2023-07-31 21:16:13.903 +03:00 [DBG] Request matched endpoint 'ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api)'
2023-07-31 21:16:13.904 +03:00 [INF] Executing endpoint 'ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api)'
2023-07-31 21:16:13.908 +03:00 [INF] Route matched with {action = "GetToShortLink", controller = "Links"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetToShortLink(System.String) on controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api).
2023-07-31 21:16:13.910 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-31 21:16:13.911 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-31 21:16:13.912 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-31 21:16:13.913 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-31 21:16:13.914 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-31 21:16:13.915 +03:00 [DBG] Executing controller factory for controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api)
2023-07-31 21:16:13.916 +03:00 [DBG] Executed controller factory for controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api)
2023-07-31 21:16:13.929 +03:00 [DBG] Attempting to bind parameter 'url' of type 'System.String' ...
2023-07-31 21:16:13.931 +03:00 [DBG] Attempting to bind parameter 'url' of type 'System.String' using the name 'url' in request data ...
2023-07-31 21:16:13.933 +03:00 [DBG] Done attempting to bind parameter 'url' of type 'System.String'.
2023-07-31 21:16:13.934 +03:00 [DBG] Done attempting to bind parameter 'url' of type 'System.String'.
2023-07-31 21:16:13.935 +03:00 [DBG] Attempting to validate the bound parameter 'url' of type 'System.String' ...
2023-07-31 21:16:13.936 +03:00 [DBG] Done attempting to validate the bound parameter 'url' of type 'System.String'.
2023-07-31 21:16:13.992 +03:00 [DBG] Entity Framework Core 7.0.9 initialized 'ShrtLyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.9' with options: MigrationsAssembly=ShrtLy.Infrastructure 
2023-07-31 21:16:13.998 +03:00 [DBG] Compiling query expression: 
'DbSet<LinkEntity>()
    .Any(l => l.Url == __url_0)'
2023-07-31 21:16:14.020 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Links AS l
                WHERE l.Url == @__url_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        ShrtLy.Infrastructure.ShrtLyContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-07-31 21:16:14.038 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-31 21:16:14.040 +03:00 [DBG] Creating DbConnection.
2023-07-31 21:16:14.041 +03:00 [DBG] Created DbConnection. (0ms).
2023-07-31 21:16:14.042 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-07-31 21:16:14.043 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2023-07-31 21:16:14.044 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:16:14.044 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:16:14.045 +03:00 [DBG] Executing DbCommand [Parameters=[@__url_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Links] AS [l]
        WHERE [l].[Url] = @__url_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-07-31 21:16:14.050 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__url_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Links] AS [l]
        WHERE [l].[Url] = @__url_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-07-31 21:16:14.058 +03:00 [DBG] Closing data reader to 'Shrtly' on server 'localhost'.
2023-07-31 21:16:14.058 +03:00 [DBG] A data reader for 'Shrtly' on server 'localhost' is being disposed after spending 2ms reading results.
2023-07-31 21:16:14.059 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:16:14.060 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (0ms).
2023-07-31 21:16:14.063 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-07-31 21:16:14.064 +03:00 [DBG] No information found on request to perform content negotiation.
2023-07-31 21:16:14.065 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-31 21:16:14.065 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-31 21:16:14.066 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-07-31 21:16:14.067 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2023-07-31 21:16:14.068 +03:00 [INF] Executed action ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api) in 153.4525ms
2023-07-31 21:16:14.070 +03:00 [INF] Executed endpoint 'ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api)'
2023-07-31 21:16:14.070 +03:00 [DBG] 'ShrtLyContext' disposed.
2023-07-31 21:16:14.071 +03:00 [DBG] Disposing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:16:14.072 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2023-07-31 21:16:14.073 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Links?url=localhost%3A5001%2FaEIuSbO - - - 400 - text/plain;+charset=utf-8 178.3505ms
2023-07-31 21:16:21.140 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Links?url=aEIuSbO - -
2023-07-31 21:16:21.142 +03:00 [DBG] The request path  does not match the path filter
2023-07-31 21:16:21.144 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Links'
2023-07-31 21:16:21.145 +03:00 [DBG] Endpoint 'ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api)' with route pattern 'api/Links' is valid for the request path '/api/Links'
2023-07-31 21:16:21.146 +03:00 [DBG] Request matched endpoint 'ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api)'
2023-07-31 21:16:21.147 +03:00 [INF] Executing endpoint 'ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api)'
2023-07-31 21:16:21.149 +03:00 [INF] Route matched with {action = "GetToShortLink", controller = "Links"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetToShortLink(System.String) on controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api).
2023-07-31 21:16:21.150 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-31 21:16:21.151 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-31 21:16:21.153 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-31 21:16:21.154 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-31 21:16:21.155 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-31 21:16:21.156 +03:00 [DBG] Executing controller factory for controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api)
2023-07-31 21:16:21.157 +03:00 [DBG] Executed controller factory for controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api)
2023-07-31 21:16:21.158 +03:00 [DBG] Attempting to bind parameter 'url' of type 'System.String' ...
2023-07-31 21:16:21.159 +03:00 [DBG] Attempting to bind parameter 'url' of type 'System.String' using the name 'url' in request data ...
2023-07-31 21:16:21.160 +03:00 [DBG] Done attempting to bind parameter 'url' of type 'System.String'.
2023-07-31 21:16:21.160 +03:00 [DBG] Done attempting to bind parameter 'url' of type 'System.String'.
2023-07-31 21:16:21.161 +03:00 [DBG] Attempting to validate the bound parameter 'url' of type 'System.String' ...
2023-07-31 21:16:21.162 +03:00 [DBG] Done attempting to validate the bound parameter 'url' of type 'System.String'.
2023-07-31 21:16:21.164 +03:00 [DBG] Entity Framework Core 7.0.9 initialized 'ShrtLyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.9' with options: MigrationsAssembly=ShrtLy.Infrastructure 
2023-07-31 21:16:21.168 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-31 21:16:21.169 +03:00 [DBG] Creating DbConnection.
2023-07-31 21:16:21.169 +03:00 [DBG] Created DbConnection. (0ms).
2023-07-31 21:16:21.170 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-07-31 21:16:21.171 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2023-07-31 21:16:21.171 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:16:21.172 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:16:21.173 +03:00 [DBG] Executing DbCommand [Parameters=[@__url_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Links] AS [l]
        WHERE [l].[Url] = @__url_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-07-31 21:16:21.180 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__url_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Links] AS [l]
        WHERE [l].[Url] = @__url_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-07-31 21:16:21.182 +03:00 [DBG] Closing data reader to 'Shrtly' on server 'localhost'.
2023-07-31 21:16:21.183 +03:00 [DBG] A data reader for 'Shrtly' on server 'localhost' is being disposed after spending 0ms reading results.
2023-07-31 21:16:21.183 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:16:21.184 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (0ms).
2023-07-31 21:16:21.185 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-07-31 21:16:21.187 +03:00 [DBG] No information found on request to perform content negotiation.
2023-07-31 21:16:21.187 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-31 21:16:21.188 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-31 21:16:21.188 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-07-31 21:16:21.189 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2023-07-31 21:16:21.190 +03:00 [INF] Executed action ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api) in 34.2836ms
2023-07-31 21:16:21.191 +03:00 [INF] Executed endpoint 'ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api)'
2023-07-31 21:16:21.191 +03:00 [DBG] 'ShrtLyContext' disposed.
2023-07-31 21:16:21.192 +03:00 [DBG] Disposing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:16:21.193 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2023-07-31 21:16:21.194 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Links?url=aEIuSbO - - - 400 - text/plain;+charset=utf-8 53.5527ms
2023-07-31 21:16:38.689 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Links?url=localhost%3A5001%2FaEIuSbO%2FaEIuSbO - -
2023-07-31 21:16:38.691 +03:00 [DBG] The request path  does not match the path filter
2023-07-31 21:16:38.693 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Links'
2023-07-31 21:16:38.694 +03:00 [DBG] Endpoint 'ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api)' with route pattern 'api/Links' is valid for the request path '/api/Links'
2023-07-31 21:16:38.696 +03:00 [DBG] Request matched endpoint 'ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api)'
2023-07-31 21:16:38.697 +03:00 [INF] Executing endpoint 'ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api)'
2023-07-31 21:16:38.698 +03:00 [INF] Route matched with {action = "GetToShortLink", controller = "Links"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetToShortLink(System.String) on controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api).
2023-07-31 21:16:38.701 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-31 21:16:38.702 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-31 21:16:38.703 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-31 21:16:38.705 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-31 21:16:38.706 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-31 21:16:38.707 +03:00 [DBG] Executing controller factory for controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api)
2023-07-31 21:16:38.708 +03:00 [DBG] Executed controller factory for controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api)
2023-07-31 21:16:38.709 +03:00 [DBG] Attempting to bind parameter 'url' of type 'System.String' ...
2023-07-31 21:16:38.709 +03:00 [DBG] Attempting to bind parameter 'url' of type 'System.String' using the name 'url' in request data ...
2023-07-31 21:16:38.710 +03:00 [DBG] Done attempting to bind parameter 'url' of type 'System.String'.
2023-07-31 21:16:38.711 +03:00 [DBG] Done attempting to bind parameter 'url' of type 'System.String'.
2023-07-31 21:16:38.712 +03:00 [DBG] Attempting to validate the bound parameter 'url' of type 'System.String' ...
2023-07-31 21:16:38.713 +03:00 [DBG] Done attempting to validate the bound parameter 'url' of type 'System.String'.
2023-07-31 21:16:38.716 +03:00 [DBG] Entity Framework Core 7.0.9 initialized 'ShrtLyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.9' with options: MigrationsAssembly=ShrtLy.Infrastructure 
2023-07-31 21:16:38.718 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-31 21:16:38.718 +03:00 [DBG] Creating DbConnection.
2023-07-31 21:16:38.719 +03:00 [DBG] Created DbConnection. (0ms).
2023-07-31 21:16:38.719 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-07-31 21:16:38.720 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2023-07-31 21:16:38.720 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:16:38.722 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:16:38.722 +03:00 [DBG] Executing DbCommand [Parameters=[@__url_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Links] AS [l]
        WHERE [l].[Url] = @__url_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-07-31 21:16:38.730 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__url_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Links] AS [l]
        WHERE [l].[Url] = @__url_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-07-31 21:16:38.731 +03:00 [DBG] Closing data reader to 'Shrtly' on server 'localhost'.
2023-07-31 21:16:38.732 +03:00 [DBG] A data reader for 'Shrtly' on server 'localhost' is being disposed after spending 0ms reading results.
2023-07-31 21:16:38.733 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:16:38.734 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (0ms).
2023-07-31 21:16:38.737 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-07-31 21:16:38.739 +03:00 [DBG] No information found on request to perform content negotiation.
2023-07-31 21:16:38.739 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-31 21:16:38.740 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-31 21:16:38.740 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-07-31 21:16:38.741 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2023-07-31 21:16:38.742 +03:00 [INF] Executed action ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api) in 35.2635ms
2023-07-31 21:16:38.743 +03:00 [INF] Executed endpoint 'ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api)'
2023-07-31 21:16:38.744 +03:00 [DBG] 'ShrtLyContext' disposed.
2023-07-31 21:16:38.745 +03:00 [DBG] Disposing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:16:38.745 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2023-07-31 21:16:38.746 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Links?url=localhost%3A5001%2FaEIuSbO%2FaEIuSbO - - - 200 - text/plain;+charset=utf-8 57.5193ms
2023-07-31 21:17:15.036 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-07-31 21:17:15.638 +03:00 [DBG] Entity Framework Core 7.0.9 initialized 'ShrtLyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.9' with options: MigrationsAssembly=ShrtLy.Infrastructure 
2023-07-31 21:17:15.647 +03:00 [DBG] Creating DbConnection.
2023-07-31 21:17:15.704 +03:00 [DBG] Created DbConnection. (53ms).
2023-07-31 21:17:15.709 +03:00 [DBG] Migrating using database 'Shrtly' on server 'localhost'.
2023-07-31 21:17:15.716 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:17:15.947 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:17:15.955 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-07-31 21:17:15.962 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (5ms).
2023-07-31 21:17:15.965 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (11ms).
2023-07-31 21:17:15.971 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-07-31 21:17:15.993 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-07-31 21:17:15.997 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:17:16.005 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (4ms).
2023-07-31 21:17:16.008 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-31 21:17:16.009 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-07-31 21:17:16.009 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2023-07-31 21:17:16.010 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:17:16.011 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:17:16.012 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-07-31 21:17:16.025 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-07-31 21:17:16.026 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:17:16.027 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (0ms).
2023-07-31 21:17:16.028 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:17:16.029 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:17:16.030 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-07-31 21:17:16.031 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-07-31 21:17:16.031 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2023-07-31 21:17:16.032 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-07-31 21:17:16.034 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-07-31 21:17:16.036 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:17:16.036 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (0ms).
2023-07-31 21:17:16.038 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-31 21:17:16.038 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-07-31 21:17:16.039 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2023-07-31 21:17:16.040 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:17:16.041 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:17:16.042 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-07-31 21:17:16.043 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-07-31 21:17:16.045 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:17:16.046 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (0ms).
2023-07-31 21:17:16.067 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-31 21:17:16.068 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-07-31 21:17:16.069 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-07-31 21:17:16.069 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:17:16.070 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:17:16.071 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-07-31 21:17:16.075 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-07-31 21:17:16.078 +03:00 [DBG] Closing data reader to 'Shrtly' on server 'localhost'.
2023-07-31 21:17:16.080 +03:00 [DBG] A data reader for 'Shrtly' on server 'localhost' is being disposed after spending 3ms reading results.
2023-07-31 21:17:16.081 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:17:16.082 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (0ms).
2023-07-31 21:17:16.093 +03:00 [INF] No migrations were applied. The database is already up to date.
2023-07-31 21:17:16.095 +03:00 [DBG] 'ShrtLyContext' disposed.
2023-07-31 21:17:16.097 +03:00 [DBG] Disposing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:17:16.098 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2023-07-31 21:17:16.157 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-07-31 21:17:16.214 +03:00 [DBG] Hosting starting
2023-07-31 21:17:16.326 +03:00 [INF] Now listening on: https://localhost:5001
2023-07-31 21:17:16.327 +03:00 [INF] Now listening on: http://localhost:5000
2023-07-31 21:17:16.328 +03:00 [DBG] Loaded hosting startup assembly ShrtLy.Api
2023-07-31 21:17:16.330 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-07-31 21:17:16.330 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-07-31 21:17:16.331 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-07-31 21:17:16.332 +03:00 [INF] Hosting environment: Development
2023-07-31 21:17:16.332 +03:00 [INF] Content root path: D:\PROJECTS\KeyIvr\shrtly-kata\src\ShrtLy.Api
2023-07-31 21:17:16.333 +03:00 [DBG] Hosting started
2023-07-31 21:17:16.344 +03:00 [DBG] Connection id "0HMSHU9FEG8I6" accepted.
2023-07-31 21:17:16.344 +03:00 [DBG] Connection id "0HMSHU9FEG8I5" accepted.
2023-07-31 21:17:16.346 +03:00 [DBG] Connection id "0HMSHU9FEG8I6" started.
2023-07-31 21:17:16.347 +03:00 [DBG] Connection id "0HMSHU9FEG8I5" started.
2023-07-31 21:17:16.355 +03:00 [DBG] Connection id "0HMSHU9FEG8I5" received FIN.
2023-07-31 21:17:16.355 +03:00 [DBG] Connection id "0HMSHU9FEG8I6" received FIN.
2023-07-31 21:17:16.363 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-07-31 21:17:16.363 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-07-31 21:17:16.385 +03:00 [DBG] Connection id "0HMSHU9FEG8I5" stopped.
2023-07-31 21:17:16.385 +03:00 [DBG] Connection id "0HMSHU9FEG8I6" stopped.
2023-07-31 21:17:16.388 +03:00 [DBG] Connection id "0HMSHU9FEG8I6" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-07-31 21:17:16.388 +03:00 [DBG] Connection id "0HMSHU9FEG8I5" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-07-31 21:17:16.503 +03:00 [DBG] Connection id "0HMSHU9FEG8I7" accepted.
2023-07-31 21:17:16.504 +03:00 [DBG] Connection id "0HMSHU9FEG8I7" started.
2023-07-31 21:17:16.544 +03:00 [DBG] Connection 0HMSHU9FEG8I7 established using the following protocol: "Tls12"
2023-07-31 21:17:16.614 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2023-07-31 21:17:16.633 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-07-31 21:17:16.727 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-07-31 21:17:16.818 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-07-31 21:17:16.821 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 208.7523ms
2023-07-31 21:17:16.884 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - -
2023-07-31 21:17:16.884 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - -
2023-07-31 21:17:16.906 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - - - 200 12352 application/javascript;+charset=utf-8 21.7796ms
2023-07-31 21:17:16.925 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 41.4629ms
2023-07-31 21:17:17.057 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2023-07-31 21:17:17.166 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 109.4152ms
2023-07-31 21:17:21.921 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Links/all - -
2023-07-31 21:17:21.927 +03:00 [DBG] The request path  does not match the path filter
2023-07-31 21:17:21.950 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Links/all'
2023-07-31 21:17:21.954 +03:00 [DBG] Endpoint 'ShrtLy.Api.Controllers.LinksController.GetShortLinks (ShrtLy.Api)' with route pattern 'api/Links/all' is valid for the request path '/api/Links/all'
2023-07-31 21:17:21.956 +03:00 [DBG] Request matched endpoint 'ShrtLy.Api.Controllers.LinksController.GetShortLinks (ShrtLy.Api)'
2023-07-31 21:17:21.959 +03:00 [INF] Executing endpoint 'ShrtLy.Api.Controllers.LinksController.GetShortLinks (ShrtLy.Api)'
2023-07-31 21:17:21.983 +03:00 [INF] Route matched with {action = "GetShortLinks", controller = "Links"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetShortLinks(ShrtLy.Application.DTOs.PaginationDto) on controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api).
2023-07-31 21:17:21.987 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-31 21:17:21.988 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-31 21:17:21.991 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-31 21:17:21.992 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-31 21:17:21.993 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-31 21:17:21.996 +03:00 [DBG] Executing controller factory for controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api)
2023-07-31 21:17:21.998 +03:00 [DBG] Executed controller factory for controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api)
2023-07-31 21:17:22.009 +03:00 [DBG] Attempting to bind parameter 'pagination' of type 'ShrtLy.Application.DTOs.PaginationDto' ...
2023-07-31 21:17:22.012 +03:00 [DBG] Attempting to bind parameter 'pagination' of type 'ShrtLy.Application.DTOs.PaginationDto' using the name '' in request data ...
2023-07-31 21:17:22.017 +03:00 [DBG] Attempting to bind property 'ShrtLy.Application.DTOs.PaginationDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2023-07-31 21:17:22.019 +03:00 [DBG] Could not find a value in the request with name 'Page' for binding property 'ShrtLy.Application.DTOs.PaginationDto.Page' of type 'System.Int32'.
2023-07-31 21:17:22.021 +03:00 [DBG] Done attempting to bind property 'ShrtLy.Application.DTOs.PaginationDto.Page' of type 'System.Int32'.
2023-07-31 21:17:22.023 +03:00 [DBG] Attempting to bind property 'ShrtLy.Application.DTOs.PaginationDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2023-07-31 21:17:22.025 +03:00 [DBG] Could not find a value in the request with name 'PageSize' for binding property 'ShrtLy.Application.DTOs.PaginationDto.PageSize' of type 'System.Int32'.
2023-07-31 21:17:22.026 +03:00 [DBG] Done attempting to bind property 'ShrtLy.Application.DTOs.PaginationDto.PageSize' of type 'System.Int32'.
2023-07-31 21:17:22.028 +03:00 [DBG] Done attempting to bind parameter 'pagination' of type 'ShrtLy.Application.DTOs.PaginationDto'.
2023-07-31 21:17:22.029 +03:00 [DBG] Done attempting to bind parameter 'pagination' of type 'ShrtLy.Application.DTOs.PaginationDto'.
2023-07-31 21:17:22.030 +03:00 [DBG] Attempting to validate the bound parameter 'pagination' of type 'ShrtLy.Application.DTOs.PaginationDto' ...
2023-07-31 21:17:22.035 +03:00 [DBG] Done attempting to validate the bound parameter 'pagination' of type 'ShrtLy.Application.DTOs.PaginationDto'.
2023-07-31 21:17:22.082 +03:00 [DBG] Entity Framework Core 7.0.9 initialized 'ShrtLyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.9' with options: MigrationsAssembly=ShrtLy.Infrastructure 
2023-07-31 21:17:22.119 +03:00 [DBG] Compiling query expression: 
'DbSet<LinkEntity>()
    .Count()'
2023-07-31 21:17:22.269 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: new SingleQueryingEnumerable<int>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Links AS l), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
        ShrtLy.Infrastructure.ShrtLyContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-07-31 21:17:22.295 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-31 21:17:22.297 +03:00 [DBG] Creating DbConnection.
2023-07-31 21:17:22.297 +03:00 [DBG] Created DbConnection. (0ms).
2023-07-31 21:17:22.298 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-07-31 21:17:22.299 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2023-07-31 21:17:22.302 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:17:22.305 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:17:22.306 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Links] AS [l]
2023-07-31 21:17:22.321 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Links] AS [l]
2023-07-31 21:17:22.336 +03:00 [DBG] Closing data reader to 'Shrtly' on server 'localhost'.
2023-07-31 21:17:22.337 +03:00 [DBG] A data reader for 'Shrtly' on server 'localhost' is being disposed after spending 13ms reading results.
2023-07-31 21:17:22.340 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:17:22.341 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (1ms).
2023-07-31 21:17:22.352 +03:00 [DBG] Compiling query expression: 
'DbSet<LinkEntity>()
    .Skip(__p_0)
    .Take(__p_1)
    .AsNoTracking()'
2023-07-31 21:17:22.359 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2023-07-31 21:17:22.360 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2023-07-31 21:17:22.388 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<LinkEntity>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: LinkEntity.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: LinkEntity.ShortUrl (string) Required, 1], [Property: LinkEntity.Url (string) Required, 2] }
        SELECT l.Id, l.ShortUrl, l.Url
        FROM Links AS l
        ORDER BY (SELECT 1)
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, LinkEntity>, 
    ShrtLy.Infrastructure.ShrtLyContext, 
    False, 
    False, 
    True
)'
2023-07-31 21:17:22.397 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-31 21:17:22.398 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-07-31 21:17:22.401 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2023-07-31 21:17:22.402 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:17:22.403 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:17:22.407 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[ShortUrl], [l].[Url]
FROM [Links] AS [l]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2023-07-31 21:17:22.428 +03:00 [INF] Executed DbCommand (23ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[ShortUrl], [l].[Url]
FROM [Links] AS [l]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2023-07-31 21:17:22.434 +03:00 [DBG] Closing data reader to 'Shrtly' on server 'localhost'.
2023-07-31 21:17:22.435 +03:00 [DBG] A data reader for 'Shrtly' on server 'localhost' is being disposed after spending 5ms reading results.
2023-07-31 21:17:22.437 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:17:22.437 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (0ms).
2023-07-31 21:17:22.448 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-07-31 21:17:22.453 +03:00 [DBG] No information found on request to perform content negotiation.
2023-07-31 21:17:22.454 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-31 21:17:22.455 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-31 21:17:22.457 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-31 21:17:22.459 +03:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`7[[Shrtly.Common.PaginatedList`1[[ShrtLy.Application.DTOs.LinkDto, ShrtLy.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], Shrtly.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-07-31 21:17:22.480 +03:00 [INF] Executed action ShrtLy.Api.Controllers.LinksController.GetShortLinks (ShrtLy.Api) in 483.256ms
2023-07-31 21:17:22.484 +03:00 [INF] Executed endpoint 'ShrtLy.Api.Controllers.LinksController.GetShortLinks (ShrtLy.Api)'
2023-07-31 21:17:22.486 +03:00 [DBG] 'ShrtLyContext' disposed.
2023-07-31 21:17:22.489 +03:00 [DBG] Disposing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:17:22.490 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2023-07-31 21:17:22.491 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Links/all - - - 200 - application/json;+charset=utf-8 570.8732ms
2023-07-31 21:17:28.295 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Links?url=e13b0w - -
2023-07-31 21:17:28.297 +03:00 [DBG] The request path  does not match the path filter
2023-07-31 21:17:28.298 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Links'
2023-07-31 21:17:28.300 +03:00 [DBG] Endpoint 'ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api)' with route pattern 'api/Links' is valid for the request path '/api/Links'
2023-07-31 21:17:28.301 +03:00 [DBG] Request matched endpoint 'ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api)'
2023-07-31 21:17:28.302 +03:00 [INF] Executing endpoint 'ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api)'
2023-07-31 21:17:28.306 +03:00 [INF] Route matched with {action = "GetToShortLink", controller = "Links"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetToShortLink(System.String) on controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api).
2023-07-31 21:17:28.308 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-31 21:17:28.309 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-31 21:17:28.309 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-31 21:17:28.311 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-31 21:17:28.312 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-31 21:17:28.313 +03:00 [DBG] Executing controller factory for controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api)
2023-07-31 21:17:28.314 +03:00 [DBG] Executed controller factory for controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api)
2023-07-31 21:17:28.318 +03:00 [DBG] Attempting to bind parameter 'url' of type 'System.String' ...
2023-07-31 21:17:28.321 +03:00 [DBG] Attempting to bind parameter 'url' of type 'System.String' using the name 'url' in request data ...
2023-07-31 21:17:28.323 +03:00 [DBG] Done attempting to bind parameter 'url' of type 'System.String'.
2023-07-31 21:17:28.324 +03:00 [DBG] Done attempting to bind parameter 'url' of type 'System.String'.
2023-07-31 21:17:28.325 +03:00 [DBG] Attempting to validate the bound parameter 'url' of type 'System.String' ...
2023-07-31 21:17:28.327 +03:00 [DBG] Done attempting to validate the bound parameter 'url' of type 'System.String'.
2023-07-31 21:17:28.388 +03:00 [DBG] Entity Framework Core 7.0.9 initialized 'ShrtLyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.9' with options: MigrationsAssembly=ShrtLy.Infrastructure 
2023-07-31 21:17:28.395 +03:00 [DBG] Compiling query expression: 
'DbSet<LinkEntity>()
    .Any(l => l.Url == __url_0)'
2023-07-31 21:17:28.419 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Links AS l
                WHERE l.Url == @__url_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        ShrtLy.Infrastructure.ShrtLyContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-07-31 21:17:28.438 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-31 21:17:28.439 +03:00 [DBG] Creating DbConnection.
2023-07-31 21:17:28.440 +03:00 [DBG] Created DbConnection. (0ms).
2023-07-31 21:17:28.441 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-07-31 21:17:28.442 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2023-07-31 21:17:28.443 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:17:28.444 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:17:28.445 +03:00 [DBG] Executing DbCommand [Parameters=[@__url_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Links] AS [l]
        WHERE [l].[Url] = @__url_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-07-31 21:17:28.453 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__url_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Links] AS [l]
        WHERE [l].[Url] = @__url_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-07-31 21:17:28.457 +03:00 [DBG] Closing data reader to 'Shrtly' on server 'localhost'.
2023-07-31 21:17:28.458 +03:00 [DBG] A data reader for 'Shrtly' on server 'localhost' is being disposed after spending 2ms reading results.
2023-07-31 21:17:28.459 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:17:28.459 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (0ms).
2023-07-31 21:17:28.461 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-07-31 21:17:28.463 +03:00 [DBG] No information found on request to perform content negotiation.
2023-07-31 21:17:28.464 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-31 21:17:28.465 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-31 21:17:28.465 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-07-31 21:17:28.466 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2023-07-31 21:17:28.467 +03:00 [INF] Executed action ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api) in 154.6027ms
2023-07-31 21:17:28.468 +03:00 [INF] Executed endpoint 'ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api)'
2023-07-31 21:17:28.469 +03:00 [DBG] 'ShrtLyContext' disposed.
2023-07-31 21:17:28.470 +03:00 [DBG] Disposing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:17:28.471 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2023-07-31 21:17:28.472 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Links?url=e13b0w - - - 400 - text/plain;+charset=utf-8 176.6737ms
2023-07-31 21:17:32.176 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Links?url=%2F%2Fe13b0w - -
2023-07-31 21:17:32.178 +03:00 [DBG] The request path  does not match the path filter
2023-07-31 21:17:32.179 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Links'
2023-07-31 21:17:32.180 +03:00 [DBG] Endpoint 'ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api)' with route pattern 'api/Links' is valid for the request path '/api/Links'
2023-07-31 21:17:32.182 +03:00 [DBG] Request matched endpoint 'ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api)'
2023-07-31 21:17:32.183 +03:00 [INF] Executing endpoint 'ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api)'
2023-07-31 21:17:32.183 +03:00 [INF] Route matched with {action = "GetToShortLink", controller = "Links"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetToShortLink(System.String) on controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api).
2023-07-31 21:17:32.185 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-31 21:17:32.186 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-31 21:17:32.187 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-31 21:17:32.188 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-31 21:17:32.189 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-31 21:17:32.190 +03:00 [DBG] Executing controller factory for controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api)
2023-07-31 21:17:32.191 +03:00 [DBG] Executed controller factory for controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api)
2023-07-31 21:17:32.193 +03:00 [DBG] Attempting to bind parameter 'url' of type 'System.String' ...
2023-07-31 21:17:32.194 +03:00 [DBG] Attempting to bind parameter 'url' of type 'System.String' using the name 'url' in request data ...
2023-07-31 21:17:32.195 +03:00 [DBG] Done attempting to bind parameter 'url' of type 'System.String'.
2023-07-31 21:17:32.196 +03:00 [DBG] Done attempting to bind parameter 'url' of type 'System.String'.
2023-07-31 21:17:32.197 +03:00 [DBG] Attempting to validate the bound parameter 'url' of type 'System.String' ...
2023-07-31 21:17:32.197 +03:00 [DBG] Done attempting to validate the bound parameter 'url' of type 'System.String'.
2023-07-31 21:17:32.199 +03:00 [DBG] Entity Framework Core 7.0.9 initialized 'ShrtLyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.9' with options: MigrationsAssembly=ShrtLy.Infrastructure 
2023-07-31 21:17:32.204 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-31 21:17:32.204 +03:00 [DBG] Creating DbConnection.
2023-07-31 21:17:32.205 +03:00 [DBG] Created DbConnection. (0ms).
2023-07-31 21:17:32.206 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-07-31 21:17:32.207 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2023-07-31 21:17:32.208 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:17:32.209 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:17:32.210 +03:00 [DBG] Executing DbCommand [Parameters=[@__url_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Links] AS [l]
        WHERE [l].[Url] = @__url_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-07-31 21:17:32.217 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__url_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Links] AS [l]
        WHERE [l].[Url] = @__url_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-07-31 21:17:32.218 +03:00 [DBG] Closing data reader to 'Shrtly' on server 'localhost'.
2023-07-31 21:17:32.219 +03:00 [DBG] A data reader for 'Shrtly' on server 'localhost' is being disposed after spending 0ms reading results.
2023-07-31 21:17:32.220 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:17:32.221 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (0ms).
2023-07-31 21:17:32.222 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-07-31 21:17:32.223 +03:00 [DBG] No information found on request to perform content negotiation.
2023-07-31 21:17:32.224 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-31 21:17:32.224 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-31 21:17:32.225 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-07-31 21:17:32.226 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2023-07-31 21:17:32.227 +03:00 [INF] Executed action ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api) in 37.1073ms
2023-07-31 21:17:32.228 +03:00 [INF] Executed endpoint 'ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api)'
2023-07-31 21:17:32.229 +03:00 [DBG] 'ShrtLyContext' disposed.
2023-07-31 21:17:32.229 +03:00 [DBG] Disposing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:17:32.230 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2023-07-31 21:17:32.231 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Links?url=%2F%2Fe13b0w - - - 400 - text/plain;+charset=utf-8 54.8106ms
2023-07-31 21:17:41.144 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Links?url=%2Flocalhost%2Fe13b0w - -
2023-07-31 21:17:41.146 +03:00 [DBG] The request path  does not match the path filter
2023-07-31 21:17:41.148 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Links'
2023-07-31 21:17:41.149 +03:00 [DBG] Endpoint 'ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api)' with route pattern 'api/Links' is valid for the request path '/api/Links'
2023-07-31 21:17:41.150 +03:00 [DBG] Request matched endpoint 'ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api)'
2023-07-31 21:17:41.153 +03:00 [INF] Executing endpoint 'ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api)'
2023-07-31 21:17:41.153 +03:00 [INF] Route matched with {action = "GetToShortLink", controller = "Links"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetToShortLink(System.String) on controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api).
2023-07-31 21:17:41.155 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-31 21:17:41.156 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-31 21:17:41.157 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-31 21:17:41.158 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-31 21:17:41.159 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-31 21:17:41.160 +03:00 [DBG] Executing controller factory for controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api)
2023-07-31 21:17:41.161 +03:00 [DBG] Executed controller factory for controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api)
2023-07-31 21:17:41.162 +03:00 [DBG] Attempting to bind parameter 'url' of type 'System.String' ...
2023-07-31 21:17:41.162 +03:00 [DBG] Attempting to bind parameter 'url' of type 'System.String' using the name 'url' in request data ...
2023-07-31 21:17:41.163 +03:00 [DBG] Done attempting to bind parameter 'url' of type 'System.String'.
2023-07-31 21:17:41.164 +03:00 [DBG] Done attempting to bind parameter 'url' of type 'System.String'.
2023-07-31 21:17:41.165 +03:00 [DBG] Attempting to validate the bound parameter 'url' of type 'System.String' ...
2023-07-31 21:17:41.166 +03:00 [DBG] Done attempting to validate the bound parameter 'url' of type 'System.String'.
2023-07-31 21:17:41.169 +03:00 [DBG] Entity Framework Core 7.0.9 initialized 'ShrtLyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.9' with options: MigrationsAssembly=ShrtLy.Infrastructure 
2023-07-31 21:17:41.170 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-31 21:17:41.171 +03:00 [DBG] Creating DbConnection.
2023-07-31 21:17:41.172 +03:00 [DBG] Created DbConnection. (0ms).
2023-07-31 21:17:41.172 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-07-31 21:17:41.173 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2023-07-31 21:17:41.174 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:17:41.174 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:17:41.175 +03:00 [DBG] Executing DbCommand [Parameters=[@__url_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Links] AS [l]
        WHERE [l].[Url] = @__url_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-07-31 21:17:41.178 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__url_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Links] AS [l]
        WHERE [l].[Url] = @__url_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-07-31 21:17:41.180 +03:00 [DBG] Closing data reader to 'Shrtly' on server 'localhost'.
2023-07-31 21:17:41.181 +03:00 [DBG] A data reader for 'Shrtly' on server 'localhost' is being disposed after spending 1ms reading results.
2023-07-31 21:17:41.182 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:17:41.183 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (0ms).
2023-07-31 21:17:41.184 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-07-31 21:17:41.186 +03:00 [DBG] No information found on request to perform content negotiation.
2023-07-31 21:17:41.186 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-31 21:17:41.187 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-31 21:17:41.187 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-07-31 21:17:41.188 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2023-07-31 21:17:41.189 +03:00 [INF] Executed action ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api) in 29.1077ms
2023-07-31 21:17:41.190 +03:00 [INF] Executed endpoint 'ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api)'
2023-07-31 21:17:41.191 +03:00 [DBG] 'ShrtLyContext' disposed.
2023-07-31 21:17:41.192 +03:00 [DBG] Disposing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:17:41.193 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2023-07-31 21:17:41.194 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Links?url=%2Flocalhost%2Fe13b0w - - - 400 - text/plain;+charset=utf-8 49.6002ms
2023-07-31 21:17:45.704 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Links?url=https%3A%2F%2Flocalhost%3A5001%2Fswagger%2Findex.html - -
2023-07-31 21:17:45.706 +03:00 [DBG] The request path  does not match the path filter
2023-07-31 21:17:45.707 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Links'
2023-07-31 21:17:45.708 +03:00 [DBG] Endpoint 'ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api)' with route pattern 'api/Links' is valid for the request path '/api/Links'
2023-07-31 21:17:45.709 +03:00 [DBG] Request matched endpoint 'ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api)'
2023-07-31 21:17:45.709 +03:00 [INF] Executing endpoint 'ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api)'
2023-07-31 21:17:45.710 +03:00 [INF] Route matched with {action = "GetToShortLink", controller = "Links"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetToShortLink(System.String) on controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api).
2023-07-31 21:17:45.712 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-31 21:17:45.713 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-31 21:17:45.714 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-31 21:17:45.715 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-31 21:17:45.716 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-31 21:17:45.717 +03:00 [DBG] Executing controller factory for controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api)
2023-07-31 21:17:45.718 +03:00 [DBG] Executed controller factory for controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api)
2023-07-31 21:17:45.719 +03:00 [DBG] Attempting to bind parameter 'url' of type 'System.String' ...
2023-07-31 21:17:45.720 +03:00 [DBG] Attempting to bind parameter 'url' of type 'System.String' using the name 'url' in request data ...
2023-07-31 21:17:45.721 +03:00 [DBG] Done attempting to bind parameter 'url' of type 'System.String'.
2023-07-31 21:17:45.721 +03:00 [DBG] Done attempting to bind parameter 'url' of type 'System.String'.
2023-07-31 21:17:45.722 +03:00 [DBG] Attempting to validate the bound parameter 'url' of type 'System.String' ...
2023-07-31 21:17:45.723 +03:00 [DBG] Done attempting to validate the bound parameter 'url' of type 'System.String'.
2023-07-31 21:17:45.724 +03:00 [DBG] Entity Framework Core 7.0.9 initialized 'ShrtLyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.9' with options: MigrationsAssembly=ShrtLy.Infrastructure 
2023-07-31 21:17:45.726 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-31 21:17:45.727 +03:00 [DBG] Creating DbConnection.
2023-07-31 21:17:45.727 +03:00 [DBG] Created DbConnection. (0ms).
2023-07-31 21:17:45.728 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-07-31 21:17:45.729 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2023-07-31 21:17:45.729 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:17:45.730 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:17:45.731 +03:00 [DBG] Executing DbCommand [Parameters=[@__url_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Links] AS [l]
        WHERE [l].[Url] = @__url_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-07-31 21:17:45.734 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__url_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Links] AS [l]
        WHERE [l].[Url] = @__url_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-07-31 21:17:45.736 +03:00 [DBG] Closing data reader to 'Shrtly' on server 'localhost'.
2023-07-31 21:17:45.736 +03:00 [DBG] A data reader for 'Shrtly' on server 'localhost' is being disposed after spending 0ms reading results.
2023-07-31 21:17:45.737 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:17:45.738 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (0ms).
2023-07-31 21:17:45.739 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-07-31 21:17:45.741 +03:00 [DBG] No information found on request to perform content negotiation.
2023-07-31 21:17:45.741 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-31 21:17:45.742 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-31 21:17:45.742 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-07-31 21:17:45.743 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2023-07-31 21:17:45.744 +03:00 [INF] Executed action ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api) in 27.1253ms
2023-07-31 21:17:45.745 +03:00 [INF] Executed endpoint 'ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api)'
2023-07-31 21:17:45.745 +03:00 [DBG] 'ShrtLyContext' disposed.
2023-07-31 21:17:45.746 +03:00 [DBG] Disposing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:17:45.747 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2023-07-31 21:17:45.748 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Links?url=https%3A%2F%2Flocalhost%3A5001%2Fswagger%2Findex.html - - - 409 - text/plain;+charset=utf-8 44.0667ms
2023-07-31 21:17:52.297 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Links?url=https%3A%2F%2Flocalhost%3A5001%2Fswagger%2Findex.htm1 - -
2023-07-31 21:17:52.298 +03:00 [DBG] The request path  does not match the path filter
2023-07-31 21:17:52.300 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Links'
2023-07-31 21:17:52.301 +03:00 [DBG] Endpoint 'ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api)' with route pattern 'api/Links' is valid for the request path '/api/Links'
2023-07-31 21:17:52.303 +03:00 [DBG] Request matched endpoint 'ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api)'
2023-07-31 21:17:52.305 +03:00 [INF] Executing endpoint 'ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api)'
2023-07-31 21:17:52.306 +03:00 [INF] Route matched with {action = "GetToShortLink", controller = "Links"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetToShortLink(System.String) on controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api).
2023-07-31 21:17:52.308 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-31 21:17:52.310 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-31 21:17:52.311 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-31 21:17:52.313 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-31 21:17:52.313 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-31 21:17:52.315 +03:00 [DBG] Executing controller factory for controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api)
2023-07-31 21:17:52.316 +03:00 [DBG] Executed controller factory for controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api)
2023-07-31 21:17:52.316 +03:00 [DBG] Attempting to bind parameter 'url' of type 'System.String' ...
2023-07-31 21:17:52.317 +03:00 [DBG] Attempting to bind parameter 'url' of type 'System.String' using the name 'url' in request data ...
2023-07-31 21:17:52.318 +03:00 [DBG] Done attempting to bind parameter 'url' of type 'System.String'.
2023-07-31 21:17:52.319 +03:00 [DBG] Done attempting to bind parameter 'url' of type 'System.String'.
2023-07-31 21:17:52.319 +03:00 [DBG] Attempting to validate the bound parameter 'url' of type 'System.String' ...
2023-07-31 21:17:52.320 +03:00 [DBG] Done attempting to validate the bound parameter 'url' of type 'System.String'.
2023-07-31 21:17:52.322 +03:00 [DBG] Entity Framework Core 7.0.9 initialized 'ShrtLyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.9' with options: MigrationsAssembly=ShrtLy.Infrastructure 
2023-07-31 21:17:52.323 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-31 21:17:52.324 +03:00 [DBG] Creating DbConnection.
2023-07-31 21:17:52.324 +03:00 [DBG] Created DbConnection. (0ms).
2023-07-31 21:17:52.325 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-07-31 21:17:52.326 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2023-07-31 21:17:52.326 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:17:52.327 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:17:52.328 +03:00 [DBG] Executing DbCommand [Parameters=[@__url_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Links] AS [l]
        WHERE [l].[Url] = @__url_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-07-31 21:17:52.331 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__url_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Links] AS [l]
        WHERE [l].[Url] = @__url_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-07-31 21:17:52.333 +03:00 [DBG] Closing data reader to 'Shrtly' on server 'localhost'.
2023-07-31 21:17:52.334 +03:00 [DBG] A data reader for 'Shrtly' on server 'localhost' is being disposed after spending 0ms reading results.
2023-07-31 21:17:52.335 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:17:52.336 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (1ms).
2023-07-31 21:17:52.337 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-07-31 21:17:52.338 +03:00 [DBG] No information found on request to perform content negotiation.
2023-07-31 21:17:52.339 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-31 21:17:52.339 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-31 21:17:52.340 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-07-31 21:17:52.341 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2023-07-31 21:17:52.342 +03:00 [INF] Executed action ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api) in 26.7737ms
2023-07-31 21:17:52.343 +03:00 [INF] Executed endpoint 'ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api)'
2023-07-31 21:17:52.343 +03:00 [DBG] 'ShrtLyContext' disposed.
2023-07-31 21:17:52.344 +03:00 [DBG] Disposing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:17:52.345 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2023-07-31 21:17:52.346 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Links?url=https%3A%2F%2Flocalhost%3A5001%2Fswagger%2Findex.htm1 - - - 400 - text/plain;+charset=utf-8 49.0199ms
2023-07-31 21:19:05.546 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-07-31 21:19:06.073 +03:00 [DBG] Entity Framework Core 7.0.9 initialized 'ShrtLyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.9' with options: MigrationsAssembly=ShrtLy.Infrastructure 
2023-07-31 21:19:06.083 +03:00 [DBG] Creating DbConnection.
2023-07-31 21:19:06.139 +03:00 [DBG] Created DbConnection. (53ms).
2023-07-31 21:19:06.144 +03:00 [DBG] Migrating using database 'Shrtly' on server 'localhost'.
2023-07-31 21:19:06.150 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:19:06.373 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:19:06.380 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-07-31 21:19:06.387 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (6ms).
2023-07-31 21:19:06.390 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (12ms).
2023-07-31 21:19:06.397 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-07-31 21:19:06.419 +03:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-07-31 21:19:06.423 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:19:06.431 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (4ms).
2023-07-31 21:19:06.435 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-31 21:19:06.436 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-07-31 21:19:06.437 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2023-07-31 21:19:06.438 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:19:06.440 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:19:06.441 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-07-31 21:19:06.455 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-07-31 21:19:06.457 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:19:06.458 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (1ms).
2023-07-31 21:19:06.460 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:19:06.461 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:19:06.461 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-07-31 21:19:06.462 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-07-31 21:19:06.463 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2023-07-31 21:19:06.464 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-07-31 21:19:06.466 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-07-31 21:19:06.467 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:19:06.468 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (0ms).
2023-07-31 21:19:06.469 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-31 21:19:06.470 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-07-31 21:19:06.471 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2023-07-31 21:19:06.472 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:19:06.473 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:19:06.474 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-07-31 21:19:06.476 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-07-31 21:19:06.477 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:19:06.478 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (0ms).
2023-07-31 21:19:06.498 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-31 21:19:06.499 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-07-31 21:19:06.501 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2023-07-31 21:19:06.502 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:19:06.502 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:19:06.503 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-07-31 21:19:06.506 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-07-31 21:19:06.510 +03:00 [DBG] Closing data reader to 'Shrtly' on server 'localhost'.
2023-07-31 21:19:06.512 +03:00 [DBG] A data reader for 'Shrtly' on server 'localhost' is being disposed after spending 3ms reading results.
2023-07-31 21:19:06.513 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:19:06.514 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (0ms).
2023-07-31 21:19:06.523 +03:00 [INF] No migrations were applied. The database is already up to date.
2023-07-31 21:19:06.525 +03:00 [DBG] 'ShrtLyContext' disposed.
2023-07-31 21:19:06.527 +03:00 [DBG] Disposing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:19:06.529 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2023-07-31 21:19:06.589 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-07-31 21:19:06.645 +03:00 [DBG] Hosting starting
2023-07-31 21:19:06.753 +03:00 [INF] Now listening on: https://localhost:5001
2023-07-31 21:19:06.754 +03:00 [INF] Now listening on: http://localhost:5000
2023-07-31 21:19:06.755 +03:00 [DBG] Loaded hosting startup assembly ShrtLy.Api
2023-07-31 21:19:06.756 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-07-31 21:19:06.757 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-07-31 21:19:06.758 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-07-31 21:19:06.759 +03:00 [INF] Hosting environment: Development
2023-07-31 21:19:06.760 +03:00 [INF] Content root path: D:\PROJECTS\KeyIvr\shrtly-kata\src\ShrtLy.Api
2023-07-31 21:19:06.761 +03:00 [DBG] Hosting started
2023-07-31 21:19:07.136 +03:00 [DBG] Connection id "0HMSHUAGF3DME" received FIN.
2023-07-31 21:19:07.136 +03:00 [DBG] Connection id "0HMSHUAGF3DMF" received FIN.
2023-07-31 21:19:07.144 +03:00 [DBG] Connection id "0HMSHUAGF3DMF" accepted.
2023-07-31 21:19:07.144 +03:00 [DBG] Connection id "0HMSHUAGF3DME" accepted.
2023-07-31 21:19:07.146 +03:00 [DBG] Connection id "0HMSHUAGF3DMF" started.
2023-07-31 21:19:07.147 +03:00 [DBG] Connection id "0HMSHUAGF3DME" started.
2023-07-31 21:19:07.171 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-07-31 21:19:07.171 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-07-31 21:19:07.202 +03:00 [DBG] Connection id "0HMSHUAGF3DMF" stopped.
2023-07-31 21:19:07.202 +03:00 [DBG] Connection id "0HMSHUAGF3DME" stopped.
2023-07-31 21:19:07.206 +03:00 [DBG] Connection id "0HMSHUAGF3DME" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-07-31 21:19:07.206 +03:00 [DBG] Connection id "0HMSHUAGF3DMF" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-07-31 21:19:07.289 +03:00 [DBG] Connection id "0HMSHUAGF3DMG" accepted.
2023-07-31 21:19:07.290 +03:00 [DBG] Connection id "0HMSHUAGF3DMG" started.
2023-07-31 21:19:07.326 +03:00 [DBG] Connection 0HMSHUAGF3DMG established using the following protocol: "Tls12"
2023-07-31 21:19:07.391 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2023-07-31 21:19:07.410 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-07-31 21:19:07.507 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-07-31 21:19:07.589 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-07-31 21:19:07.593 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 204.7121ms
2023-07-31 21:19:07.663 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - -
2023-07-31 21:19:07.663 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - -
2023-07-31 21:19:07.710 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - - - 200 12352 application/javascript;+charset=utf-8 47.2836ms
2023-07-31 21:19:07.733 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 70.4445ms
2023-07-31 21:19:07.826 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2023-07-31 21:19:07.928 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 101.8451ms
2023-07-31 21:19:14.483 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Links?url=https%3A%2F%2Flocalhost%3A5001%2Fswagger%2Findex.html - -
2023-07-31 21:19:14.488 +03:00 [DBG] The request path  does not match the path filter
2023-07-31 21:19:14.513 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Links'
2023-07-31 21:19:14.516 +03:00 [DBG] Endpoint 'ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api)' with route pattern 'api/Links' is valid for the request path '/api/Links'
2023-07-31 21:19:14.519 +03:00 [DBG] Request matched endpoint 'ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api)'
2023-07-31 21:19:14.522 +03:00 [INF] Executing endpoint 'ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api)'
2023-07-31 21:19:14.543 +03:00 [INF] Route matched with {action = "GetToShortLink", controller = "Links"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetToShortLink(System.String) on controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api).
2023-07-31 21:19:14.547 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-31 21:19:14.548 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-31 21:19:14.549 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-31 21:19:14.551 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-31 21:19:14.552 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-31 21:19:14.555 +03:00 [DBG] Executing controller factory for controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api)
2023-07-31 21:19:14.556 +03:00 [DBG] Executed controller factory for controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api)
2023-07-31 21:19:14.571 +03:00 [DBG] Attempting to bind parameter 'url' of type 'System.String' ...
2023-07-31 21:19:14.574 +03:00 [DBG] Attempting to bind parameter 'url' of type 'System.String' using the name 'url' in request data ...
2023-07-31 21:19:14.576 +03:00 [DBG] Done attempting to bind parameter 'url' of type 'System.String'.
2023-07-31 21:19:14.577 +03:00 [DBG] Done attempting to bind parameter 'url' of type 'System.String'.
2023-07-31 21:19:14.578 +03:00 [DBG] Attempting to validate the bound parameter 'url' of type 'System.String' ...
2023-07-31 21:19:14.581 +03:00 [DBG] Done attempting to validate the bound parameter 'url' of type 'System.String'.
2023-07-31 21:19:14.628 +03:00 [DBG] Entity Framework Core 7.0.9 initialized 'ShrtLyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.9' with options: MigrationsAssembly=ShrtLy.Infrastructure 
2023-07-31 21:19:14.671 +03:00 [DBG] Compiling query expression: 
'DbSet<LinkEntity>()
    .Any(l => l.Url == __url_0)'
2023-07-31 21:19:14.804 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Links AS l
                WHERE l.Url == @__url_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        ShrtLy.Infrastructure.ShrtLyContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-07-31 21:19:14.839 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-31 21:19:14.841 +03:00 [DBG] Creating DbConnection.
2023-07-31 21:19:14.842 +03:00 [DBG] Created DbConnection. (1ms).
2023-07-31 21:19:14.844 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2023-07-31 21:19:14.847 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2023-07-31 21:19:14.851 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:19:14.854 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:19:14.860 +03:00 [DBG] Executing DbCommand [Parameters=[@__url_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Links] AS [l]
        WHERE [l].[Url] = @__url_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-07-31 21:19:14.899 +03:00 [INF] Executed DbCommand (43ms) [Parameters=[@__url_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Links] AS [l]
        WHERE [l].[Url] = @__url_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-07-31 21:19:14.919 +03:00 [DBG] Closing data reader to 'Shrtly' on server 'localhost'.
2023-07-31 21:19:14.923 +03:00 [DBG] A data reader for 'Shrtly' on server 'localhost' is being disposed after spending 18ms reading results.
2023-07-31 21:19:14.926 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:19:14.928 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (1ms).
2023-07-31 21:19:14.937 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-07-31 21:19:14.941 +03:00 [DBG] No information found on request to perform content negotiation.
2023-07-31 21:19:14.942 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-31 21:19:14.943 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-31 21:19:14.944 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-07-31 21:19:14.945 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2023-07-31 21:19:14.951 +03:00 [INF] Executed action ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api) in 394.6568ms
2023-07-31 21:19:14.953 +03:00 [INF] Executed endpoint 'ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api)'
2023-07-31 21:19:14.955 +03:00 [DBG] 'ShrtLyContext' disposed.
2023-07-31 21:19:14.958 +03:00 [DBG] Disposing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:19:14.960 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2023-07-31 21:19:14.961 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Links?url=https%3A%2F%2Flocalhost%3A5001%2Fswagger%2Findex.html - - - 409 - text/plain;+charset=utf-8 478.2673ms
2023-07-31 21:19:18.154 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Links?url=https%3A%2F%2Flocalhost%3A5001%2Fswagger%2Findex.html2 - -
2023-07-31 21:19:18.156 +03:00 [DBG] The request path  does not match the path filter
2023-07-31 21:19:18.158 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Links'
2023-07-31 21:19:18.159 +03:00 [DBG] Endpoint 'ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api)' with route pattern 'api/Links' is valid for the request path '/api/Links'
2023-07-31 21:19:18.160 +03:00 [DBG] Request matched endpoint 'ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api)'
2023-07-31 21:19:18.161 +03:00 [INF] Executing endpoint 'ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api)'
2023-07-31 21:19:18.162 +03:00 [INF] Route matched with {action = "GetToShortLink", controller = "Links"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetToShortLink(System.String) on controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api).
2023-07-31 21:19:18.164 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-31 21:19:18.164 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-31 21:19:18.165 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-31 21:19:18.167 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-31 21:19:18.167 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-31 21:19:18.168 +03:00 [DBG] Executing controller factory for controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api)
2023-07-31 21:19:18.170 +03:00 [DBG] Executed controller factory for controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api)
2023-07-31 21:19:18.171 +03:00 [DBG] Attempting to bind parameter 'url' of type 'System.String' ...
2023-07-31 21:19:18.172 +03:00 [DBG] Attempting to bind parameter 'url' of type 'System.String' using the name 'url' in request data ...
2023-07-31 21:19:18.173 +03:00 [DBG] Done attempting to bind parameter 'url' of type 'System.String'.
2023-07-31 21:19:18.174 +03:00 [DBG] Done attempting to bind parameter 'url' of type 'System.String'.
2023-07-31 21:19:18.174 +03:00 [DBG] Attempting to validate the bound parameter 'url' of type 'System.String' ...
2023-07-31 21:19:18.175 +03:00 [DBG] Done attempting to validate the bound parameter 'url' of type 'System.String'.
2023-07-31 21:19:18.228 +03:00 [DBG] Entity Framework Core 7.0.9 initialized 'ShrtLyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.9' with options: MigrationsAssembly=ShrtLy.Infrastructure 
2023-07-31 21:19:18.235 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-31 21:19:18.236 +03:00 [DBG] Creating DbConnection.
2023-07-31 21:19:18.236 +03:00 [DBG] Created DbConnection. (0ms).
2023-07-31 21:19:18.237 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-07-31 21:19:18.238 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2023-07-31 21:19:18.239 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:19:18.240 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:19:18.241 +03:00 [DBG] Executing DbCommand [Parameters=[@__url_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Links] AS [l]
        WHERE [l].[Url] = @__url_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-07-31 21:19:18.244 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__url_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Links] AS [l]
        WHERE [l].[Url] = @__url_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-07-31 21:19:18.246 +03:00 [DBG] Closing data reader to 'Shrtly' on server 'localhost'.
2023-07-31 21:19:18.247 +03:00 [DBG] A data reader for 'Shrtly' on server 'localhost' is being disposed after spending 1ms reading results.
2023-07-31 21:19:18.248 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:19:18.248 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (0ms).
2023-07-31 21:19:18.250 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-07-31 21:19:18.252 +03:00 [DBG] No information found on request to perform content negotiation.
2023-07-31 21:19:18.253 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-31 21:19:18.254 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-31 21:19:18.255 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-07-31 21:19:18.255 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2023-07-31 21:19:18.257 +03:00 [INF] Executed action ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api) in 88.3537ms
2023-07-31 21:19:18.258 +03:00 [INF] Executed endpoint 'ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api)'
2023-07-31 21:19:18.259 +03:00 [DBG] 'ShrtLyContext' disposed.
2023-07-31 21:19:18.260 +03:00 [DBG] Disposing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:19:18.261 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2023-07-31 21:19:18.262 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Links?url=https%3A%2F%2Flocalhost%3A5001%2Fswagger%2Findex.html2 - - - 400 - text/plain;+charset=utf-8 107.3906ms
2023-07-31 21:19:37.676 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-07-31 21:19:38.298 +03:00 [DBG] Entity Framework Core 7.0.9 initialized 'ShrtLyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.9' with options: MigrationsAssembly=ShrtLy.Infrastructure 
2023-07-31 21:19:38.307 +03:00 [DBG] Creating DbConnection.
2023-07-31 21:19:38.363 +03:00 [DBG] Created DbConnection. (52ms).
2023-07-31 21:19:38.368 +03:00 [DBG] Migrating using database 'Shrtly' on server 'localhost'.
2023-07-31 21:19:38.375 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:19:38.603 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:19:38.610 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-07-31 21:19:38.617 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (6ms).
2023-07-31 21:19:38.620 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (11ms).
2023-07-31 21:19:38.626 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-07-31 21:19:38.647 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-07-31 21:19:38.651 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:19:38.659 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (4ms).
2023-07-31 21:19:38.663 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-31 21:19:38.663 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-07-31 21:19:38.664 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2023-07-31 21:19:38.665 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:19:38.666 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:19:38.667 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-07-31 21:19:38.680 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-07-31 21:19:38.682 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:19:38.683 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (0ms).
2023-07-31 21:19:38.684 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:19:38.685 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:19:38.685 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-07-31 21:19:38.686 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-07-31 21:19:38.687 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2023-07-31 21:19:38.688 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-07-31 21:19:38.690 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-07-31 21:19:38.691 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:19:38.692 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (0ms).
2023-07-31 21:19:38.693 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-31 21:19:38.693 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-07-31 21:19:38.694 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2023-07-31 21:19:38.695 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:19:38.695 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:19:38.696 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-07-31 21:19:38.698 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-07-31 21:19:38.699 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:19:38.700 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (0ms).
2023-07-31 21:19:38.721 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-31 21:19:38.722 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-07-31 21:19:38.724 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2023-07-31 21:19:38.725 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:19:38.726 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:19:38.727 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-07-31 21:19:38.730 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-07-31 21:19:38.734 +03:00 [DBG] Closing data reader to 'Shrtly' on server 'localhost'.
2023-07-31 21:19:38.736 +03:00 [DBG] A data reader for 'Shrtly' on server 'localhost' is being disposed after spending 3ms reading results.
2023-07-31 21:19:38.737 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:19:38.738 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (0ms).
2023-07-31 21:19:38.748 +03:00 [INF] No migrations were applied. The database is already up to date.
2023-07-31 21:19:38.750 +03:00 [DBG] 'ShrtLyContext' disposed.
2023-07-31 21:19:38.752 +03:00 [DBG] Disposing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:19:38.753 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2023-07-31 21:19:38.811 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-07-31 21:19:38.870 +03:00 [DBG] Hosting starting
2023-07-31 21:19:38.976 +03:00 [INF] Now listening on: https://localhost:5001
2023-07-31 21:19:38.977 +03:00 [INF] Now listening on: http://localhost:5000
2023-07-31 21:19:38.979 +03:00 [DBG] Loaded hosting startup assembly ShrtLy.Api
2023-07-31 21:19:38.980 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-07-31 21:19:38.980 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-07-31 21:19:38.981 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-07-31 21:19:38.982 +03:00 [INF] Hosting environment: Development
2023-07-31 21:19:38.983 +03:00 [INF] Content root path: D:\PROJECTS\KeyIvr\shrtly-kata\src\ShrtLy.Api
2023-07-31 21:19:38.983 +03:00 [DBG] Hosting started
2023-07-31 21:19:39.359 +03:00 [DBG] Connection id "0HMSHUAQ2CRMK" received FIN.
2023-07-31 21:19:39.365 +03:00 [DBG] Connection id "0HMSHUAQ2CRMK" accepted.
2023-07-31 21:19:39.367 +03:00 [DBG] Connection id "0HMSHUAQ2CRMK" started.
2023-07-31 21:19:39.379 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-07-31 21:19:39.403 +03:00 [DBG] Connection id "0HMSHUAQ2CRMK" stopped.
2023-07-31 21:19:39.405 +03:00 [DBG] Connection id "0HMSHUAQ2CRMK" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-07-31 21:19:39.497 +03:00 [DBG] Connection id "0HMSHUAQ2CRML" accepted.
2023-07-31 21:19:39.498 +03:00 [DBG] Connection id "0HMSHUAQ2CRML" started.
2023-07-31 21:19:39.537 +03:00 [DBG] Connection 0HMSHUAQ2CRML established using the following protocol: "Tls12"
2023-07-31 21:19:39.617 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2023-07-31 21:19:39.636 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-07-31 21:19:39.736 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-07-31 21:19:39.813 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-07-31 21:19:39.817 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 202.0003ms
2023-07-31 21:19:39.886 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - -
2023-07-31 21:19:39.886 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - -
2023-07-31 21:19:39.917 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - - - 200 12352 application/javascript;+charset=utf-8 30.9993ms
2023-07-31 21:19:39.941 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 54.4748ms
2023-07-31 21:19:40.046 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2023-07-31 21:19:40.175 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 128.4857ms
2023-07-31 21:19:54.879 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Links?url=https%3A%2F%2Flocalhost%3A5001%2Fswagger%2Findex.html - -
2023-07-31 21:19:54.883 +03:00 [DBG] The request path  does not match the path filter
2023-07-31 21:19:54.905 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Links'
2023-07-31 21:19:54.908 +03:00 [DBG] Endpoint 'ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api)' with route pattern 'api/Links' is valid for the request path '/api/Links'
2023-07-31 21:19:54.910 +03:00 [DBG] Request matched endpoint 'ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api)'
2023-07-31 21:19:54.913 +03:00 [INF] Executing endpoint 'ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api)'
2023-07-31 21:19:54.933 +03:00 [INF] Route matched with {action = "GetToShortLink", controller = "Links"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetToShortLink(System.String) on controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api).
2023-07-31 21:19:54.936 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-31 21:19:54.937 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-31 21:19:54.939 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-31 21:19:54.940 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-31 21:19:54.941 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-31 21:19:54.943 +03:00 [DBG] Executing controller factory for controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api)
2023-07-31 21:19:54.945 +03:00 [DBG] Executed controller factory for controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api)
2023-07-31 21:19:54.958 +03:00 [DBG] Attempting to bind parameter 'url' of type 'System.String' ...
2023-07-31 21:19:54.961 +03:00 [DBG] Attempting to bind parameter 'url' of type 'System.String' using the name 'url' in request data ...
2023-07-31 21:19:54.963 +03:00 [DBG] Done attempting to bind parameter 'url' of type 'System.String'.
2023-07-31 21:19:54.964 +03:00 [DBG] Done attempting to bind parameter 'url' of type 'System.String'.
2023-07-31 21:19:54.965 +03:00 [DBG] Attempting to validate the bound parameter 'url' of type 'System.String' ...
2023-07-31 21:19:54.968 +03:00 [DBG] Done attempting to validate the bound parameter 'url' of type 'System.String'.
2023-07-31 21:19:55.012 +03:00 [DBG] Entity Framework Core 7.0.9 initialized 'ShrtLyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.9' with options: MigrationsAssembly=ShrtLy.Infrastructure 
2023-07-31 21:19:55.056 +03:00 [DBG] Compiling query expression: 
'DbSet<LinkEntity>()
    .Any(l => l.Url == __url_0)'
2023-07-31 21:19:55.189 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Links AS l
                WHERE l.Url == @__url_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        ShrtLy.Infrastructure.ShrtLyContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-07-31 21:19:55.225 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-31 21:19:55.227 +03:00 [DBG] Creating DbConnection.
2023-07-31 21:19:55.228 +03:00 [DBG] Created DbConnection. (1ms).
2023-07-31 21:19:55.229 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-07-31 21:19:55.233 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2023-07-31 21:19:55.236 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:19:55.239 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:19:55.246 +03:00 [DBG] Executing DbCommand [Parameters=[@__url_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Links] AS [l]
        WHERE [l].[Url] = @__url_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-07-31 21:19:55.286 +03:00 [INF] Executed DbCommand (45ms) [Parameters=[@__url_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Links] AS [l]
        WHERE [l].[Url] = @__url_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-07-31 21:19:55.300 +03:00 [DBG] Closing data reader to 'Shrtly' on server 'localhost'.
2023-07-31 21:19:55.301 +03:00 [DBG] A data reader for 'Shrtly' on server 'localhost' is being disposed after spending 12ms reading results.
2023-07-31 21:19:55.304 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:19:55.305 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (1ms).
2023-07-31 21:19:55.314 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-07-31 21:19:55.318 +03:00 [DBG] No information found on request to perform content negotiation.
2023-07-31 21:19:55.318 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-31 21:19:55.319 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-31 21:19:55.321 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-07-31 21:19:55.323 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2023-07-31 21:19:55.328 +03:00 [INF] Executed action ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api) in 382.748ms
2023-07-31 21:19:55.330 +03:00 [INF] Executed endpoint 'ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api)'
2023-07-31 21:19:55.331 +03:00 [DBG] 'ShrtLyContext' disposed.
2023-07-31 21:19:55.335 +03:00 [DBG] Disposing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:19:55.337 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2023-07-31 21:19:55.338 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Links?url=https%3A%2F%2Flocalhost%3A5001%2Fswagger%2Findex.html - - - 409 - text/plain;+charset=utf-8 459.2257ms
2023-07-31 21:19:58.935 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Links?url=https%3A%2F%2Flocalhost%3A5001%2Fswagger%2Findex.html2 - -
2023-07-31 21:19:58.937 +03:00 [DBG] The request path  does not match the path filter
2023-07-31 21:19:58.939 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Links'
2023-07-31 21:19:58.940 +03:00 [DBG] Endpoint 'ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api)' with route pattern 'api/Links' is valid for the request path '/api/Links'
2023-07-31 21:19:58.941 +03:00 [DBG] Request matched endpoint 'ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api)'
2023-07-31 21:19:58.942 +03:00 [INF] Executing endpoint 'ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api)'
2023-07-31 21:19:58.944 +03:00 [INF] Route matched with {action = "GetToShortLink", controller = "Links"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetToShortLink(System.String) on controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api).
2023-07-31 21:19:58.946 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-31 21:19:58.946 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-31 21:19:58.947 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-31 21:19:58.948 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-31 21:19:58.949 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-31 21:19:58.950 +03:00 [DBG] Executing controller factory for controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api)
2023-07-31 21:19:58.952 +03:00 [DBG] Executed controller factory for controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api)
2023-07-31 21:19:58.953 +03:00 [DBG] Attempting to bind parameter 'url' of type 'System.String' ...
2023-07-31 21:19:58.954 +03:00 [DBG] Attempting to bind parameter 'url' of type 'System.String' using the name 'url' in request data ...
2023-07-31 21:19:58.955 +03:00 [DBG] Done attempting to bind parameter 'url' of type 'System.String'.
2023-07-31 21:19:58.955 +03:00 [DBG] Done attempting to bind parameter 'url' of type 'System.String'.
2023-07-31 21:19:58.956 +03:00 [DBG] Attempting to validate the bound parameter 'url' of type 'System.String' ...
2023-07-31 21:19:58.957 +03:00 [DBG] Done attempting to validate the bound parameter 'url' of type 'System.String'.
2023-07-31 21:19:59.012 +03:00 [DBG] Entity Framework Core 7.0.9 initialized 'ShrtLyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.9' with options: MigrationsAssembly=ShrtLy.Infrastructure 
2023-07-31 21:19:59.018 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-31 21:19:59.019 +03:00 [DBG] Creating DbConnection.
2023-07-31 21:19:59.020 +03:00 [DBG] Created DbConnection. (1ms).
2023-07-31 21:19:59.021 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-07-31 21:19:59.023 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2023-07-31 21:19:59.023 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:19:59.024 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:19:59.025 +03:00 [DBG] Executing DbCommand [Parameters=[@__url_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Links] AS [l]
        WHERE [l].[Url] = @__url_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-07-31 21:19:59.029 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__url_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Links] AS [l]
        WHERE [l].[Url] = @__url_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-07-31 21:19:59.032 +03:00 [DBG] Closing data reader to 'Shrtly' on server 'localhost'.
2023-07-31 21:19:59.032 +03:00 [DBG] A data reader for 'Shrtly' on server 'localhost' is being disposed after spending 0ms reading results.
2023-07-31 21:19:59.034 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:19:59.034 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (0ms).
2023-07-31 21:19:59.036 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-07-31 21:19:59.038 +03:00 [DBG] No information found on request to perform content negotiation.
2023-07-31 21:19:59.038 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-31 21:19:59.039 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-31 21:19:59.040 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-07-31 21:19:59.041 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2023-07-31 21:19:59.042 +03:00 [INF] Executed action ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api) in 91.4202ms
2023-07-31 21:19:59.043 +03:00 [INF] Executed endpoint 'ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api)'
2023-07-31 21:19:59.043 +03:00 [DBG] 'ShrtLyContext' disposed.
2023-07-31 21:19:59.044 +03:00 [DBG] Disposing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:19:59.045 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2023-07-31 21:19:59.046 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Links?url=https%3A%2F%2Flocalhost%3A5001%2Fswagger%2Findex.html2 - - - 400 - text/plain;+charset=utf-8 110.7584ms
2023-07-31 21:20:44.361 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-07-31 21:20:44.952 +03:00 [DBG] Entity Framework Core 7.0.9 initialized 'ShrtLyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.9' with options: MigrationsAssembly=ShrtLy.Infrastructure 
2023-07-31 21:20:44.961 +03:00 [DBG] Creating DbConnection.
2023-07-31 21:20:45.018 +03:00 [DBG] Created DbConnection. (53ms).
2023-07-31 21:20:45.024 +03:00 [DBG] Migrating using database 'Shrtly' on server 'localhost'.
2023-07-31 21:20:45.030 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:20:45.254 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:20:45.261 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-07-31 21:20:45.269 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (6ms).
2023-07-31 21:20:45.271 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (11ms).
2023-07-31 21:20:45.278 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-07-31 21:20:45.299 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-07-31 21:20:45.303 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:20:45.311 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (4ms).
2023-07-31 21:20:45.316 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-31 21:20:45.316 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-07-31 21:20:45.317 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2023-07-31 21:20:45.318 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:20:45.320 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:20:45.321 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-07-31 21:20:45.335 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-07-31 21:20:45.336 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:20:45.337 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (0ms).
2023-07-31 21:20:45.338 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:20:45.339 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:20:45.340 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-07-31 21:20:45.341 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-07-31 21:20:45.341 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2023-07-31 21:20:45.342 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-07-31 21:20:45.344 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-07-31 21:20:45.346 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:20:45.346 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (0ms).
2023-07-31 21:20:45.347 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-31 21:20:45.348 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-07-31 21:20:45.349 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2023-07-31 21:20:45.349 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:20:45.350 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:20:45.351 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-07-31 21:20:45.353 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-07-31 21:20:45.354 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:20:45.355 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (0ms).
2023-07-31 21:20:45.376 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-31 21:20:45.376 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-07-31 21:20:45.377 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-07-31 21:20:45.378 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:20:45.379 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:20:45.380 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-07-31 21:20:45.383 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-07-31 21:20:45.386 +03:00 [DBG] Closing data reader to 'Shrtly' on server 'localhost'.
2023-07-31 21:20:45.388 +03:00 [DBG] A data reader for 'Shrtly' on server 'localhost' is being disposed after spending 2ms reading results.
2023-07-31 21:20:45.389 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:20:45.390 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (0ms).
2023-07-31 21:20:45.400 +03:00 [INF] No migrations were applied. The database is already up to date.
2023-07-31 21:20:45.401 +03:00 [DBG] 'ShrtLyContext' disposed.
2023-07-31 21:20:45.403 +03:00 [DBG] Disposing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:20:45.405 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2023-07-31 21:20:45.465 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-07-31 21:20:45.520 +03:00 [DBG] Hosting starting
2023-07-31 21:20:45.626 +03:00 [INF] Now listening on: https://localhost:5001
2023-07-31 21:20:45.632 +03:00 [INF] Now listening on: http://localhost:5000
2023-07-31 21:20:45.637 +03:00 [DBG] Loaded hosting startup assembly ShrtLy.Api
2023-07-31 21:20:45.638 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-07-31 21:20:45.639 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-07-31 21:20:45.640 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-07-31 21:20:45.641 +03:00 [INF] Hosting environment: Development
2023-07-31 21:20:45.641 +03:00 [INF] Content root path: D:\PROJECTS\KeyIvr\shrtly-kata\src\ShrtLy.Api
2023-07-31 21:20:45.642 +03:00 [DBG] Hosting started
2023-07-31 21:20:45.642 +03:00 [DBG] Connection id "0HMSHUBDQGUL5" received FIN.
2023-07-31 21:20:45.647 +03:00 [DBG] Connection id "0HMSHUBDQGUL5" accepted.
2023-07-31 21:20:45.649 +03:00 [DBG] Connection id "0HMSHUBDQGUL5" started.
2023-07-31 21:20:45.661 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-07-31 21:20:45.683 +03:00 [DBG] Connection id "0HMSHUBDQGUL5" stopped.
2023-07-31 21:20:45.685 +03:00 [DBG] Connection id "0HMSHUBDQGUL5" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-07-31 21:20:45.768 +03:00 [DBG] Connection id "0HMSHUBDQGUL6" accepted.
2023-07-31 21:20:45.770 +03:00 [DBG] Connection id "0HMSHUBDQGUL6" started.
2023-07-31 21:20:45.808 +03:00 [DBG] Connection 0HMSHUBDQGUL6 established using the following protocol: "Tls12"
2023-07-31 21:20:45.874 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2023-07-31 21:20:45.892 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-07-31 21:20:45.988 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-07-31 21:20:46.069 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-07-31 21:20:46.074 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 201.3745ms
2023-07-31 21:20:46.144 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - -
2023-07-31 21:20:46.144 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - -
2023-07-31 21:20:46.171 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - - - 200 12352 application/javascript;+charset=utf-8 27.5394ms
2023-07-31 21:20:46.199 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 55.4745ms
2023-07-31 21:20:46.318 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2023-07-31 21:20:46.436 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 117.8636ms
2023-07-31 21:20:52.695 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Links?url=https%3A%2F%2Flocalhost%3A5001%2Fswagger%2Findex.html - -
2023-07-31 21:20:52.700 +03:00 [DBG] The request path  does not match the path filter
2023-07-31 21:20:52.725 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Links'
2023-07-31 21:20:52.729 +03:00 [DBG] Endpoint 'ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api)' with route pattern 'api/Links' is valid for the request path '/api/Links'
2023-07-31 21:20:52.732 +03:00 [DBG] Request matched endpoint 'ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api)'
2023-07-31 21:20:52.734 +03:00 [INF] Executing endpoint 'ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api)'
2023-07-31 21:20:52.756 +03:00 [INF] Route matched with {action = "GetToShortLink", controller = "Links"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetToShortLink(System.String) on controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api).
2023-07-31 21:20:52.761 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-31 21:20:52.762 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-31 21:20:52.764 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-31 21:20:52.766 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-31 21:20:52.767 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-31 21:20:52.769 +03:00 [DBG] Executing controller factory for controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api)
2023-07-31 21:20:52.770 +03:00 [DBG] Executed controller factory for controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api)
2023-07-31 21:20:52.784 +03:00 [DBG] Attempting to bind parameter 'url' of type 'System.String' ...
2023-07-31 21:20:52.788 +03:00 [DBG] Attempting to bind parameter 'url' of type 'System.String' using the name 'url' in request data ...
2023-07-31 21:20:52.790 +03:00 [DBG] Done attempting to bind parameter 'url' of type 'System.String'.
2023-07-31 21:20:52.791 +03:00 [DBG] Done attempting to bind parameter 'url' of type 'System.String'.
2023-07-31 21:20:52.792 +03:00 [DBG] Attempting to validate the bound parameter 'url' of type 'System.String' ...
2023-07-31 21:20:52.795 +03:00 [DBG] Done attempting to validate the bound parameter 'url' of type 'System.String'.
2023-07-31 21:20:52.841 +03:00 [DBG] Entity Framework Core 7.0.9 initialized 'ShrtLyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.9' with options: MigrationsAssembly=ShrtLy.Infrastructure 
2023-07-31 21:20:52.886 +03:00 [DBG] Compiling query expression: 
'DbSet<LinkEntity>()
    .Any(l => l.Url == __url_0)'
2023-07-31 21:20:53.020 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Links AS l
                WHERE l.Url == @__url_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        ShrtLy.Infrastructure.ShrtLyContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-07-31 21:20:53.057 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-31 21:20:53.059 +03:00 [DBG] Creating DbConnection.
2023-07-31 21:20:53.060 +03:00 [DBG] Created DbConnection. (0ms).
2023-07-31 21:20:53.060 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-07-31 21:20:53.064 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2023-07-31 21:20:53.068 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:20:53.071 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:20:53.075 +03:00 [DBG] Executing DbCommand [Parameters=[@__url_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Links] AS [l]
        WHERE [l].[Url] = @__url_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-07-31 21:20:53.112 +03:00 [INF] Executed DbCommand (39ms) [Parameters=[@__url_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Links] AS [l]
        WHERE [l].[Url] = @__url_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-07-31 21:20:53.126 +03:00 [DBG] Closing data reader to 'Shrtly' on server 'localhost'.
2023-07-31 21:20:53.128 +03:00 [DBG] A data reader for 'Shrtly' on server 'localhost' is being disposed after spending 13ms reading results.
2023-07-31 21:20:53.131 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:20:53.132 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (1ms).
2023-07-31 21:20:53.143 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-07-31 21:20:53.147 +03:00 [DBG] No information found on request to perform content negotiation.
2023-07-31 21:20:53.147 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-31 21:20:53.148 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-31 21:20:53.150 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-07-31 21:20:53.152 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2023-07-31 21:20:53.158 +03:00 [INF] Executed action ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api) in 386.849ms
2023-07-31 21:20:53.160 +03:00 [INF] Executed endpoint 'ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api)'
2023-07-31 21:20:53.162 +03:00 [DBG] 'ShrtLyContext' disposed.
2023-07-31 21:20:53.167 +03:00 [DBG] Disposing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:20:53.169 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2023-07-31 21:20:53.170 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Links?url=https%3A%2F%2Flocalhost%3A5001%2Fswagger%2Findex.html - - - 409 - text/plain;+charset=utf-8 474.7405ms
2023-07-31 21:20:57.353 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Links?url=https%3A%2F%2Flocalhost%3A5001%2Fswagger%2Findex.html2 - -
2023-07-31 21:20:57.355 +03:00 [DBG] The request path  does not match the path filter
2023-07-31 21:20:57.357 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Links'
2023-07-31 21:20:57.358 +03:00 [DBG] Endpoint 'ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api)' with route pattern 'api/Links' is valid for the request path '/api/Links'
2023-07-31 21:20:57.359 +03:00 [DBG] Request matched endpoint 'ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api)'
2023-07-31 21:20:57.360 +03:00 [INF] Executing endpoint 'ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api)'
2023-07-31 21:20:57.362 +03:00 [INF] Route matched with {action = "GetToShortLink", controller = "Links"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetToShortLink(System.String) on controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api).
2023-07-31 21:20:57.364 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-31 21:20:57.364 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-31 21:20:57.365 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-31 21:20:57.366 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-31 21:20:57.367 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-31 21:20:57.369 +03:00 [DBG] Executing controller factory for controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api)
2023-07-31 21:20:57.370 +03:00 [DBG] Executed controller factory for controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api)
2023-07-31 21:20:57.372 +03:00 [DBG] Attempting to bind parameter 'url' of type 'System.String' ...
2023-07-31 21:20:57.373 +03:00 [DBG] Attempting to bind parameter 'url' of type 'System.String' using the name 'url' in request data ...
2023-07-31 21:20:57.373 +03:00 [DBG] Done attempting to bind parameter 'url' of type 'System.String'.
2023-07-31 21:20:57.374 +03:00 [DBG] Done attempting to bind parameter 'url' of type 'System.String'.
2023-07-31 21:20:57.375 +03:00 [DBG] Attempting to validate the bound parameter 'url' of type 'System.String' ...
2023-07-31 21:20:57.376 +03:00 [DBG] Done attempting to validate the bound parameter 'url' of type 'System.String'.
2023-07-31 21:20:57.432 +03:00 [DBG] Entity Framework Core 7.0.9 initialized 'ShrtLyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.9' with options: MigrationsAssembly=ShrtLy.Infrastructure 
2023-07-31 21:20:57.437 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-31 21:20:57.438 +03:00 [DBG] Creating DbConnection.
2023-07-31 21:20:57.439 +03:00 [DBG] Created DbConnection. (0ms).
2023-07-31 21:20:57.440 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-07-31 21:20:57.441 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2023-07-31 21:20:57.442 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:20:57.443 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:20:57.444 +03:00 [DBG] Executing DbCommand [Parameters=[@__url_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Links] AS [l]
        WHERE [l].[Url] = @__url_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-07-31 21:20:57.448 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__url_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Links] AS [l]
        WHERE [l].[Url] = @__url_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-07-31 21:20:57.450 +03:00 [DBG] Closing data reader to 'Shrtly' on server 'localhost'.
2023-07-31 21:20:57.451 +03:00 [DBG] A data reader for 'Shrtly' on server 'localhost' is being disposed after spending 1ms reading results.
2023-07-31 21:20:57.453 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:20:57.454 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (0ms).
2023-07-31 21:20:57.457 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-07-31 21:20:57.459 +03:00 [DBG] No information found on request to perform content negotiation.
2023-07-31 21:20:57.460 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-31 21:20:57.460 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-31 21:20:57.461 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-07-31 21:20:57.462 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2023-07-31 21:20:57.463 +03:00 [INF] Executed action ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api) in 94.2784ms
2023-07-31 21:20:57.464 +03:00 [INF] Executed endpoint 'ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api)'
2023-07-31 21:20:57.464 +03:00 [DBG] 'ShrtLyContext' disposed.
2023-07-31 21:20:57.465 +03:00 [DBG] Disposing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:20:57.466 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2023-07-31 21:20:57.467 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Links?url=https%3A%2F%2Flocalhost%3A5001%2Fswagger%2Findex.html2 - - - 200 - text/plain;+charset=utf-8 113.6167ms
2023-07-31 21:21:05.059 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Links?url=https%3A%2F%2Flocalhost%3A5001%2F4061cw - -
2023-07-31 21:21:05.061 +03:00 [DBG] The request path  does not match the path filter
2023-07-31 21:21:05.062 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Links'
2023-07-31 21:21:05.063 +03:00 [DBG] Endpoint 'ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api)' with route pattern 'api/Links' is valid for the request path '/api/Links'
2023-07-31 21:21:05.065 +03:00 [DBG] Request matched endpoint 'ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api)'
2023-07-31 21:21:05.066 +03:00 [INF] Executing endpoint 'ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api)'
2023-07-31 21:21:05.066 +03:00 [INF] Route matched with {action = "GetToShortLink", controller = "Links"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetToShortLink(System.String) on controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api).
2023-07-31 21:21:05.068 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-31 21:21:05.069 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-31 21:21:05.070 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-31 21:21:05.072 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-31 21:21:05.073 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-31 21:21:05.074 +03:00 [DBG] Executing controller factory for controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api)
2023-07-31 21:21:05.075 +03:00 [DBG] Executed controller factory for controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api)
2023-07-31 21:21:05.075 +03:00 [DBG] Attempting to bind parameter 'url' of type 'System.String' ...
2023-07-31 21:21:05.076 +03:00 [DBG] Attempting to bind parameter 'url' of type 'System.String' using the name 'url' in request data ...
2023-07-31 21:21:05.077 +03:00 [DBG] Done attempting to bind parameter 'url' of type 'System.String'.
2023-07-31 21:21:05.078 +03:00 [DBG] Done attempting to bind parameter 'url' of type 'System.String'.
2023-07-31 21:21:05.079 +03:00 [DBG] Attempting to validate the bound parameter 'url' of type 'System.String' ...
2023-07-31 21:21:05.080 +03:00 [DBG] Done attempting to validate the bound parameter 'url' of type 'System.String'.
2023-07-31 21:21:05.082 +03:00 [DBG] Entity Framework Core 7.0.9 initialized 'ShrtLyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.9' with options: MigrationsAssembly=ShrtLy.Infrastructure 
2023-07-31 21:21:05.084 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-31 21:21:05.085 +03:00 [DBG] Creating DbConnection.
2023-07-31 21:21:05.086 +03:00 [DBG] Created DbConnection. (0ms).
2023-07-31 21:21:05.086 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-07-31 21:21:05.087 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2023-07-31 21:21:05.088 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:21:05.088 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:21:05.089 +03:00 [DBG] Executing DbCommand [Parameters=[@__url_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Links] AS [l]
        WHERE [l].[Url] = @__url_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-07-31 21:21:05.092 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__url_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Links] AS [l]
        WHERE [l].[Url] = @__url_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-07-31 21:21:05.094 +03:00 [DBG] Closing data reader to 'Shrtly' on server 'localhost'.
2023-07-31 21:21:05.094 +03:00 [DBG] A data reader for 'Shrtly' on server 'localhost' is being disposed after spending 0ms reading results.
2023-07-31 21:21:05.095 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:21:05.096 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (0ms).
2023-07-31 21:21:05.097 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-07-31 21:21:05.099 +03:00 [DBG] No information found on request to perform content negotiation.
2023-07-31 21:21:05.099 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-31 21:21:05.100 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-31 21:21:05.101 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-07-31 21:21:05.101 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2023-07-31 21:21:05.102 +03:00 [INF] Executed action ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api) in 28.5014ms
2023-07-31 21:21:05.103 +03:00 [INF] Executed endpoint 'ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api)'
2023-07-31 21:21:05.104 +03:00 [DBG] 'ShrtLyContext' disposed.
2023-07-31 21:21:05.104 +03:00 [DBG] Disposing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:21:05.105 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2023-07-31 21:21:05.106 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Links?url=https%3A%2F%2Flocalhost%3A5001%2F4061cw - - - 200 - text/plain;+charset=utf-8 47.0502ms
2023-07-31 21:22:52.909 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-07-31 21:22:53.524 +03:00 [DBG] Entity Framework Core 7.0.9 initialized 'ShrtLyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.9' with options: MigrationsAssembly=ShrtLy.Infrastructure 
2023-07-31 21:22:53.536 +03:00 [DBG] Creating DbConnection.
2023-07-31 21:22:53.595 +03:00 [DBG] Created DbConnection. (55ms).
2023-07-31 21:22:53.600 +03:00 [DBG] Migrating using database 'Shrtly' on server 'localhost'.
2023-07-31 21:22:53.606 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:22:53.834 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:22:53.841 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-07-31 21:22:53.848 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (6ms).
2023-07-31 21:22:53.852 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (13ms).
2023-07-31 21:22:53.860 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-07-31 21:22:53.882 +03:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-07-31 21:22:53.887 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:22:53.895 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (4ms).
2023-07-31 21:22:53.898 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-31 21:22:53.900 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2023-07-31 21:22:53.900 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2023-07-31 21:22:53.901 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:22:53.903 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:22:53.904 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-07-31 21:22:53.917 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-07-31 21:22:53.918 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:22:53.919 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (0ms).
2023-07-31 21:22:53.921 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:22:53.921 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:22:53.922 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-07-31 21:22:53.923 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2023-07-31 21:22:53.924 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2023-07-31 21:22:53.925 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-07-31 21:22:53.927 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-07-31 21:22:53.928 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:22:53.929 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (0ms).
2023-07-31 21:22:53.930 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-31 21:22:53.931 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-07-31 21:22:53.931 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2023-07-31 21:22:53.932 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:22:53.934 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:22:53.934 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-07-31 21:22:53.936 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-07-31 21:22:53.937 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:22:53.938 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (0ms).
2023-07-31 21:22:53.960 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-31 21:22:53.961 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-07-31 21:22:53.962 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-07-31 21:22:53.963 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:22:53.964 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:22:53.965 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-07-31 21:22:53.972 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-07-31 21:22:53.976 +03:00 [DBG] Closing data reader to 'Shrtly' on server 'localhost'.
2023-07-31 21:22:53.978 +03:00 [DBG] A data reader for 'Shrtly' on server 'localhost' is being disposed after spending 3ms reading results.
2023-07-31 21:22:53.979 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:22:53.980 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (0ms).
2023-07-31 21:22:53.991 +03:00 [INF] No migrations were applied. The database is already up to date.
2023-07-31 21:22:53.993 +03:00 [DBG] 'ShrtLyContext' disposed.
2023-07-31 21:22:53.995 +03:00 [DBG] Disposing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:22:53.997 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2023-07-31 21:22:54.059 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-07-31 21:22:54.118 +03:00 [DBG] Hosting starting
2023-07-31 21:22:54.226 +03:00 [INF] Now listening on: https://localhost:5001
2023-07-31 21:22:54.228 +03:00 [INF] Now listening on: http://localhost:5000
2023-07-31 21:22:54.229 +03:00 [DBG] Loaded hosting startup assembly ShrtLy.Api
2023-07-31 21:22:54.230 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-07-31 21:22:54.231 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-07-31 21:22:54.232 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-07-31 21:22:54.232 +03:00 [INF] Hosting environment: Development
2023-07-31 21:22:54.233 +03:00 [INF] Content root path: D:\PROJECTS\KeyIvr\shrtly-kata\src\ShrtLy.Api
2023-07-31 21:22:54.233 +03:00 [DBG] Hosting started
2023-07-31 21:22:54.708 +03:00 [DBG] Connection id "0HMSHUCK9CPH4" accepted.
2023-07-31 21:22:54.708 +03:00 [DBG] Connection id "0HMSHUCK9CPH3" accepted.
2023-07-31 21:22:54.710 +03:00 [DBG] Connection id "0HMSHUCK9CPH4" started.
2023-07-31 21:22:54.711 +03:00 [DBG] Connection id "0HMSHUCK9CPH3" started.
2023-07-31 21:22:54.732 +03:00 [DBG] Connection id "0HMSHUCK9CPH3" received FIN.
2023-07-31 21:22:54.732 +03:00 [DBG] Connection id "0HMSHUCK9CPH4" received FIN.
2023-07-31 21:22:54.739 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-07-31 21:22:54.739 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-07-31 21:22:54.762 +03:00 [DBG] Connection id "0HMSHUCK9CPH3" stopped.
2023-07-31 21:22:54.762 +03:00 [DBG] Connection id "0HMSHUCK9CPH4" stopped.
2023-07-31 21:22:54.765 +03:00 [DBG] Connection id "0HMSHUCK9CPH3" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-07-31 21:22:54.765 +03:00 [DBG] Connection id "0HMSHUCK9CPH4" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-07-31 21:22:54.869 +03:00 [DBG] Connection id "0HMSHUCK9CPH5" accepted.
2023-07-31 21:22:54.870 +03:00 [DBG] Connection id "0HMSHUCK9CPH5" started.
2023-07-31 21:22:54.901 +03:00 [DBG] Connection 0HMSHUCK9CPH5 established using the following protocol: "Tls12"
2023-07-31 21:22:54.972 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2023-07-31 21:22:54.989 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-07-31 21:22:55.085 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-07-31 21:22:55.181 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-07-31 21:22:55.184 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 213.7810ms
2023-07-31 21:22:55.243 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - -
2023-07-31 21:22:55.243 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - -
2023-07-31 21:22:55.257 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - - - 200 12352 application/javascript;+charset=utf-8 13.8299ms
2023-07-31 21:22:55.288 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 45.1252ms
2023-07-31 21:22:55.425 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2023-07-31 21:22:55.534 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 109.0150ms
2023-07-31 21:23:00.433 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Links?url=https%3A%2F%2Flocalhost%3A5001%2Fswagger%2Findex.html - -
2023-07-31 21:23:00.438 +03:00 [DBG] The request path  does not match the path filter
2023-07-31 21:23:00.458 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Links'
2023-07-31 21:23:00.461 +03:00 [DBG] Endpoint 'ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api)' with route pattern 'api/Links' is valid for the request path '/api/Links'
2023-07-31 21:23:00.462 +03:00 [DBG] Request matched endpoint 'ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api)'
2023-07-31 21:23:00.466 +03:00 [INF] Executing endpoint 'ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api)'
2023-07-31 21:23:00.483 +03:00 [INF] Route matched with {action = "GetToShortLink", controller = "Links"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetToShortLink(System.String) on controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api).
2023-07-31 21:23:00.486 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-31 21:23:00.486 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-31 21:23:00.487 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-31 21:23:00.488 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-31 21:23:00.490 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-31 21:23:00.493 +03:00 [DBG] Executing controller factory for controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api)
2023-07-31 21:23:00.494 +03:00 [DBG] Executed controller factory for controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api)
2023-07-31 21:23:00.506 +03:00 [DBG] Attempting to bind parameter 'url' of type 'System.String' ...
2023-07-31 21:23:00.508 +03:00 [DBG] Attempting to bind parameter 'url' of type 'System.String' using the name 'url' in request data ...
2023-07-31 21:23:00.511 +03:00 [DBG] Done attempting to bind parameter 'url' of type 'System.String'.
2023-07-31 21:23:00.511 +03:00 [DBG] Done attempting to bind parameter 'url' of type 'System.String'.
2023-07-31 21:23:00.512 +03:00 [DBG] Attempting to validate the bound parameter 'url' of type 'System.String' ...
2023-07-31 21:23:00.514 +03:00 [DBG] Done attempting to validate the bound parameter 'url' of type 'System.String'.
2023-07-31 21:23:00.556 +03:00 [DBG] Entity Framework Core 7.0.9 initialized 'ShrtLyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.9' with options: MigrationsAssembly=ShrtLy.Infrastructure 
2023-07-31 21:23:00.599 +03:00 [DBG] Compiling query expression: 
'DbSet<LinkEntity>()
    .Any(l => l.Url == __url_0)'
2023-07-31 21:23:00.737 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Links AS l
                WHERE l.Url == @__url_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        ShrtLy.Infrastructure.ShrtLyContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-07-31 21:23:00.775 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-31 21:23:00.777 +03:00 [DBG] Creating DbConnection.
2023-07-31 21:23:00.779 +03:00 [DBG] Created DbConnection. (0ms).
2023-07-31 21:23:00.779 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2023-07-31 21:23:00.783 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2023-07-31 21:23:00.787 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:23:00.791 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:23:00.798 +03:00 [DBG] Executing DbCommand [Parameters=[@__url_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Links] AS [l]
        WHERE [l].[Url] = @__url_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-07-31 21:23:00.836 +03:00 [INF] Executed DbCommand (43ms) [Parameters=[@__url_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Links] AS [l]
        WHERE [l].[Url] = @__url_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-07-31 21:23:00.849 +03:00 [DBG] Closing data reader to 'Shrtly' on server 'localhost'.
2023-07-31 21:23:00.851 +03:00 [DBG] A data reader for 'Shrtly' on server 'localhost' is being disposed after spending 12ms reading results.
2023-07-31 21:23:00.854 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:23:00.856 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (1ms).
2023-07-31 21:23:00.864 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-07-31 21:23:00.868 +03:00 [DBG] No information found on request to perform content negotiation.
2023-07-31 21:23:00.869 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-31 21:23:00.869 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-31 21:23:00.871 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-07-31 21:23:00.872 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2023-07-31 21:23:00.878 +03:00 [INF] Executed action ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api) in 383.6668ms
2023-07-31 21:23:00.880 +03:00 [INF] Executed endpoint 'ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api)'
2023-07-31 21:23:00.882 +03:00 [DBG] 'ShrtLyContext' disposed.
2023-07-31 21:23:00.885 +03:00 [DBG] Disposing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:23:00.886 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2023-07-31 21:23:00.887 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Links?url=https%3A%2F%2Flocalhost%3A5001%2Fswagger%2Findex.html - - - 409 - text/plain;+charset=utf-8 454.3318ms
2023-07-31 21:23:04.493 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Links?url=https%3A%2F%2Flocalhost%3A5001%2Fswagger%2Findex.html2 - -
2023-07-31 21:23:04.495 +03:00 [DBG] The request path  does not match the path filter
2023-07-31 21:23:04.496 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Links'
2023-07-31 21:23:04.497 +03:00 [DBG] Endpoint 'ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api)' with route pattern 'api/Links' is valid for the request path '/api/Links'
2023-07-31 21:23:04.499 +03:00 [DBG] Request matched endpoint 'ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api)'
2023-07-31 21:23:04.500 +03:00 [INF] Executing endpoint 'ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api)'
2023-07-31 21:23:04.501 +03:00 [INF] Route matched with {action = "GetToShortLink", controller = "Links"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetToShortLink(System.String) on controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api).
2023-07-31 21:23:04.502 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-31 21:23:04.504 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-31 21:23:04.505 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-31 21:23:04.506 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-31 21:23:04.507 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-31 21:23:04.508 +03:00 [DBG] Executing controller factory for controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api)
2023-07-31 21:23:04.509 +03:00 [DBG] Executed controller factory for controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api)
2023-07-31 21:23:04.510 +03:00 [DBG] Attempting to bind parameter 'url' of type 'System.String' ...
2023-07-31 21:23:04.511 +03:00 [DBG] Attempting to bind parameter 'url' of type 'System.String' using the name 'url' in request data ...
2023-07-31 21:23:04.512 +03:00 [DBG] Done attempting to bind parameter 'url' of type 'System.String'.
2023-07-31 21:23:04.513 +03:00 [DBG] Done attempting to bind parameter 'url' of type 'System.String'.
2023-07-31 21:23:04.514 +03:00 [DBG] Attempting to validate the bound parameter 'url' of type 'System.String' ...
2023-07-31 21:23:04.514 +03:00 [DBG] Done attempting to validate the bound parameter 'url' of type 'System.String'.
2023-07-31 21:23:04.567 +03:00 [DBG] Entity Framework Core 7.0.9 initialized 'ShrtLyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.9' with options: MigrationsAssembly=ShrtLy.Infrastructure 
2023-07-31 21:23:04.573 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-31 21:23:04.574 +03:00 [DBG] Creating DbConnection.
2023-07-31 21:23:04.575 +03:00 [DBG] Created DbConnection. (0ms).
2023-07-31 21:23:04.576 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-07-31 21:23:04.577 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2023-07-31 21:23:04.577 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:23:04.578 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:23:04.579 +03:00 [DBG] Executing DbCommand [Parameters=[@__url_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Links] AS [l]
        WHERE [l].[Url] = @__url_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-07-31 21:23:04.582 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__url_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Links] AS [l]
        WHERE [l].[Url] = @__url_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-07-31 21:23:04.584 +03:00 [DBG] Closing data reader to 'Shrtly' on server 'localhost'.
2023-07-31 21:23:04.585 +03:00 [DBG] A data reader for 'Shrtly' on server 'localhost' is being disposed after spending 0ms reading results.
2023-07-31 21:23:04.585 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:23:04.586 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (0ms).
2023-07-31 21:23:04.587 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-07-31 21:23:04.589 +03:00 [DBG] No information found on request to perform content negotiation.
2023-07-31 21:23:04.590 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-31 21:23:04.590 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-31 21:23:04.591 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-07-31 21:23:04.592 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2023-07-31 21:23:04.593 +03:00 [INF] Executed action ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api) in 84.8636ms
2023-07-31 21:23:04.594 +03:00 [INF] Executed endpoint 'ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api)'
2023-07-31 21:23:04.594 +03:00 [DBG] 'ShrtLyContext' disposed.
2023-07-31 21:23:04.595 +03:00 [DBG] Disposing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:23:04.596 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2023-07-31 21:23:04.597 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Links?url=https%3A%2F%2Flocalhost%3A5001%2Fswagger%2Findex.html2 - - - 400 - text/plain;+charset=utf-8 103.6711ms
2023-07-31 21:23:18.962 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-07-31 21:23:19.590 +03:00 [DBG] Entity Framework Core 7.0.9 initialized 'ShrtLyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.9' with options: MigrationsAssembly=ShrtLy.Infrastructure 
2023-07-31 21:23:19.601 +03:00 [DBG] Creating DbConnection.
2023-07-31 21:23:19.660 +03:00 [DBG] Created DbConnection. (56ms).
2023-07-31 21:23:19.666 +03:00 [DBG] Migrating using database 'Shrtly' on server 'localhost'.
2023-07-31 21:23:19.672 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:23:19.890 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:23:19.897 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-07-31 21:23:19.904 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (5ms).
2023-07-31 21:23:19.907 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (10ms).
2023-07-31 21:23:19.913 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-07-31 21:23:19.935 +03:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-07-31 21:23:19.938 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:23:19.946 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (4ms).
2023-07-31 21:23:19.950 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-31 21:23:19.951 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-07-31 21:23:19.952 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2023-07-31 21:23:19.953 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:23:19.954 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:23:19.955 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-07-31 21:23:19.968 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-07-31 21:23:19.970 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:23:19.971 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (1ms).
2023-07-31 21:23:19.973 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:23:19.974 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:23:19.975 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-07-31 21:23:19.976 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2023-07-31 21:23:19.977 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2023-07-31 21:23:19.979 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-07-31 21:23:19.982 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-07-31 21:23:19.983 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:23:19.984 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (0ms).
2023-07-31 21:23:19.985 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-31 21:23:19.986 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-07-31 21:23:19.987 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2023-07-31 21:23:19.988 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:23:19.989 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:23:19.990 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-07-31 21:23:19.993 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-07-31 21:23:19.995 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:23:19.996 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (0ms).
2023-07-31 21:23:20.026 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-31 21:23:20.028 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-07-31 21:23:20.030 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2023-07-31 21:23:20.032 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:23:20.033 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:23:20.035 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-07-31 21:23:20.040 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-07-31 21:23:20.045 +03:00 [DBG] Closing data reader to 'Shrtly' on server 'localhost'.
2023-07-31 21:23:20.047 +03:00 [DBG] A data reader for 'Shrtly' on server 'localhost' is being disposed after spending 3ms reading results.
2023-07-31 21:23:20.049 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:23:20.050 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (1ms).
2023-07-31 21:23:20.063 +03:00 [INF] No migrations were applied. The database is already up to date.
2023-07-31 21:23:20.065 +03:00 [DBG] 'ShrtLyContext' disposed.
2023-07-31 21:23:20.070 +03:00 [DBG] Disposing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:23:20.072 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2023-07-31 21:23:20.134 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-07-31 21:23:20.191 +03:00 [DBG] Hosting starting
2023-07-31 21:23:20.310 +03:00 [INF] Now listening on: https://localhost:5001
2023-07-31 21:23:20.311 +03:00 [INF] Now listening on: http://localhost:5000
2023-07-31 21:23:20.313 +03:00 [DBG] Loaded hosting startup assembly ShrtLy.Api
2023-07-31 21:23:20.314 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-07-31 21:23:20.316 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-07-31 21:23:20.318 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-07-31 21:23:20.319 +03:00 [INF] Hosting environment: Development
2023-07-31 21:23:20.319 +03:00 [INF] Content root path: D:\PROJECTS\KeyIvr\shrtly-kata\src\ShrtLy.Api
2023-07-31 21:23:20.320 +03:00 [DBG] Hosting started
2023-07-31 21:23:20.673 +03:00 [DBG] Connection id "0HMSHUCS10JNP" accepted.
2023-07-31 21:23:20.673 +03:00 [DBG] Connection id "0HMSHUCS10JNO" accepted.
2023-07-31 21:23:20.680 +03:00 [DBG] Connection id "0HMSHUCS10JNP" started.
2023-07-31 21:23:20.680 +03:00 [DBG] Connection id "0HMSHUCS10JNO" started.
2023-07-31 21:23:20.680 +03:00 [DBG] Connection id "0HMSHUCS10JNO" received FIN.
2023-07-31 21:23:20.680 +03:00 [DBG] Connection id "0HMSHUCS10JNP" received FIN.
2023-07-31 21:23:20.696 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-07-31 21:23:20.696 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-07-31 21:23:20.725 +03:00 [DBG] Connection id "0HMSHUCS10JNP" stopped.
2023-07-31 21:23:20.725 +03:00 [DBG] Connection id "0HMSHUCS10JNO" stopped.
2023-07-31 21:23:20.729 +03:00 [DBG] Connection id "0HMSHUCS10JNO" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-07-31 21:23:20.729 +03:00 [DBG] Connection id "0HMSHUCS10JNP" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-07-31 21:23:20.823 +03:00 [DBG] Connection id "0HMSHUCS10JNQ" accepted.
2023-07-31 21:23:20.825 +03:00 [DBG] Connection id "0HMSHUCS10JNQ" started.
2023-07-31 21:23:20.860 +03:00 [DBG] Connection 0HMSHUCS10JNQ established using the following protocol: "Tls12"
2023-07-31 21:23:20.930 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2023-07-31 21:23:20.948 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-07-31 21:23:21.044 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-07-31 21:23:21.135 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-07-31 21:23:21.140 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 210.8656ms
2023-07-31 21:23:21.203 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - -
2023-07-31 21:23:21.203 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - -
2023-07-31 21:23:21.220 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - - - 200 12352 application/javascript;+charset=utf-8 16.8231ms
2023-07-31 21:23:21.243 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 40.4154ms
2023-07-31 21:23:21.356 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2023-07-31 21:23:21.458 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 102.1259ms
2023-07-31 21:23:29.674 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - -
2023-07-31 21:23:29.674 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - -
2023-07-31 21:23:29.678 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - - - 200 12352 application/javascript;+charset=utf-8 3.9217ms
2023-07-31 21:23:29.702 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 28.4629ms
2023-07-31 21:23:29.821 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2023-07-31 21:23:29.826 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 4.5685ms
2023-07-31 21:23:37.728 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Links?url=https%3A%2F%2Flocalhost%3A5001%2Fswagger%2Findex.html - -
2023-07-31 21:23:37.731 +03:00 [DBG] The request path  does not match the path filter
2023-07-31 21:23:37.753 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Links'
2023-07-31 21:23:37.757 +03:00 [DBG] Endpoint 'ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api)' with route pattern 'api/Links' is valid for the request path '/api/Links'
2023-07-31 21:23:37.758 +03:00 [DBG] Request matched endpoint 'ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api)'
2023-07-31 21:23:37.762 +03:00 [INF] Executing endpoint 'ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api)'
2023-07-31 21:23:37.785 +03:00 [INF] Route matched with {action = "GetToShortLink", controller = "Links"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetToShortLink(System.String) on controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api).
2023-07-31 21:23:37.789 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-31 21:23:37.790 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-31 21:23:37.791 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-31 21:23:37.793 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-31 21:23:37.794 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-31 21:23:37.797 +03:00 [DBG] Executing controller factory for controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api)
2023-07-31 21:23:37.798 +03:00 [DBG] Executed controller factory for controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api)
2023-07-31 21:23:37.811 +03:00 [DBG] Attempting to bind parameter 'url' of type 'System.String' ...
2023-07-31 21:23:37.814 +03:00 [DBG] Attempting to bind parameter 'url' of type 'System.String' using the name 'url' in request data ...
2023-07-31 21:23:37.817 +03:00 [DBG] Done attempting to bind parameter 'url' of type 'System.String'.
2023-07-31 21:23:37.818 +03:00 [DBG] Done attempting to bind parameter 'url' of type 'System.String'.
2023-07-31 21:23:37.819 +03:00 [DBG] Attempting to validate the bound parameter 'url' of type 'System.String' ...
2023-07-31 21:23:37.821 +03:00 [DBG] Done attempting to validate the bound parameter 'url' of type 'System.String'.
2023-07-31 21:23:37.866 +03:00 [DBG] Entity Framework Core 7.0.9 initialized 'ShrtLyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.9' with options: MigrationsAssembly=ShrtLy.Infrastructure 
2023-07-31 21:23:37.908 +03:00 [DBG] Compiling query expression: 
'DbSet<LinkEntity>()
    .Any(l => l.Url == __url_0)'
2023-07-31 21:23:38.043 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Links AS l
                WHERE l.Url == @__url_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        ShrtLy.Infrastructure.ShrtLyContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-07-31 21:23:38.084 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-31 21:23:38.087 +03:00 [DBG] Creating DbConnection.
2023-07-31 21:23:38.088 +03:00 [DBG] Created DbConnection. (0ms).
2023-07-31 21:23:38.089 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2023-07-31 21:23:38.093 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2023-07-31 21:23:38.096 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:23:38.099 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:23:38.102 +03:00 [DBG] Executing DbCommand [Parameters=[@__url_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Links] AS [l]
        WHERE [l].[Url] = @__url_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-07-31 21:23:38.136 +03:00 [INF] Executed DbCommand (35ms) [Parameters=[@__url_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Links] AS [l]
        WHERE [l].[Url] = @__url_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-07-31 21:23:38.150 +03:00 [DBG] Closing data reader to 'Shrtly' on server 'localhost'.
2023-07-31 21:23:38.151 +03:00 [DBG] A data reader for 'Shrtly' on server 'localhost' is being disposed after spending 13ms reading results.
2023-07-31 21:23:38.154 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:23:38.155 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (1ms).
2023-07-31 21:23:38.164 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-07-31 21:23:38.167 +03:00 [DBG] No information found on request to perform content negotiation.
2023-07-31 21:23:38.168 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-31 21:23:38.169 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-31 21:23:38.170 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-07-31 21:23:38.172 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2023-07-31 21:23:38.177 +03:00 [INF] Executed action ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api) in 378.5183ms
2023-07-31 21:23:38.178 +03:00 [INF] Executed endpoint 'ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api)'
2023-07-31 21:23:38.180 +03:00 [DBG] 'ShrtLyContext' disposed.
2023-07-31 21:23:38.183 +03:00 [DBG] Disposing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:23:38.185 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2023-07-31 21:23:38.186 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Links?url=https%3A%2F%2Flocalhost%3A5001%2Fswagger%2Findex.html - - - 409 - text/plain;+charset=utf-8 458.1850ms
2023-07-31 21:23:41.688 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Links?url=https%3A%2F%2Flocalhost%3A5001%2Fswagger%2Findex.html2 - -
2023-07-31 21:23:41.690 +03:00 [DBG] The request path  does not match the path filter
2023-07-31 21:23:41.691 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Links'
2023-07-31 21:23:41.693 +03:00 [DBG] Endpoint 'ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api)' with route pattern 'api/Links' is valid for the request path '/api/Links'
2023-07-31 21:23:41.694 +03:00 [DBG] Request matched endpoint 'ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api)'
2023-07-31 21:23:41.695 +03:00 [INF] Executing endpoint 'ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api)'
2023-07-31 21:23:41.696 +03:00 [INF] Route matched with {action = "GetToShortLink", controller = "Links"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetToShortLink(System.String) on controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api).
2023-07-31 21:23:41.699 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-31 21:23:41.700 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-31 21:23:41.701 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-31 21:23:41.702 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-31 21:23:41.703 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-31 21:23:41.705 +03:00 [DBG] Executing controller factory for controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api)
2023-07-31 21:23:41.706 +03:00 [DBG] Executed controller factory for controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api)
2023-07-31 21:23:41.708 +03:00 [DBG] Attempting to bind parameter 'url' of type 'System.String' ...
2023-07-31 21:23:41.709 +03:00 [DBG] Attempting to bind parameter 'url' of type 'System.String' using the name 'url' in request data ...
2023-07-31 21:23:41.710 +03:00 [DBG] Done attempting to bind parameter 'url' of type 'System.String'.
2023-07-31 21:23:41.711 +03:00 [DBG] Done attempting to bind parameter 'url' of type 'System.String'.
2023-07-31 21:23:41.712 +03:00 [DBG] Attempting to validate the bound parameter 'url' of type 'System.String' ...
2023-07-31 21:23:41.712 +03:00 [DBG] Done attempting to validate the bound parameter 'url' of type 'System.String'.
2023-07-31 21:23:41.766 +03:00 [DBG] Entity Framework Core 7.0.9 initialized 'ShrtLyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.9' with options: MigrationsAssembly=ShrtLy.Infrastructure 
2023-07-31 21:23:41.772 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-31 21:23:41.772 +03:00 [DBG] Creating DbConnection.
2023-07-31 21:23:41.773 +03:00 [DBG] Created DbConnection. (0ms).
2023-07-31 21:23:41.774 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-07-31 21:23:41.775 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2023-07-31 21:23:41.776 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:23:41.776 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:23:41.777 +03:00 [DBG] Executing DbCommand [Parameters=[@__url_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Links] AS [l]
        WHERE [l].[Url] = @__url_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-07-31 21:23:41.781 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__url_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Links] AS [l]
        WHERE [l].[Url] = @__url_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-07-31 21:23:41.783 +03:00 [DBG] Closing data reader to 'Shrtly' on server 'localhost'.
2023-07-31 21:23:41.783 +03:00 [DBG] A data reader for 'Shrtly' on server 'localhost' is being disposed after spending 0ms reading results.
2023-07-31 21:23:41.784 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:23:41.785 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (0ms).
2023-07-31 21:23:41.789 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-07-31 21:23:41.790 +03:00 [DBG] No information found on request to perform content negotiation.
2023-07-31 21:23:41.791 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-31 21:23:41.791 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-31 21:23:41.792 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-07-31 21:23:41.793 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2023-07-31 21:23:41.794 +03:00 [INF] Executed action ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api) in 88.6415ms
2023-07-31 21:23:41.795 +03:00 [INF] Executed endpoint 'ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api)'
2023-07-31 21:23:41.795 +03:00 [DBG] 'ShrtLyContext' disposed.
2023-07-31 21:23:41.796 +03:00 [DBG] Disposing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:23:41.797 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2023-07-31 21:23:41.798 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Links?url=https%3A%2F%2Flocalhost%3A5001%2Fswagger%2Findex.html2 - - - 200 - text/plain;+charset=utf-8 109.7892ms
2023-07-31 21:23:48.509 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Links?url=https%3A%2F%2Flocalhost%3A5001%2F3df06w - -
2023-07-31 21:23:48.511 +03:00 [DBG] The request path  does not match the path filter
2023-07-31 21:23:48.512 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Links'
2023-07-31 21:23:48.513 +03:00 [DBG] Endpoint 'ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api)' with route pattern 'api/Links' is valid for the request path '/api/Links'
2023-07-31 21:23:48.514 +03:00 [DBG] Request matched endpoint 'ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api)'
2023-07-31 21:23:48.515 +03:00 [INF] Executing endpoint 'ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api)'
2023-07-31 21:23:48.516 +03:00 [INF] Route matched with {action = "GetToShortLink", controller = "Links"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetToShortLink(System.String) on controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api).
2023-07-31 21:23:48.518 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-31 21:23:48.519 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-31 21:23:48.520 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-31 21:23:48.522 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-31 21:23:48.522 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-31 21:23:48.523 +03:00 [DBG] Executing controller factory for controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api)
2023-07-31 21:23:48.524 +03:00 [DBG] Executed controller factory for controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api)
2023-07-31 21:23:48.525 +03:00 [DBG] Attempting to bind parameter 'url' of type 'System.String' ...
2023-07-31 21:23:48.526 +03:00 [DBG] Attempting to bind parameter 'url' of type 'System.String' using the name 'url' in request data ...
2023-07-31 21:23:48.527 +03:00 [DBG] Done attempting to bind parameter 'url' of type 'System.String'.
2023-07-31 21:23:48.528 +03:00 [DBG] Done attempting to bind parameter 'url' of type 'System.String'.
2023-07-31 21:23:48.529 +03:00 [DBG] Attempting to validate the bound parameter 'url' of type 'System.String' ...
2023-07-31 21:23:48.529 +03:00 [DBG] Done attempting to validate the bound parameter 'url' of type 'System.String'.
2023-07-31 21:23:48.532 +03:00 [DBG] Entity Framework Core 7.0.9 initialized 'ShrtLyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.9' with options: MigrationsAssembly=ShrtLy.Infrastructure 
2023-07-31 21:23:48.534 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-31 21:23:48.535 +03:00 [DBG] Creating DbConnection.
2023-07-31 21:23:48.536 +03:00 [DBG] Created DbConnection. (0ms).
2023-07-31 21:23:48.536 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-07-31 21:23:48.537 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2023-07-31 21:23:48.537 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:23:48.538 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:23:48.539 +03:00 [DBG] Executing DbCommand [Parameters=[@__url_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Links] AS [l]
        WHERE [l].[Url] = @__url_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-07-31 21:23:48.542 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__url_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Links] AS [l]
        WHERE [l].[Url] = @__url_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-07-31 21:23:48.544 +03:00 [DBG] Closing data reader to 'Shrtly' on server 'localhost'.
2023-07-31 21:23:48.544 +03:00 [DBG] A data reader for 'Shrtly' on server 'localhost' is being disposed after spending 0ms reading results.
2023-07-31 21:23:48.545 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:23:48.546 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (0ms).
2023-07-31 21:23:48.547 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-07-31 21:23:48.549 +03:00 [DBG] No information found on request to perform content negotiation.
2023-07-31 21:23:48.550 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-31 21:23:48.550 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-31 21:23:48.551 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-07-31 21:23:48.552 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2023-07-31 21:23:48.552 +03:00 [INF] Executed action ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api) in 28.9883ms
2023-07-31 21:23:48.553 +03:00 [INF] Executed endpoint 'ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api)'
2023-07-31 21:23:48.554 +03:00 [DBG] 'ShrtLyContext' disposed.
2023-07-31 21:23:48.555 +03:00 [DBG] Disposing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:23:48.556 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2023-07-31 21:23:48.557 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Links?url=https%3A%2F%2Flocalhost%3A5001%2F3df06w - - - 200 - text/plain;+charset=utf-8 47.3084ms
2023-07-31 21:24:35.389 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Links?url=3df06w - -
2023-07-31 21:24:35.391 +03:00 [DBG] The request path  does not match the path filter
2023-07-31 21:24:35.393 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Links'
2023-07-31 21:24:35.393 +03:00 [DBG] Endpoint 'ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api)' with route pattern 'api/Links' is valid for the request path '/api/Links'
2023-07-31 21:24:35.395 +03:00 [DBG] Request matched endpoint 'ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api)'
2023-07-31 21:24:35.395 +03:00 [INF] Executing endpoint 'ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api)'
2023-07-31 21:24:35.396 +03:00 [INF] Route matched with {action = "GetToShortLink", controller = "Links"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetToShortLink(System.String) on controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api).
2023-07-31 21:24:35.398 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-31 21:24:35.399 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-31 21:24:35.400 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-31 21:24:35.401 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-31 21:24:35.402 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-31 21:24:35.403 +03:00 [DBG] Executing controller factory for controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api)
2023-07-31 21:24:35.404 +03:00 [DBG] Executed controller factory for controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api)
2023-07-31 21:24:35.405 +03:00 [DBG] Attempting to bind parameter 'url' of type 'System.String' ...
2023-07-31 21:24:35.406 +03:00 [DBG] Attempting to bind parameter 'url' of type 'System.String' using the name 'url' in request data ...
2023-07-31 21:24:35.407 +03:00 [DBG] Done attempting to bind parameter 'url' of type 'System.String'.
2023-07-31 21:24:35.407 +03:00 [DBG] Done attempting to bind parameter 'url' of type 'System.String'.
2023-07-31 21:24:35.408 +03:00 [DBG] Attempting to validate the bound parameter 'url' of type 'System.String' ...
2023-07-31 21:24:35.409 +03:00 [DBG] Done attempting to validate the bound parameter 'url' of type 'System.String'.
2023-07-31 21:24:35.410 +03:00 [DBG] Entity Framework Core 7.0.9 initialized 'ShrtLyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.9' with options: MigrationsAssembly=ShrtLy.Infrastructure 
2023-07-31 21:24:35.412 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-31 21:24:35.412 +03:00 [DBG] Creating DbConnection.
2023-07-31 21:24:35.413 +03:00 [DBG] Created DbConnection. (0ms).
2023-07-31 21:24:35.414 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-07-31 21:24:35.414 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2023-07-31 21:24:35.415 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:24:35.416 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:24:35.417 +03:00 [DBG] Executing DbCommand [Parameters=[@__url_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Links] AS [l]
        WHERE [l].[Url] = @__url_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-07-31 21:24:35.424 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__url_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Links] AS [l]
        WHERE [l].[Url] = @__url_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-07-31 21:24:35.425 +03:00 [DBG] Closing data reader to 'Shrtly' on server 'localhost'.
2023-07-31 21:24:35.426 +03:00 [DBG] A data reader for 'Shrtly' on server 'localhost' is being disposed after spending 0ms reading results.
2023-07-31 21:24:35.427 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:24:35.428 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (0ms).
2023-07-31 21:24:35.429 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-07-31 21:24:35.431 +03:00 [DBG] No information found on request to perform content negotiation.
2023-07-31 21:24:35.431 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-31 21:24:35.432 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-31 21:24:35.432 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-07-31 21:24:35.433 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2023-07-31 21:24:35.434 +03:00 [INF] Executed action ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api) in 30.8112ms
2023-07-31 21:24:35.435 +03:00 [INF] Executed endpoint 'ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api)'
2023-07-31 21:24:35.436 +03:00 [DBG] 'ShrtLyContext' disposed.
2023-07-31 21:24:35.436 +03:00 [DBG] Disposing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:24:35.437 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2023-07-31 21:24:35.438 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Links?url=3df06w - - - 400 - text/plain;+charset=utf-8 49.0521ms
2023-07-31 21:26:50.723 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-07-31 21:26:51.336 +03:00 [DBG] Entity Framework Core 7.0.9 initialized 'ShrtLyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.9' with options: MigrationsAssembly=ShrtLy.Infrastructure 
2023-07-31 21:26:51.345 +03:00 [DBG] Creating DbConnection.
2023-07-31 21:26:51.402 +03:00 [DBG] Created DbConnection. (54ms).
2023-07-31 21:26:51.408 +03:00 [DBG] Migrating using database 'Shrtly' on server 'localhost'.
2023-07-31 21:26:51.414 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:26:51.636 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:26:51.643 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-07-31 21:26:51.650 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (6ms).
2023-07-31 21:26:51.653 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (12ms).
2023-07-31 21:26:51.660 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-07-31 21:26:51.680 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-07-31 21:26:51.684 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:26:51.692 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (4ms).
2023-07-31 21:26:51.695 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-31 21:26:51.697 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2023-07-31 21:26:51.699 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (3ms).
2023-07-31 21:26:51.700 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:26:51.702 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:26:51.703 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-07-31 21:26:51.718 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-07-31 21:26:51.720 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:26:51.721 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (1ms).
2023-07-31 21:26:51.722 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:26:51.723 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:26:51.724 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-07-31 21:26:51.725 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2023-07-31 21:26:51.726 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2023-07-31 21:26:51.727 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-07-31 21:26:51.730 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-07-31 21:26:51.731 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:26:51.732 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (0ms).
2023-07-31 21:26:51.732 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-31 21:26:51.733 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-07-31 21:26:51.734 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2023-07-31 21:26:51.735 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:26:51.735 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:26:51.736 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-07-31 21:26:51.738 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-07-31 21:26:51.739 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:26:51.739 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (0ms).
2023-07-31 21:26:51.760 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-31 21:26:51.761 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-07-31 21:26:51.762 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-07-31 21:26:51.763 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:26:51.764 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:26:51.765 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-07-31 21:26:51.768 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-07-31 21:26:51.772 +03:00 [DBG] Closing data reader to 'Shrtly' on server 'localhost'.
2023-07-31 21:26:51.773 +03:00 [DBG] A data reader for 'Shrtly' on server 'localhost' is being disposed after spending 2ms reading results.
2023-07-31 21:26:51.774 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:26:51.775 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (0ms).
2023-07-31 21:26:51.785 +03:00 [INF] No migrations were applied. The database is already up to date.
2023-07-31 21:26:51.787 +03:00 [DBG] 'ShrtLyContext' disposed.
2023-07-31 21:26:51.789 +03:00 [DBG] Disposing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:26:51.790 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2023-07-31 21:26:51.849 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-07-31 21:26:51.904 +03:00 [DBG] Hosting starting
2023-07-31 21:26:52.012 +03:00 [INF] Now listening on: https://localhost:5001
2023-07-31 21:26:52.018 +03:00 [INF] Now listening on: http://localhost:5000
2023-07-31 21:26:52.029 +03:00 [DBG] Loaded hosting startup assembly ShrtLy.Api
2023-07-31 21:26:52.030 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-07-31 21:26:52.031 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-07-31 21:26:52.031 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-07-31 21:26:52.032 +03:00 [INF] Hosting environment: Development
2023-07-31 21:26:52.033 +03:00 [DBG] Connection id "0HMSHUER0MG6N" received FIN.
2023-07-31 21:26:52.033 +03:00 [INF] Content root path: D:\PROJECTS\KeyIvr\shrtly-kata\src\ShrtLy.Api
2023-07-31 21:26:52.034 +03:00 [DBG] Hosting started
2023-07-31 21:26:52.038 +03:00 [DBG] Connection id "0HMSHUER0MG6N" accepted.
2023-07-31 21:26:52.039 +03:00 [DBG] Connection id "0HMSHUER0MG6N" started.
2023-07-31 21:26:52.050 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-07-31 21:26:52.070 +03:00 [DBG] Connection id "0HMSHUER0MG6N" stopped.
2023-07-31 21:26:52.073 +03:00 [DBG] Connection id "0HMSHUER0MG6N" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-07-31 21:26:52.143 +03:00 [DBG] Connection id "0HMSHUER0MG6O" accepted.
2023-07-31 21:26:52.145 +03:00 [DBG] Connection id "0HMSHUER0MG6O" started.
2023-07-31 21:26:52.183 +03:00 [DBG] Connection 0HMSHUER0MG6O established using the following protocol: "Tls12"
2023-07-31 21:26:52.250 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2023-07-31 21:26:52.271 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-07-31 21:26:52.379 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-07-31 21:26:52.469 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-07-31 21:26:52.474 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 225.3628ms
2023-07-31 21:26:52.547 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - -
2023-07-31 21:26:52.547 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - -
2023-07-31 21:26:52.571 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - - - 200 12352 application/javascript;+charset=utf-8 23.9925ms
2023-07-31 21:26:52.597 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 49.5979ms
2023-07-31 21:26:52.707 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2023-07-31 21:26:52.819 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 111.4498ms
2023-07-31 21:26:58.092 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Links - -
2023-07-31 21:26:58.095 +03:00 [DBG] The request path  does not match the path filter
2023-07-31 21:26:58.120 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Links'
2023-07-31 21:26:58.124 +03:00 [DBG] Endpoint 'ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api)' with route pattern 'api/Links' is valid for the request path '/api/Links'
2023-07-31 21:26:58.126 +03:00 [DBG] Request matched endpoint 'ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api)'
2023-07-31 21:26:58.129 +03:00 [INF] Executing endpoint 'ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api)'
2023-07-31 21:26:58.152 +03:00 [INF] Route matched with {action = "GetToShortLink", controller = "Links"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetToShortLink(System.String) on controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api).
2023-07-31 21:26:58.156 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-31 21:26:58.157 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-31 21:26:58.158 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-31 21:26:58.160 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-31 21:26:58.161 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-31 21:26:58.164 +03:00 [DBG] Executing controller factory for controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api)
2023-07-31 21:26:58.165 +03:00 [DBG] Executed controller factory for controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api)
2023-07-31 21:26:58.177 +03:00 [DBG] Attempting to bind parameter 'url' of type 'System.String' ...
2023-07-31 21:26:58.181 +03:00 [DBG] Attempting to bind parameter 'url' of type 'System.String' using the name '' in request data ...
2023-07-31 21:26:58.182 +03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'url' of type 'System.String'.
2023-07-31 21:26:58.184 +03:00 [DBG] Done attempting to bind parameter 'url' of type 'System.String'.
2023-07-31 21:26:58.184 +03:00 [DBG] Done attempting to bind parameter 'url' of type 'System.String'.
2023-07-31 21:26:58.185 +03:00 [DBG] Attempting to validate the bound parameter 'url' of type 'System.String' ...
2023-07-31 21:26:58.189 +03:00 [DBG] Done attempting to validate the bound parameter 'url' of type 'System.String'.
2023-07-31 21:27:10.333 +03:00 [INF] Executed action ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api) in 12167.5383ms
2023-07-31 21:27:10.337 +03:00 [INF] Executed endpoint 'ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api)'
2023-07-31 21:27:10.342 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at ShrtLy.Application.Features.GetToShortLinkHandler.CheckIsAlreadyShort(String url) in D:\PROJECTS\KeyIvr\shrtly-kata\src\ShrtLy.Application\Features\GetToShortLink\GetToShortLinkHandler.cs:line 67
   at ShrtLy.Application.Features.GetToShortLinkHandler.Handle(GetToShortLinkCommand request, CancellationToken cancellationToken) in D:\PROJECTS\KeyIvr\shrtly-kata\src\ShrtLy.Application\Features\GetToShortLink\GetToShortLinkHandler.cs:line 38
   at ShrtLy.Api.Controllers.LinksController.GetToShortLink(String url) in D:\PROJECTS\KeyIvr\shrtly-kata\src\ShrtLy.Api\Controllers\LinksController.cs:line 30
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-07-31 21:27:10.363 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Links - - - 500 - text/plain;+charset=utf-8 12271.8573ms
2023-07-31 21:27:27.119 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Links - -
2023-07-31 21:27:27.120 +03:00 [DBG] The request path  does not match the path filter
2023-07-31 21:27:27.121 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Links'
2023-07-31 21:27:27.122 +03:00 [DBG] Endpoint 'ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api)' with route pattern 'api/Links' is valid for the request path '/api/Links'
2023-07-31 21:27:27.124 +03:00 [DBG] Request matched endpoint 'ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api)'
2023-07-31 21:27:27.125 +03:00 [INF] Executing endpoint 'ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api)'
2023-07-31 21:27:27.126 +03:00 [INF] Route matched with {action = "GetToShortLink", controller = "Links"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetToShortLink(System.String) on controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api).
2023-07-31 21:27:27.128 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-31 21:27:27.129 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-31 21:27:27.131 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-31 21:27:27.133 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-31 21:27:27.134 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-31 21:27:27.135 +03:00 [DBG] Executing controller factory for controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api)
2023-07-31 21:27:34.312 +03:00 [DBG] Executed controller factory for controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api)
2023-07-31 21:27:34.314 +03:00 [DBG] Attempting to bind parameter 'url' of type 'System.String' ...
2023-07-31 21:27:34.315 +03:00 [DBG] Attempting to bind parameter 'url' of type 'System.String' using the name '' in request data ...
2023-07-31 21:27:34.316 +03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'url' of type 'System.String'.
2023-07-31 21:27:34.317 +03:00 [DBG] Done attempting to bind parameter 'url' of type 'System.String'.
2023-07-31 21:27:34.318 +03:00 [DBG] Done attempting to bind parameter 'url' of type 'System.String'.
2023-07-31 21:27:34.319 +03:00 [DBG] Attempting to validate the bound parameter 'url' of type 'System.String' ...
2023-07-31 21:27:34.320 +03:00 [DBG] Done attempting to validate the bound parameter 'url' of type 'System.String'.
2023-07-31 21:28:51.365 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-07-31 21:28:51.971 +03:00 [DBG] Entity Framework Core 7.0.9 initialized 'ShrtLyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.9' with options: MigrationsAssembly=ShrtLy.Infrastructure 
2023-07-31 21:28:51.982 +03:00 [DBG] Creating DbConnection.
2023-07-31 21:28:52.039 +03:00 [DBG] Created DbConnection. (54ms).
2023-07-31 21:28:52.045 +03:00 [DBG] Migrating using database 'Shrtly' on server 'localhost'.
2023-07-31 21:28:52.052 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:28:52.283 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:28:52.289 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-07-31 21:28:52.296 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (5ms).
2023-07-31 21:28:52.299 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (11ms).
2023-07-31 21:28:52.306 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-07-31 21:28:52.326 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-07-31 21:28:52.330 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:28:52.338 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (4ms).
2023-07-31 21:28:52.341 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-31 21:28:52.342 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-07-31 21:28:52.343 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2023-07-31 21:28:52.343 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:28:52.345 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:28:52.346 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-07-31 21:28:52.359 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-07-31 21:28:52.360 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:28:52.361 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (0ms).
2023-07-31 21:28:52.362 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:28:52.363 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:28:52.364 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-07-31 21:28:52.365 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-07-31 21:28:52.366 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2023-07-31 21:28:52.367 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-07-31 21:28:52.370 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-07-31 21:28:52.371 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:28:52.372 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (0ms).
2023-07-31 21:28:52.373 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-31 21:28:52.373 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-07-31 21:28:52.374 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2023-07-31 21:28:52.374 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:28:52.375 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:28:52.376 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-07-31 21:28:52.378 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-07-31 21:28:52.379 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:28:52.379 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (0ms).
2023-07-31 21:28:52.404 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-31 21:28:52.404 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-07-31 21:28:52.405 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-07-31 21:28:52.406 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:28:52.407 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:28:52.408 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-07-31 21:28:52.411 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-07-31 21:28:52.415 +03:00 [DBG] Closing data reader to 'Shrtly' on server 'localhost'.
2023-07-31 21:28:52.417 +03:00 [DBG] A data reader for 'Shrtly' on server 'localhost' is being disposed after spending 3ms reading results.
2023-07-31 21:28:52.418 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:28:52.419 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (0ms).
2023-07-31 21:28:52.428 +03:00 [INF] No migrations were applied. The database is already up to date.
2023-07-31 21:28:52.430 +03:00 [DBG] 'ShrtLyContext' disposed.
2023-07-31 21:28:52.432 +03:00 [DBG] Disposing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:28:52.434 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2023-07-31 21:28:52.492 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-07-31 21:28:52.546 +03:00 [DBG] Hosting starting
2023-07-31 21:28:52.657 +03:00 [INF] Now listening on: https://localhost:5001
2023-07-31 21:28:52.659 +03:00 [INF] Now listening on: http://localhost:5000
2023-07-31 21:28:52.661 +03:00 [DBG] Loaded hosting startup assembly ShrtLy.Api
2023-07-31 21:28:52.661 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-07-31 21:28:52.662 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-07-31 21:28:52.663 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-07-31 21:28:52.664 +03:00 [INF] Hosting environment: Development
2023-07-31 21:28:52.664 +03:00 [INF] Content root path: D:\PROJECTS\KeyIvr\shrtly-kata\src\ShrtLy.Api
2023-07-31 21:28:52.665 +03:00 [DBG] Hosting started
2023-07-31 21:28:53.140 +03:00 [DBG] Connection id "0HMSHUFV3LD72" accepted.
2023-07-31 21:28:53.146 +03:00 [DBG] Connection id "0HMSHUFV3LD72" started.
2023-07-31 21:28:53.147 +03:00 [DBG] Connection id "0HMSHUFV3LD72" received FIN.
2023-07-31 21:28:53.158 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-07-31 21:28:53.178 +03:00 [DBG] Connection id "0HMSHUFV3LD72" stopped.
2023-07-31 21:28:53.181 +03:00 [DBG] Connection id "0HMSHUFV3LD72" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-07-31 21:28:53.282 +03:00 [DBG] Connection id "0HMSHUFV3LD73" accepted.
2023-07-31 21:28:53.286 +03:00 [DBG] Connection id "0HMSHUFV3LD73" started.
2023-07-31 21:28:53.326 +03:00 [DBG] Connection 0HMSHUFV3LD73 established using the following protocol: "Tls12"
2023-07-31 21:28:53.403 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2023-07-31 21:28:53.421 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-07-31 21:28:53.519 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-07-31 21:28:53.609 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-07-31 21:28:53.613 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 211.6564ms
2023-07-31 21:28:53.680 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - -
2023-07-31 21:28:53.681 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - -
2023-07-31 21:28:53.706 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - - - 200 12352 application/javascript;+charset=utf-8 25.6605ms
2023-07-31 21:28:53.726 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 46.1300ms
2023-07-31 21:28:53.838 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2023-07-31 21:28:53.950 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 112.1056ms
2023-07-31 21:28:56.243 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Links - -
2023-07-31 21:28:56.247 +03:00 [DBG] The request path  does not match the path filter
2023-07-31 21:28:56.269 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Links'
2023-07-31 21:28:56.273 +03:00 [DBG] Endpoint 'ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api)' with route pattern 'api/Links' is valid for the request path '/api/Links'
2023-07-31 21:28:56.276 +03:00 [DBG] Request matched endpoint 'ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api)'
2023-07-31 21:28:56.280 +03:00 [INF] Executing endpoint 'ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api)'
2023-07-31 21:28:56.302 +03:00 [INF] Route matched with {action = "GetToShortLink", controller = "Links"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetToShortLink(System.String) on controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api).
2023-07-31 21:28:56.306 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-31 21:28:56.308 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-31 21:28:56.310 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-31 21:28:56.312 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-31 21:28:56.313 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-31 21:28:56.315 +03:00 [DBG] Executing controller factory for controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api)
2023-07-31 21:28:56.316 +03:00 [DBG] Executed controller factory for controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api)
2023-07-31 21:28:56.328 +03:00 [DBG] Attempting to bind parameter 'url' of type 'System.String' ...
2023-07-31 21:28:56.330 +03:00 [DBG] Attempting to bind parameter 'url' of type 'System.String' using the name '' in request data ...
2023-07-31 21:28:56.332 +03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'url' of type 'System.String'.
2023-07-31 21:28:56.333 +03:00 [DBG] Done attempting to bind parameter 'url' of type 'System.String'.
2023-07-31 21:28:56.334 +03:00 [DBG] Done attempting to bind parameter 'url' of type 'System.String'.
2023-07-31 21:28:56.335 +03:00 [DBG] Attempting to validate the bound parameter 'url' of type 'System.String' ...
2023-07-31 21:28:56.337 +03:00 [DBG] Done attempting to validate the bound parameter 'url' of type 'System.String'.
2023-07-31 21:28:56.352 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-07-31 21:28:56.356 +03:00 [DBG] No information found on request to perform content negotiation.
2023-07-31 21:28:56.356 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-31 21:28:56.357 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-31 21:28:56.358 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-07-31 21:28:56.359 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2023-07-31 21:28:56.364 +03:00 [INF] Executed action ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api) in 47.7183ms
2023-07-31 21:28:56.365 +03:00 [INF] Executed endpoint 'ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api)'
2023-07-31 21:28:56.368 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Links - - - 409 - text/plain;+charset=utf-8 124.4186ms
2023-07-31 21:29:01.683 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Links?url=https%3A%2F%2Flocalhost%3A5001%2Fswagger%2Findex.html - -
2023-07-31 21:29:01.684 +03:00 [DBG] The request path  does not match the path filter
2023-07-31 21:29:01.685 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Links'
2023-07-31 21:29:01.687 +03:00 [DBG] Endpoint 'ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api)' with route pattern 'api/Links' is valid for the request path '/api/Links'
2023-07-31 21:29:01.688 +03:00 [DBG] Request matched endpoint 'ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api)'
2023-07-31 21:29:01.689 +03:00 [INF] Executing endpoint 'ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api)'
2023-07-31 21:29:01.690 +03:00 [INF] Route matched with {action = "GetToShortLink", controller = "Links"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetToShortLink(System.String) on controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api).
2023-07-31 21:29:01.691 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-31 21:29:01.692 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-31 21:29:01.693 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-31 21:29:01.695 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-31 21:29:01.696 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-31 21:29:01.697 +03:00 [DBG] Executing controller factory for controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api)
2023-07-31 21:29:01.697 +03:00 [DBG] Executed controller factory for controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api)
2023-07-31 21:29:01.702 +03:00 [DBG] Attempting to bind parameter 'url' of type 'System.String' ...
2023-07-31 21:29:01.704 +03:00 [DBG] Attempting to bind parameter 'url' of type 'System.String' using the name 'url' in request data ...
2023-07-31 21:29:01.705 +03:00 [DBG] Done attempting to bind parameter 'url' of type 'System.String'.
2023-07-31 21:29:01.706 +03:00 [DBG] Done attempting to bind parameter 'url' of type 'System.String'.
2023-07-31 21:29:01.707 +03:00 [DBG] Attempting to validate the bound parameter 'url' of type 'System.String' ...
2023-07-31 21:29:01.709 +03:00 [DBG] Done attempting to validate the bound parameter 'url' of type 'System.String'.
2023-07-31 21:29:01.747 +03:00 [DBG] Entity Framework Core 7.0.9 initialized 'ShrtLyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.9' with options: MigrationsAssembly=ShrtLy.Infrastructure 
2023-07-31 21:29:01.790 +03:00 [DBG] Compiling query expression: 
'DbSet<LinkEntity>()
    .Any(l => l.Url == __url_0)'
2023-07-31 21:29:01.921 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Links AS l
                WHERE l.Url == @__url_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        ShrtLy.Infrastructure.ShrtLyContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-07-31 21:29:01.961 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-31 21:29:01.963 +03:00 [DBG] Creating DbConnection.
2023-07-31 21:29:01.964 +03:00 [DBG] Created DbConnection. (0ms).
2023-07-31 21:29:01.965 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-07-31 21:29:01.969 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2023-07-31 21:29:01.972 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:29:01.975 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:29:01.978 +03:00 [DBG] Executing DbCommand [Parameters=[@__url_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Links] AS [l]
        WHERE [l].[Url] = @__url_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-07-31 21:29:02.010 +03:00 [INF] Executed DbCommand (34ms) [Parameters=[@__url_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Links] AS [l]
        WHERE [l].[Url] = @__url_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-07-31 21:29:02.024 +03:00 [DBG] Closing data reader to 'Shrtly' on server 'localhost'.
2023-07-31 21:29:02.026 +03:00 [DBG] A data reader for 'Shrtly' on server 'localhost' is being disposed after spending 12ms reading results.
2023-07-31 21:29:02.029 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:29:02.030 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (1ms).
2023-07-31 21:29:02.033 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-07-31 21:29:02.035 +03:00 [DBG] No information found on request to perform content negotiation.
2023-07-31 21:29:02.035 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-31 21:29:02.036 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-31 21:29:02.036 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-07-31 21:29:02.037 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2023-07-31 21:29:02.039 +03:00 [INF] Executed action ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api) in 342.0717ms
2023-07-31 21:29:02.040 +03:00 [INF] Executed endpoint 'ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api)'
2023-07-31 21:29:02.041 +03:00 [DBG] 'ShrtLyContext' disposed.
2023-07-31 21:29:02.044 +03:00 [DBG] Disposing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:29:02.045 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2023-07-31 21:29:02.046 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Links?url=https%3A%2F%2Flocalhost%3A5001%2Fswagger%2Findex.html - - - 409 - text/plain;+charset=utf-8 363.5877ms
2023-07-31 21:29:06.141 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Links?url=https%3A%2F%2Flocalhost%3A5001%2Fswagger%2Findex.html2 - -
2023-07-31 21:29:06.143 +03:00 [DBG] The request path  does not match the path filter
2023-07-31 21:29:06.144 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Links'
2023-07-31 21:29:06.146 +03:00 [DBG] Endpoint 'ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api)' with route pattern 'api/Links' is valid for the request path '/api/Links'
2023-07-31 21:29:06.147 +03:00 [DBG] Request matched endpoint 'ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api)'
2023-07-31 21:29:06.148 +03:00 [INF] Executing endpoint 'ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api)'
2023-07-31 21:29:06.149 +03:00 [INF] Route matched with {action = "GetToShortLink", controller = "Links"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetToShortLink(System.String) on controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api).
2023-07-31 21:29:06.150 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-31 21:29:06.151 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-31 21:29:06.152 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-31 21:29:06.153 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-31 21:29:06.154 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-31 21:29:06.155 +03:00 [DBG] Executing controller factory for controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api)
2023-07-31 21:29:06.156 +03:00 [DBG] Executed controller factory for controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api)
2023-07-31 21:29:06.157 +03:00 [DBG] Attempting to bind parameter 'url' of type 'System.String' ...
2023-07-31 21:29:06.158 +03:00 [DBG] Attempting to bind parameter 'url' of type 'System.String' using the name 'url' in request data ...
2023-07-31 21:29:06.159 +03:00 [DBG] Done attempting to bind parameter 'url' of type 'System.String'.
2023-07-31 21:29:06.160 +03:00 [DBG] Done attempting to bind parameter 'url' of type 'System.String'.
2023-07-31 21:29:06.161 +03:00 [DBG] Attempting to validate the bound parameter 'url' of type 'System.String' ...
2023-07-31 21:29:06.161 +03:00 [DBG] Done attempting to validate the bound parameter 'url' of type 'System.String'.
2023-07-31 21:29:06.216 +03:00 [DBG] Entity Framework Core 7.0.9 initialized 'ShrtLyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.9' with options: MigrationsAssembly=ShrtLy.Infrastructure 
2023-07-31 21:29:06.223 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-31 21:29:06.224 +03:00 [DBG] Creating DbConnection.
2023-07-31 21:29:06.224 +03:00 [DBG] Created DbConnection. (0ms).
2023-07-31 21:29:06.226 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-07-31 21:29:06.227 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2023-07-31 21:29:06.227 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:29:06.229 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:29:06.229 +03:00 [DBG] Executing DbCommand [Parameters=[@__url_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Links] AS [l]
        WHERE [l].[Url] = @__url_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-07-31 21:29:06.233 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__url_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Links] AS [l]
        WHERE [l].[Url] = @__url_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-07-31 21:29:06.235 +03:00 [DBG] Closing data reader to 'Shrtly' on server 'localhost'.
2023-07-31 21:29:06.236 +03:00 [DBG] A data reader for 'Shrtly' on server 'localhost' is being disposed after spending 1ms reading results.
2023-07-31 21:29:06.237 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:29:06.238 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (0ms).
2023-07-31 21:29:59.404 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-07-31 21:29:59.407 +03:00 [DBG] No information found on request to perform content negotiation.
2023-07-31 21:29:59.408 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-31 21:29:59.409 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-31 21:29:59.410 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-07-31 21:29:59.411 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2023-07-31 21:29:59.412 +03:00 [INF] Executed action ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api) in 53256.4775ms
2023-07-31 21:29:59.413 +03:00 [INF] Executed endpoint 'ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api)'
2023-07-31 21:29:59.414 +03:00 [DBG] 'ShrtLyContext' disposed.
2023-07-31 21:29:59.415 +03:00 [DBG] Disposing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:29:59.415 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2023-07-31 21:29:59.416 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Links?url=https%3A%2F%2Flocalhost%3A5001%2Fswagger%2Findex.html2 - - - 200 - text/plain;+charset=utf-8 53275.8159ms
2023-07-31 21:30:06.467 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Links?url=https%3A%2F%2Flocalhost%3A5001%2Ff2eacQ - -
2023-07-31 21:30:06.469 +03:00 [DBG] The request path  does not match the path filter
2023-07-31 21:30:06.471 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Links'
2023-07-31 21:30:06.472 +03:00 [DBG] Endpoint 'ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api)' with route pattern 'api/Links' is valid for the request path '/api/Links'
2023-07-31 21:30:06.474 +03:00 [DBG] Request matched endpoint 'ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api)'
2023-07-31 21:30:06.474 +03:00 [INF] Executing endpoint 'ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api)'
2023-07-31 21:30:06.475 +03:00 [INF] Route matched with {action = "GetToShortLink", controller = "Links"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetToShortLink(System.String) on controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api).
2023-07-31 21:30:06.477 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-31 21:30:06.478 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-31 21:30:06.479 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-31 21:30:06.480 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-31 21:30:06.481 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-31 21:30:06.482 +03:00 [DBG] Executing controller factory for controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api)
2023-07-31 21:30:06.483 +03:00 [DBG] Executed controller factory for controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api)
2023-07-31 21:30:06.484 +03:00 [DBG] Attempting to bind parameter 'url' of type 'System.String' ...
2023-07-31 21:30:06.485 +03:00 [DBG] Attempting to bind parameter 'url' of type 'System.String' using the name 'url' in request data ...
2023-07-31 21:30:06.485 +03:00 [DBG] Done attempting to bind parameter 'url' of type 'System.String'.
2023-07-31 21:30:06.486 +03:00 [DBG] Done attempting to bind parameter 'url' of type 'System.String'.
2023-07-31 21:30:06.487 +03:00 [DBG] Attempting to validate the bound parameter 'url' of type 'System.String' ...
2023-07-31 21:30:06.488 +03:00 [DBG] Done attempting to validate the bound parameter 'url' of type 'System.String'.
2023-07-31 21:30:06.489 +03:00 [DBG] Entity Framework Core 7.0.9 initialized 'ShrtLyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.9' with options: MigrationsAssembly=ShrtLy.Infrastructure 
2023-07-31 21:30:06.492 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-31 21:30:06.493 +03:00 [DBG] Creating DbConnection.
2023-07-31 21:30:06.493 +03:00 [DBG] Created DbConnection. (0ms).
2023-07-31 21:30:06.494 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-07-31 21:30:06.494 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2023-07-31 21:30:06.495 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:30:06.496 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:30:06.497 +03:00 [DBG] Executing DbCommand [Parameters=[@__url_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Links] AS [l]
        WHERE [l].[Url] = @__url_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-07-31 21:30:06.504 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__url_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Links] AS [l]
        WHERE [l].[Url] = @__url_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-07-31 21:30:06.506 +03:00 [DBG] Closing data reader to 'Shrtly' on server 'localhost'.
2023-07-31 21:30:06.507 +03:00 [DBG] A data reader for 'Shrtly' on server 'localhost' is being disposed after spending 0ms reading results.
2023-07-31 21:30:06.507 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:30:06.508 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (0ms).
2023-07-31 21:31:05.795 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-07-31 21:31:06.466 +03:00 [DBG] Entity Framework Core 7.0.9 initialized 'ShrtLyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.9' with options: MigrationsAssembly=ShrtLy.Infrastructure 
2023-07-31 21:31:06.480 +03:00 [DBG] Creating DbConnection.
2023-07-31 21:31:06.544 +03:00 [DBG] Created DbConnection. (61ms).
2023-07-31 21:31:06.550 +03:00 [DBG] Migrating using database 'Shrtly' on server 'localhost'.
2023-07-31 21:31:06.564 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:31:06.803 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:31:06.810 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-07-31 21:31:06.817 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (5ms).
2023-07-31 21:31:06.819 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (10ms).
2023-07-31 21:31:06.825 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-07-31 21:31:06.847 +03:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-07-31 21:31:06.851 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:31:06.859 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (4ms).
2023-07-31 21:31:06.863 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-31 21:31:06.863 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-07-31 21:31:06.864 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2023-07-31 21:31:06.865 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:31:06.867 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:31:06.868 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-07-31 21:31:06.881 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-07-31 21:31:06.882 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:31:06.884 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (1ms).
2023-07-31 21:31:06.885 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:31:06.886 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:31:06.887 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-07-31 21:31:06.887 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-07-31 21:31:06.888 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2023-07-31 21:31:06.889 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-07-31 21:31:06.891 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-07-31 21:31:06.893 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:31:06.893 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (0ms).
2023-07-31 21:31:06.895 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-31 21:31:06.895 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-07-31 21:31:06.896 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2023-07-31 21:31:06.897 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:31:06.898 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:31:06.899 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-07-31 21:31:06.902 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-07-31 21:31:06.903 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:31:06.904 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (0ms).
2023-07-31 21:31:06.925 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-31 21:31:06.927 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-07-31 21:31:06.928 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2023-07-31 21:31:06.929 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:31:06.929 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:31:06.931 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-07-31 21:31:06.934 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-07-31 21:31:06.938 +03:00 [DBG] Closing data reader to 'Shrtly' on server 'localhost'.
2023-07-31 21:31:06.939 +03:00 [DBG] A data reader for 'Shrtly' on server 'localhost' is being disposed after spending 2ms reading results.
2023-07-31 21:31:06.941 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:31:06.942 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (1ms).
2023-07-31 21:31:06.952 +03:00 [INF] No migrations were applied. The database is already up to date.
2023-07-31 21:31:06.954 +03:00 [DBG] 'ShrtLyContext' disposed.
2023-07-31 21:31:06.956 +03:00 [DBG] Disposing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:31:06.958 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2023-07-31 21:31:07.017 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-07-31 21:31:07.078 +03:00 [DBG] Hosting starting
2023-07-31 21:31:07.182 +03:00 [INF] Now listening on: https://localhost:5001
2023-07-31 21:31:07.182 +03:00 [INF] Now listening on: http://localhost:5000
2023-07-31 21:31:07.183 +03:00 [DBG] Loaded hosting startup assembly ShrtLy.Api
2023-07-31 21:31:07.184 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-07-31 21:31:07.185 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-07-31 21:31:07.186 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-07-31 21:31:07.186 +03:00 [INF] Hosting environment: Development
2023-07-31 21:31:07.187 +03:00 [INF] Content root path: D:\PROJECTS\KeyIvr\shrtly-kata\src\ShrtLy.Api
2023-07-31 21:31:07.188 +03:00 [DBG] Hosting started
2023-07-31 21:31:07.205 +03:00 [DBG] Connection id "0HMSHUH7270C7" accepted.
2023-07-31 21:31:07.205 +03:00 [DBG] Connection id "0HMSHUH7270C6" accepted.
2023-07-31 21:31:07.207 +03:00 [DBG] Connection id "0HMSHUH7270C7" started.
2023-07-31 21:31:07.207 +03:00 [DBG] Connection id "0HMSHUH7270C6" started.
2023-07-31 21:31:07.213 +03:00 [DBG] Connection id "0HMSHUH7270C6" received FIN.
2023-07-31 21:31:07.213 +03:00 [DBG] Connection id "0HMSHUH7270C7" received FIN.
2023-07-31 21:31:07.227 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-07-31 21:31:07.227 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-07-31 21:31:07.247 +03:00 [DBG] Connection id "0HMSHUH7270C7" stopped.
2023-07-31 21:31:07.247 +03:00 [DBG] Connection id "0HMSHUH7270C6" stopped.
2023-07-31 21:31:07.250 +03:00 [DBG] Connection id "0HMSHUH7270C6" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-07-31 21:31:07.250 +03:00 [DBG] Connection id "0HMSHUH7270C7" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-07-31 21:31:07.346 +03:00 [DBG] Connection id "0HMSHUH7270C8" accepted.
2023-07-31 21:31:07.347 +03:00 [DBG] Connection id "0HMSHUH7270C8" started.
2023-07-31 21:31:07.389 +03:00 [DBG] Connection 0HMSHUH7270C8 established using the following protocol: "Tls12"
2023-07-31 21:31:07.457 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2023-07-31 21:31:07.478 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-07-31 21:31:07.576 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-07-31 21:31:07.663 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-07-31 21:31:07.667 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 212.7639ms
2023-07-31 21:31:07.738 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - -
2023-07-31 21:31:07.738 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - -
2023-07-31 21:31:07.761 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - - - 200 12352 application/javascript;+charset=utf-8 22.6806ms
2023-07-31 21:31:07.782 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 44.7195ms
2023-07-31 21:31:07.908 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2023-07-31 21:31:08.046 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 137.3183ms
2023-07-31 21:31:13.895 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Links?url=https%3A%2F%2Flocalhost%3A5001%2Fswagger%2Findex.html2 - -
2023-07-31 21:31:13.900 +03:00 [DBG] The request path  does not match the path filter
2023-07-31 21:31:13.921 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Links'
2023-07-31 21:31:13.924 +03:00 [DBG] Endpoint 'ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api)' with route pattern 'api/Links' is valid for the request path '/api/Links'
2023-07-31 21:31:13.926 +03:00 [DBG] Request matched endpoint 'ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api)'
2023-07-31 21:31:13.929 +03:00 [INF] Executing endpoint 'ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api)'
2023-07-31 21:31:13.950 +03:00 [INF] Route matched with {action = "GetToShortLink", controller = "Links"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetToShortLink(System.String) on controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api).
2023-07-31 21:31:13.954 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-31 21:31:13.955 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-31 21:31:13.957 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-31 21:31:13.958 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-31 21:31:13.959 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-31 21:31:13.961 +03:00 [DBG] Executing controller factory for controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api)
2023-07-31 21:31:13.963 +03:00 [DBG] Executed controller factory for controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api)
2023-07-31 21:31:13.977 +03:00 [DBG] Attempting to bind parameter 'url' of type 'System.String' ...
2023-07-31 21:31:13.980 +03:00 [DBG] Attempting to bind parameter 'url' of type 'System.String' using the name 'url' in request data ...
2023-07-31 21:31:13.982 +03:00 [DBG] Done attempting to bind parameter 'url' of type 'System.String'.
2023-07-31 21:31:13.983 +03:00 [DBG] Done attempting to bind parameter 'url' of type 'System.String'.
2023-07-31 21:31:13.984 +03:00 [DBG] Attempting to validate the bound parameter 'url' of type 'System.String' ...
2023-07-31 21:31:13.987 +03:00 [DBG] Done attempting to validate the bound parameter 'url' of type 'System.String'.
2023-07-31 21:31:14.041 +03:00 [DBG] Entity Framework Core 7.0.9 initialized 'ShrtLyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.9' with options: MigrationsAssembly=ShrtLy.Infrastructure 
2023-07-31 21:31:14.085 +03:00 [DBG] Compiling query expression: 
'DbSet<LinkEntity>()
    .Any(l => l.Url == __url_0)'
2023-07-31 21:31:14.234 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Links AS l
                WHERE l.Url == @__url_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        ShrtLy.Infrastructure.ShrtLyContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-07-31 21:31:14.274 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-31 21:31:14.276 +03:00 [DBG] Creating DbConnection.
2023-07-31 21:31:14.277 +03:00 [DBG] Created DbConnection. (1ms).
2023-07-31 21:31:14.278 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2023-07-31 21:31:14.282 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2023-07-31 21:31:14.285 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:31:14.289 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:31:14.293 +03:00 [DBG] Executing DbCommand [Parameters=[@__url_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Links] AS [l]
        WHERE [l].[Url] = @__url_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-07-31 21:31:14.331 +03:00 [INF] Executed DbCommand (40ms) [Parameters=[@__url_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Links] AS [l]
        WHERE [l].[Url] = @__url_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-07-31 21:31:14.347 +03:00 [DBG] Closing data reader to 'Shrtly' on server 'localhost'.
2023-07-31 21:31:14.349 +03:00 [DBG] A data reader for 'Shrtly' on server 'localhost' is being disposed after spending 15ms reading results.
2023-07-31 21:31:14.353 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:31:14.354 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (1ms).
2023-07-31 21:31:16.440 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-07-31 21:31:16.445 +03:00 [DBG] No information found on request to perform content negotiation.
2023-07-31 21:31:16.446 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-31 21:31:16.446 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-31 21:31:16.448 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-07-31 21:31:16.449 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2023-07-31 21:31:16.454 +03:00 [INF] Executed action ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api) in 2491.4819ms
2023-07-31 21:31:16.456 +03:00 [INF] Executed endpoint 'ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api)'
2023-07-31 21:31:16.458 +03:00 [DBG] 'ShrtLyContext' disposed.
2023-07-31 21:31:16.462 +03:00 [DBG] Disposing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:31:16.463 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2023-07-31 21:31:16.464 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Links?url=https%3A%2F%2Flocalhost%3A5001%2Fswagger%2Findex.html2 - - - 200 - text/plain;+charset=utf-8 2568.8427ms
2023-07-31 21:31:22.702 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Links?url=https%3A%2F%2Flocalhost%3A5001%2F812bfw - -
2023-07-31 21:31:22.706 +03:00 [DBG] The request path  does not match the path filter
2023-07-31 21:31:22.710 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Links'
2023-07-31 21:31:22.711 +03:00 [DBG] Endpoint 'ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api)' with route pattern 'api/Links' is valid for the request path '/api/Links'
2023-07-31 21:31:22.713 +03:00 [DBG] Request matched endpoint 'ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api)'
2023-07-31 21:31:22.714 +03:00 [INF] Executing endpoint 'ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api)'
2023-07-31 21:31:22.715 +03:00 [INF] Route matched with {action = "GetToShortLink", controller = "Links"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetToShortLink(System.String) on controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api).
2023-07-31 21:31:22.717 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-31 21:31:22.718 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-31 21:31:22.718 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-31 21:31:22.720 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-31 21:31:22.720 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-31 21:31:22.722 +03:00 [DBG] Executing controller factory for controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api)
2023-07-31 21:31:22.723 +03:00 [DBG] Executed controller factory for controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api)
2023-07-31 21:31:22.724 +03:00 [DBG] Attempting to bind parameter 'url' of type 'System.String' ...
2023-07-31 21:31:22.725 +03:00 [DBG] Attempting to bind parameter 'url' of type 'System.String' using the name 'url' in request data ...
2023-07-31 21:31:22.726 +03:00 [DBG] Done attempting to bind parameter 'url' of type 'System.String'.
2023-07-31 21:31:22.727 +03:00 [DBG] Done attempting to bind parameter 'url' of type 'System.String'.
2023-07-31 21:31:22.728 +03:00 [DBG] Attempting to validate the bound parameter 'url' of type 'System.String' ...
2023-07-31 21:31:22.728 +03:00 [DBG] Done attempting to validate the bound parameter 'url' of type 'System.String'.
2023-07-31 21:31:22.785 +03:00 [DBG] Entity Framework Core 7.0.9 initialized 'ShrtLyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.9' with options: MigrationsAssembly=ShrtLy.Infrastructure 
2023-07-31 21:31:22.790 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-31 21:31:22.791 +03:00 [DBG] Creating DbConnection.
2023-07-31 21:31:22.791 +03:00 [DBG] Created DbConnection. (0ms).
2023-07-31 21:31:22.793 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-07-31 21:31:22.794 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2023-07-31 21:31:22.794 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:31:22.795 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:31:22.796 +03:00 [DBG] Executing DbCommand [Parameters=[@__url_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Links] AS [l]
        WHERE [l].[Url] = @__url_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-07-31 21:31:22.800 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__url_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Links] AS [l]
        WHERE [l].[Url] = @__url_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-07-31 21:31:22.802 +03:00 [DBG] Closing data reader to 'Shrtly' on server 'localhost'.
2023-07-31 21:31:22.802 +03:00 [DBG] A data reader for 'Shrtly' on server 'localhost' is being disposed after spending 0ms reading results.
2023-07-31 21:31:22.803 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:31:22.804 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (0ms).
2023-07-31 21:31:43.983 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-07-31 21:31:43.987 +03:00 [DBG] No information found on request to perform content negotiation.
2023-07-31 21:31:43.988 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-31 21:31:43.988 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-31 21:31:43.989 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-07-31 21:31:43.990 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2023-07-31 21:31:43.991 +03:00 [INF] Executed action ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api) in 21269.4553ms
2023-07-31 21:31:43.992 +03:00 [INF] Executed endpoint 'ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api)'
2023-07-31 21:31:43.993 +03:00 [DBG] 'ShrtLyContext' disposed.
2023-07-31 21:31:43.994 +03:00 [DBG] Disposing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:31:43.995 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2023-07-31 21:31:43.996 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Links?url=https%3A%2F%2Flocalhost%3A5001%2F812bfw - - - 400 - text/plain;+charset=utf-8 21293.9539ms
2023-07-31 21:32:31.581 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-07-31 21:32:32.179 +03:00 [DBG] Entity Framework Core 7.0.9 initialized 'ShrtLyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.9' with options: MigrationsAssembly=ShrtLy.Infrastructure 
2023-07-31 21:32:32.190 +03:00 [DBG] Creating DbConnection.
2023-07-31 21:32:32.259 +03:00 [DBG] Created DbConnection. (66ms).
2023-07-31 21:32:32.264 +03:00 [DBG] Migrating using database 'Shrtly' on server 'localhost'.
2023-07-31 21:32:32.270 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:32:32.492 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:32:32.499 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-07-31 21:32:32.506 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (5ms).
2023-07-31 21:32:32.509 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (11ms).
2023-07-31 21:32:32.517 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-07-31 21:32:32.541 +03:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-07-31 21:32:32.545 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:32:32.553 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (4ms).
2023-07-31 21:32:32.556 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-31 21:32:32.557 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-07-31 21:32:32.558 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2023-07-31 21:32:32.558 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:32:32.560 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:32:32.561 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-07-31 21:32:32.574 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-07-31 21:32:32.575 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:32:32.576 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (1ms).
2023-07-31 21:32:32.577 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:32:32.578 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:32:32.579 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-07-31 21:32:32.580 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-07-31 21:32:32.580 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2023-07-31 21:32:32.581 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-07-31 21:32:32.583 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-07-31 21:32:32.584 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:32:32.585 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (0ms).
2023-07-31 21:32:32.586 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-31 21:32:32.587 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-07-31 21:32:32.588 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2023-07-31 21:32:32.588 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:32:32.589 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:32:32.590 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-07-31 21:32:32.592 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-07-31 21:32:32.593 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:32:32.594 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (0ms).
2023-07-31 21:32:32.614 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-31 21:32:32.615 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-07-31 21:32:32.616 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-07-31 21:32:32.617 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:32:32.618 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:32:32.619 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-07-31 21:32:32.622 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-07-31 21:32:32.626 +03:00 [DBG] Closing data reader to 'Shrtly' on server 'localhost'.
2023-07-31 21:32:32.627 +03:00 [DBG] A data reader for 'Shrtly' on server 'localhost' is being disposed after spending 2ms reading results.
2023-07-31 21:32:32.629 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:32:32.629 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (0ms).
2023-07-31 21:32:32.639 +03:00 [INF] No migrations were applied. The database is already up to date.
2023-07-31 21:32:32.641 +03:00 [DBG] 'ShrtLyContext' disposed.
2023-07-31 21:32:32.643 +03:00 [DBG] Disposing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:32:32.644 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2023-07-31 21:32:32.704 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-07-31 21:32:32.761 +03:00 [DBG] Hosting starting
2023-07-31 21:32:32.882 +03:00 [INF] Now listening on: https://localhost:5001
2023-07-31 21:32:32.883 +03:00 [INF] Now listening on: http://localhost:5000
2023-07-31 21:32:32.884 +03:00 [DBG] Loaded hosting startup assembly ShrtLy.Api
2023-07-31 21:32:32.885 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-07-31 21:32:32.887 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-07-31 21:32:32.889 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-07-31 21:32:32.890 +03:00 [INF] Hosting environment: Development
2023-07-31 21:32:32.891 +03:00 [INF] Content root path: D:\PROJECTS\KeyIvr\shrtly-kata\src\ShrtLy.Api
2023-07-31 21:32:32.892 +03:00 [DBG] Hosting started
2023-07-31 21:32:33.313 +03:00 [DBG] Connection id "0HMSHUI0ND34F" accepted.
2023-07-31 21:32:33.313 +03:00 [DBG] Connection id "0HMSHUI0ND34G" accepted.
2023-07-31 21:32:33.316 +03:00 [DBG] Connection id "0HMSHUI0ND34F" started.
2023-07-31 21:32:33.316 +03:00 [DBG] Connection id "0HMSHUI0ND34G" started.
2023-07-31 21:32:33.325 +03:00 [DBG] Connection id "0HMSHUI0ND34G" received FIN.
2023-07-31 21:32:33.325 +03:00 [DBG] Connection id "0HMSHUI0ND34F" received FIN.
2023-07-31 21:32:33.333 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-07-31 21:32:33.333 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-07-31 21:32:33.355 +03:00 [DBG] Connection id "0HMSHUI0ND34G" stopped.
2023-07-31 21:32:33.355 +03:00 [DBG] Connection id "0HMSHUI0ND34F" stopped.
2023-07-31 21:32:33.358 +03:00 [DBG] Connection id "0HMSHUI0ND34G" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-07-31 21:32:33.358 +03:00 [DBG] Connection id "0HMSHUI0ND34F" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-07-31 21:32:33.459 +03:00 [DBG] Connection id "0HMSHUI0ND34H" accepted.
2023-07-31 21:32:33.461 +03:00 [DBG] Connection id "0HMSHUI0ND34H" started.
2023-07-31 21:32:33.513 +03:00 [DBG] Connection 0HMSHUI0ND34H established using the following protocol: "Tls12"
2023-07-31 21:32:33.578 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2023-07-31 21:32:33.597 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-07-31 21:32:33.693 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-07-31 21:32:33.777 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-07-31 21:32:33.781 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 205.2231ms
2023-07-31 21:32:33.860 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - -
2023-07-31 21:32:33.860 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - -
2023-07-31 21:32:33.882 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - - - 200 12352 application/javascript;+charset=utf-8 21.8022ms
2023-07-31 21:32:33.903 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 43.0775ms
2023-07-31 21:32:34.014 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2023-07-31 21:32:34.128 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 114.8545ms
2023-07-31 21:32:44.271 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Links?url=https%3A%2F%2Fforum.uipath.com%2Ft%2Fhow-can-we-check-if-string-contains-combination-of-numbers-and-forward-slash%2F486523%2F5 - -
2023-07-31 21:32:44.276 +03:00 [DBG] The request path  does not match the path filter
2023-07-31 21:32:44.298 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Links'
2023-07-31 21:32:44.302 +03:00 [DBG] Endpoint 'ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api)' with route pattern 'api/Links' is valid for the request path '/api/Links'
2023-07-31 21:32:44.304 +03:00 [DBG] Request matched endpoint 'ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api)'
2023-07-31 21:32:44.307 +03:00 [INF] Executing endpoint 'ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api)'
2023-07-31 21:32:44.330 +03:00 [INF] Route matched with {action = "GetToShortLink", controller = "Links"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetToShortLink(System.String) on controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api).
2023-07-31 21:32:44.335 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-31 21:32:44.336 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-31 21:32:44.337 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-31 21:32:44.338 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-31 21:32:44.340 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-31 21:32:44.343 +03:00 [DBG] Executing controller factory for controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api)
2023-07-31 21:32:44.344 +03:00 [DBG] Executed controller factory for controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api)
2023-07-31 21:32:44.357 +03:00 [DBG] Attempting to bind parameter 'url' of type 'System.String' ...
2023-07-31 21:32:44.360 +03:00 [DBG] Attempting to bind parameter 'url' of type 'System.String' using the name 'url' in request data ...
2023-07-31 21:32:44.363 +03:00 [DBG] Done attempting to bind parameter 'url' of type 'System.String'.
2023-07-31 21:32:44.364 +03:00 [DBG] Done attempting to bind parameter 'url' of type 'System.String'.
2023-07-31 21:32:44.365 +03:00 [DBG] Attempting to validate the bound parameter 'url' of type 'System.String' ...
2023-07-31 21:32:44.368 +03:00 [DBG] Done attempting to validate the bound parameter 'url' of type 'System.String'.
2023-07-31 21:32:44.414 +03:00 [DBG] Entity Framework Core 7.0.9 initialized 'ShrtLyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.9' with options: MigrationsAssembly=ShrtLy.Infrastructure 
2023-07-31 21:32:44.464 +03:00 [DBG] Compiling query expression: 
'DbSet<LinkEntity>()
    .Any(l => l.Url == __url_0)'
2023-07-31 21:32:44.604 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Links AS l
                WHERE l.Url == @__url_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        ShrtLy.Infrastructure.ShrtLyContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-07-31 21:32:44.642 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-31 21:32:44.644 +03:00 [DBG] Creating DbConnection.
2023-07-31 21:32:44.645 +03:00 [DBG] Created DbConnection. (0ms).
2023-07-31 21:32:44.646 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-07-31 21:32:44.650 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2023-07-31 21:32:44.653 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:32:44.660 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:32:44.664 +03:00 [DBG] Executing DbCommand [Parameters=[@__url_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Links] AS [l]
        WHERE [l].[Url] = @__url_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-07-31 21:32:44.700 +03:00 [INF] Executed DbCommand (38ms) [Parameters=[@__url_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Links] AS [l]
        WHERE [l].[Url] = @__url_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-07-31 21:32:44.714 +03:00 [DBG] Closing data reader to 'Shrtly' on server 'localhost'.
2023-07-31 21:32:44.716 +03:00 [DBG] A data reader for 'Shrtly' on server 'localhost' is being disposed after spending 13ms reading results.
2023-07-31 21:32:44.719 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:32:44.720 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (1ms).
2023-07-31 21:32:46.766 +03:00 [DBG] Context 'ShrtLyContext' started tracking 'LinkEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-31 21:32:46.772 +03:00 [DBG] SaveChanges starting for 'ShrtLyContext'.
2023-07-31 21:32:46.776 +03:00 [DBG] DetectChanges starting for 'ShrtLyContext'.
2023-07-31 21:32:46.785 +03:00 [DBG] DetectChanges completed for 'ShrtLyContext'.
2023-07-31 21:32:46.837 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:32:46.838 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:32:46.841 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-31 21:32:46.842 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-07-31 21:32:46.843 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-07-31 21:32:46.844 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Links] ([Id], [ShortUrl], [Url])
VALUES (@p0, @p1, @p2);
2023-07-31 21:32:46.852 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Links] ([Id], [ShortUrl], [Url])
VALUES (@p0, @p1, @p2);
2023-07-31 21:32:46.856 +03:00 [DBG] Closing data reader to 'Shrtly' on server 'localhost'.
2023-07-31 21:32:46.857 +03:00 [DBG] A data reader for 'Shrtly' on server 'localhost' is being disposed after spending 3ms reading results.
2023-07-31 21:32:46.859 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:32:46.860 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (0ms).
2023-07-31 21:32:46.868 +03:00 [DBG] An entity of type 'LinkEntity' tracked by 'ShrtLyContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-31 21:32:46.872 +03:00 [DBG] SaveChanges completed for 'ShrtLyContext' with 1 entities written to the database.
2023-07-31 21:32:46.884 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-07-31 21:32:46.888 +03:00 [DBG] No information found on request to perform content negotiation.
2023-07-31 21:32:46.888 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-31 21:32:46.889 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-31 21:32:46.891 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-07-31 21:32:46.892 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2023-07-31 21:32:46.898 +03:00 [INF] Executed action ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api) in 2553.8047ms
2023-07-31 21:32:46.900 +03:00 [INF] Executed endpoint 'ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api)'
2023-07-31 21:32:46.902 +03:00 [DBG] 'ShrtLyContext' disposed.
2023-07-31 21:32:46.905 +03:00 [DBG] Disposing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:32:46.907 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2023-07-31 21:32:46.908 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Links?url=https%3A%2F%2Fforum.uipath.com%2Ft%2Fhow-can-we-check-if-string-contains-combination-of-numbers-and-forward-slash%2F486523%2F5 - - - 200 - text/plain;+charset=utf-8 2637.0404ms
2023-07-31 21:32:53.849 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/6ad8aw - -
2023-07-31 21:32:53.852 +03:00 [DBG] The request path  does not match the path filter
2023-07-31 21:32:53.854 +03:00 [DBG] 1 candidate(s) found for the request path '/6ad8aw'
2023-07-31 21:32:53.856 +03:00 [DBG] Endpoint 'HTTP: GET /{url}' with route pattern '/{url}' is valid for the request path '/6ad8aw'
2023-07-31 21:32:53.858 +03:00 [DBG] Request matched endpoint 'HTTP: GET /{url}'
2023-07-31 21:32:53.859 +03:00 [INF] Executing endpoint 'HTTP: GET /{url}'
2023-07-31 21:32:53.918 +03:00 [DBG] Entity Framework Core 7.0.9 initialized 'ShrtLyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.9' with options: MigrationsAssembly=ShrtLy.Infrastructure 
2023-07-31 21:32:53.923 +03:00 [DBG] Compiling query expression: 
'DbSet<LinkEntity>()
    .Where(l => l.ShortUrl == __url_0)
    .Select(l => l.Url)
    .Single()'
2023-07-31 21:32:53.938 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<string>(
    asyncEnumerable: new SingleQueryingEnumerable<string>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT TOP(2) l.Url
            FROM Links AS l
            WHERE l.ShortUrl == @__url_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
        ShrtLy.Infrastructure.ShrtLyContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-07-31 21:32:53.950 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-31 21:32:53.952 +03:00 [DBG] Creating DbConnection.
2023-07-31 21:32:53.952 +03:00 [DBG] Created DbConnection. (0ms).
2023-07-31 21:32:53.953 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-07-31 21:32:53.954 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2023-07-31 21:32:53.955 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:32:53.956 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:32:53.957 +03:00 [DBG] Executing DbCommand [Parameters=[@__url_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [l].[Url]
FROM [Links] AS [l]
WHERE [l].[ShortUrl] = @__url_0
2023-07-31 21:32:53.964 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__url_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [l].[Url]
FROM [Links] AS [l]
WHERE [l].[ShortUrl] = @__url_0
2023-07-31 21:32:53.969 +03:00 [DBG] Closing data reader to 'Shrtly' on server 'localhost'.
2023-07-31 21:32:53.970 +03:00 [DBG] A data reader for 'Shrtly' on server 'localhost' is being disposed after spending 3ms reading results.
2023-07-31 21:32:53.971 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:32:53.972 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (0ms).
2023-07-31 21:32:54.057 +03:00 [INF] Executed endpoint 'HTTP: GET /{url}'
2023-07-31 21:32:54.059 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Sequence contains no elements.
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at ShrtLy.Infrastructure.LinksRepository.FindUrl(String url) in D:\PROJECTS\KeyIvr\shrtly-kata\src\ShrtLy.Infrastructure\LinksRepository.cs:line 50
   at ShrtLy.Application.Features.Redirect.GetToShortLinkHandler.Handle(RedirectCommand request, CancellationToken cancellationToken) in D:\PROJECTS\KeyIvr\shrtly-kata\src\ShrtLy.Application\Features\Redirect\RedirectHandler.cs:line 20
   at Program.<>c.<<<Main>$>b__0_2>d.MoveNext() in D:\PROJECTS\KeyIvr\shrtly-kata\src\ShrtLy.Api\Program.cs:line 69
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-07-31 21:32:54.092 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-07-31 21:32:54.131 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-07-31 21:32:54.132 +03:00 [DBG] 'ShrtLyContext' disposed.
2023-07-31 21:32:54.133 +03:00 [DBG] Disposing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:32:54.134 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2023-07-31 21:32:54.135 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/6ad8aw - - - 500 - text/html;+charset=utf-8 285.8285ms
2023-07-31 21:32:54.263 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - -
2023-07-31 21:32:54.263 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - -
2023-07-31 21:32:54.267 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - - - 200 12352 application/javascript;+charset=utf-8 3.8288ms
2023-07-31 21:32:54.289 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 26.1722ms
2023-07-31 21:32:54.364 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/favicon.ico - -
2023-07-31 21:32:54.365 +03:00 [DBG] The request path  does not match the path filter
2023-07-31 21:32:54.366 +03:00 [DBG] 1 candidate(s) found for the request path '/favicon.ico'
2023-07-31 21:32:54.366 +03:00 [DBG] Endpoint 'HTTP: GET /{url}' with route pattern '/{url}' is valid for the request path '/favicon.ico'
2023-07-31 21:32:54.368 +03:00 [DBG] Request matched endpoint 'HTTP: GET /{url}'
2023-07-31 21:32:54.369 +03:00 [INF] Executing endpoint 'HTTP: GET /{url}'
2023-07-31 21:32:54.370 +03:00 [DBG] Entity Framework Core 7.0.9 initialized 'ShrtLyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.9' with options: MigrationsAssembly=ShrtLy.Infrastructure 
2023-07-31 21:32:54.375 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-31 21:32:54.375 +03:00 [DBG] Creating DbConnection.
2023-07-31 21:32:54.376 +03:00 [DBG] Created DbConnection. (0ms).
2023-07-31 21:32:54.376 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-07-31 21:32:54.377 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2023-07-31 21:32:54.378 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:32:54.379 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:32:54.380 +03:00 [DBG] Executing DbCommand [Parameters=[@__url_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [l].[Url]
FROM [Links] AS [l]
WHERE [l].[ShortUrl] = @__url_0
2023-07-31 21:32:54.382 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__url_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [l].[Url]
FROM [Links] AS [l]
WHERE [l].[ShortUrl] = @__url_0
2023-07-31 21:32:54.384 +03:00 [DBG] Closing data reader to 'Shrtly' on server 'localhost'.
2023-07-31 21:32:54.384 +03:00 [DBG] A data reader for 'Shrtly' on server 'localhost' is being disposed after spending 0ms reading results.
2023-07-31 21:32:54.385 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:32:54.386 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (0ms).
2023-07-31 21:32:54.459 +03:00 [INF] Executed endpoint 'HTTP: GET /{url}'
2023-07-31 21:32:54.460 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Sequence contains no elements.
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at ShrtLy.Infrastructure.LinksRepository.FindUrl(String url) in D:\PROJECTS\KeyIvr\shrtly-kata\src\ShrtLy.Infrastructure\LinksRepository.cs:line 50
   at ShrtLy.Application.Features.Redirect.GetToShortLinkHandler.Handle(RedirectCommand request, CancellationToken cancellationToken) in D:\PROJECTS\KeyIvr\shrtly-kata\src\ShrtLy.Application\Features\Redirect\RedirectHandler.cs:line 20
   at Program.<>c.<<<Main>$>b__0_2>d.MoveNext() in D:\PROJECTS\KeyIvr\shrtly-kata\src\ShrtLy.Api\Program.cs:line 69
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-07-31 21:32:54.467 +03:00 [DBG] 'ShrtLyContext' disposed.
2023-07-31 21:32:54.467 +03:00 [DBG] Disposing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:32:54.468 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2023-07-31 21:32:54.469 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/favicon.ico - - - 500 - text/plain;+charset=utf-8 105.3112ms
2023-07-31 21:32:57.400 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/6ad8aw - -
2023-07-31 21:32:57.401 +03:00 [DBG] The request path  does not match the path filter
2023-07-31 21:32:57.402 +03:00 [DBG] 1 candidate(s) found for the request path '/6ad8aw'
2023-07-31 21:32:57.403 +03:00 [DBG] Endpoint 'HTTP: GET /{url}' with route pattern '/{url}' is valid for the request path '/6ad8aw'
2023-07-31 21:32:57.405 +03:00 [DBG] Request matched endpoint 'HTTP: GET /{url}'
2023-07-31 21:32:57.407 +03:00 [INF] Executing endpoint 'HTTP: GET /{url}'
2023-07-31 21:32:57.411 +03:00 [DBG] Entity Framework Core 7.0.9 initialized 'ShrtLyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.9' with options: MigrationsAssembly=ShrtLy.Infrastructure 
2023-07-31 21:32:57.414 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-31 21:32:57.415 +03:00 [DBG] Creating DbConnection.
2023-07-31 21:32:57.415 +03:00 [DBG] Created DbConnection. (0ms).
2023-07-31 21:32:57.416 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-07-31 21:32:57.417 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2023-07-31 21:32:57.418 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:32:57.419 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:32:57.421 +03:00 [DBG] Executing DbCommand [Parameters=[@__url_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [l].[Url]
FROM [Links] AS [l]
WHERE [l].[ShortUrl] = @__url_0
2023-07-31 21:32:57.423 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__url_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [l].[Url]
FROM [Links] AS [l]
WHERE [l].[ShortUrl] = @__url_0
2023-07-31 21:32:57.425 +03:00 [DBG] Closing data reader to 'Shrtly' on server 'localhost'.
2023-07-31 21:32:57.426 +03:00 [DBG] A data reader for 'Shrtly' on server 'localhost' is being disposed after spending 1ms reading results.
2023-07-31 21:32:57.428 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:32:57.429 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (0ms).
2023-07-31 21:32:57.505 +03:00 [INF] Executed endpoint 'HTTP: GET /{url}'
2023-07-31 21:32:57.507 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Sequence contains no elements.
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at ShrtLy.Infrastructure.LinksRepository.FindUrl(String url) in D:\PROJECTS\KeyIvr\shrtly-kata\src\ShrtLy.Infrastructure\LinksRepository.cs:line 50
   at ShrtLy.Application.Features.Redirect.GetToShortLinkHandler.Handle(RedirectCommand request, CancellationToken cancellationToken) in D:\PROJECTS\KeyIvr\shrtly-kata\src\ShrtLy.Application\Features\Redirect\RedirectHandler.cs:line 20
   at Program.<>c.<<<Main>$>b__0_2>d.MoveNext() in D:\PROJECTS\KeyIvr\shrtly-kata\src\ShrtLy.Api\Program.cs:line 69
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-07-31 21:32:57.514 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-07-31 21:32:57.520 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-07-31 21:32:57.521 +03:00 [DBG] 'ShrtLyContext' disposed.
2023-07-31 21:32:57.522 +03:00 [DBG] Disposing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:32:57.522 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2023-07-31 21:32:57.524 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/6ad8aw - - - 500 - text/html;+charset=utf-8 124.1927ms
2023-07-31 21:32:57.534 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - -
2023-07-31 21:32:57.542 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - -
2023-07-31 21:32:57.544 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - - - 200 12352 application/javascript;+charset=utf-8 2.2803ms
2023-07-31 21:32:57.556 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 22.6775ms
2023-07-31 21:32:57.648 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/favicon.ico - -
2023-07-31 21:32:57.649 +03:00 [DBG] The request path  does not match the path filter
2023-07-31 21:32:57.650 +03:00 [DBG] 1 candidate(s) found for the request path '/favicon.ico'
2023-07-31 21:32:57.651 +03:00 [DBG] Endpoint 'HTTP: GET /{url}' with route pattern '/{url}' is valid for the request path '/favicon.ico'
2023-07-31 21:32:57.652 +03:00 [DBG] Request matched endpoint 'HTTP: GET /{url}'
2023-07-31 21:32:57.652 +03:00 [INF] Executing endpoint 'HTTP: GET /{url}'
2023-07-31 21:32:57.654 +03:00 [DBG] Entity Framework Core 7.0.9 initialized 'ShrtLyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.9' with options: MigrationsAssembly=ShrtLy.Infrastructure 
2023-07-31 21:32:57.656 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-31 21:32:57.657 +03:00 [DBG] Creating DbConnection.
2023-07-31 21:32:57.658 +03:00 [DBG] Created DbConnection. (0ms).
2023-07-31 21:32:57.658 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-07-31 21:32:57.659 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2023-07-31 21:32:57.660 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:32:57.661 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:32:57.662 +03:00 [DBG] Executing DbCommand [Parameters=[@__url_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [l].[Url]
FROM [Links] AS [l]
WHERE [l].[ShortUrl] = @__url_0
2023-07-31 21:32:57.665 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__url_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [l].[Url]
FROM [Links] AS [l]
WHERE [l].[ShortUrl] = @__url_0
2023-07-31 21:32:57.666 +03:00 [DBG] Closing data reader to 'Shrtly' on server 'localhost'.
2023-07-31 21:32:57.667 +03:00 [DBG] A data reader for 'Shrtly' on server 'localhost' is being disposed after spending 0ms reading results.
2023-07-31 21:32:57.668 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:32:57.669 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (0ms).
2023-07-31 21:32:57.744 +03:00 [INF] Executed endpoint 'HTTP: GET /{url}'
2023-07-31 21:32:57.746 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Sequence contains no elements.
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at ShrtLy.Infrastructure.LinksRepository.FindUrl(String url) in D:\PROJECTS\KeyIvr\shrtly-kata\src\ShrtLy.Infrastructure\LinksRepository.cs:line 50
   at ShrtLy.Application.Features.Redirect.GetToShortLinkHandler.Handle(RedirectCommand request, CancellationToken cancellationToken) in D:\PROJECTS\KeyIvr\shrtly-kata\src\ShrtLy.Application\Features\Redirect\RedirectHandler.cs:line 20
   at Program.<>c.<<<Main>$>b__0_2>d.MoveNext() in D:\PROJECTS\KeyIvr\shrtly-kata\src\ShrtLy.Api\Program.cs:line 69
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-07-31 21:32:57.752 +03:00 [DBG] 'ShrtLyContext' disposed.
2023-07-31 21:32:57.752 +03:00 [DBG] Disposing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:32:57.753 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2023-07-31 21:32:57.754 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/favicon.ico - - - 500 - text/plain;+charset=utf-8 106.1640ms
2023-07-31 21:33:13.542 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - -
2023-07-31 21:33:13.545 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - - - 200 12352 application/javascript;+charset=utf-8 2.8141ms
2023-07-31 21:33:51.548 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-07-31 21:33:52.117 +03:00 [DBG] Entity Framework Core 7.0.9 initialized 'ShrtLyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.9' with options: MigrationsAssembly=ShrtLy.Infrastructure 
2023-07-31 21:33:52.130 +03:00 [DBG] Creating DbConnection.
2023-07-31 21:33:52.201 +03:00 [DBG] Created DbConnection. (68ms).
2023-07-31 21:33:52.207 +03:00 [DBG] Migrating using database 'Shrtly' on server 'localhost'.
2023-07-31 21:33:52.213 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:33:52.448 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:33:52.454 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-07-31 21:33:52.461 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (5ms).
2023-07-31 21:33:52.463 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (10ms).
2023-07-31 21:33:52.469 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-07-31 21:33:52.490 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-07-31 21:33:52.494 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:33:52.502 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (4ms).
2023-07-31 21:33:52.505 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-31 21:33:52.506 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-07-31 21:33:52.507 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2023-07-31 21:33:52.507 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:33:52.509 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:33:52.510 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-07-31 21:33:52.523 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-07-31 21:33:52.524 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:33:52.526 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (1ms).
2023-07-31 21:33:52.527 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:33:52.528 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:33:52.528 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-07-31 21:33:52.529 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-07-31 21:33:52.530 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2023-07-31 21:33:52.531 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-07-31 21:33:52.534 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-07-31 21:33:52.535 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:33:52.536 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (0ms).
2023-07-31 21:33:52.537 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-31 21:33:52.537 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-07-31 21:33:52.538 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2023-07-31 21:33:52.539 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:33:52.540 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:33:52.540 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-07-31 21:33:52.542 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-07-31 21:33:52.543 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:33:52.544 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (0ms).
2023-07-31 21:33:52.566 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-31 21:33:52.566 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-07-31 21:33:52.567 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-07-31 21:33:52.568 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:33:52.569 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:33:52.570 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-07-31 21:33:52.572 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-07-31 21:33:52.576 +03:00 [DBG] Closing data reader to 'Shrtly' on server 'localhost'.
2023-07-31 21:33:52.578 +03:00 [DBG] A data reader for 'Shrtly' on server 'localhost' is being disposed after spending 2ms reading results.
2023-07-31 21:33:52.579 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:33:52.580 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (0ms).
2023-07-31 21:33:52.589 +03:00 [INF] No migrations were applied. The database is already up to date.
2023-07-31 21:33:52.591 +03:00 [DBG] 'ShrtLyContext' disposed.
2023-07-31 21:33:52.593 +03:00 [DBG] Disposing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:33:52.595 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2023-07-31 21:33:52.653 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-07-31 21:33:52.709 +03:00 [DBG] Hosting starting
2023-07-31 21:33:52.808 +03:00 [INF] Now listening on: https://localhost:5001
2023-07-31 21:33:52.810 +03:00 [INF] Now listening on: http://localhost:5000
2023-07-31 21:33:52.811 +03:00 [DBG] Loaded hosting startup assembly ShrtLy.Api
2023-07-31 21:33:52.812 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-07-31 21:33:52.813 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-07-31 21:33:52.813 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-07-31 21:33:52.814 +03:00 [INF] Hosting environment: Development
2023-07-31 21:33:52.814 +03:00 [INF] Content root path: D:\PROJECTS\KeyIvr\shrtly-kata\src\ShrtLy.Api
2023-07-31 21:33:52.815 +03:00 [DBG] Hosting started
2023-07-31 21:33:53.246 +03:00 [DBG] Connection id "0HMSHUIOHMJB8" received FIN.
2023-07-31 21:33:53.246 +03:00 [DBG] Connection id "0HMSHUIOHMJB9" received FIN.
2023-07-31 21:33:53.246 +03:00 [DBG] Connection id "0HMSHUIOHMJB8" accepted.
2023-07-31 21:33:53.246 +03:00 [DBG] Connection id "0HMSHUIOHMJB9" accepted.
2023-07-31 21:33:53.250 +03:00 [DBG] Connection id "0HMSHUIOHMJB8" started.
2023-07-31 21:33:53.250 +03:00 [DBG] Connection id "0HMSHUIOHMJB9" started.
2023-07-31 21:33:53.265 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-07-31 21:33:53.265 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-07-31 21:33:53.289 +03:00 [DBG] Connection id "0HMSHUIOHMJB9" stopped.
2023-07-31 21:33:53.289 +03:00 [DBG] Connection id "0HMSHUIOHMJB8" stopped.
2023-07-31 21:33:53.292 +03:00 [DBG] Connection id "0HMSHUIOHMJB9" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-07-31 21:33:53.292 +03:00 [DBG] Connection id "0HMSHUIOHMJB8" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-07-31 21:33:53.386 +03:00 [DBG] Connection id "0HMSHUIOHMJBA" accepted.
2023-07-31 21:33:53.387 +03:00 [DBG] Connection id "0HMSHUIOHMJBA" started.
2023-07-31 21:33:53.421 +03:00 [DBG] Connection 0HMSHUIOHMJBA established using the following protocol: "Tls12"
2023-07-31 21:33:53.490 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2023-07-31 21:33:53.509 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-07-31 21:33:53.605 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-07-31 21:33:53.696 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-07-31 21:33:53.701 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 212.0811ms
2023-07-31 21:33:53.787 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - -
2023-07-31 21:33:53.787 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - -
2023-07-31 21:33:53.806 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - - - 200 12352 application/javascript;+charset=utf-8 19.3308ms
2023-07-31 21:33:53.826 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 39.3808ms
2023-07-31 21:33:53.942 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2023-07-31 21:33:54.060 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 117.3614ms
2023-07-31 21:34:01.211 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Links?url=https%3A%2F%2Fforum.uipath.com%2Ft%2Fhow-can-we-check-if-string-contains-combination-of-numbers-and-forward-slash%2F486523%2F5 - -
2023-07-31 21:34:01.215 +03:00 [DBG] The request path  does not match the path filter
2023-07-31 21:34:01.239 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Links'
2023-07-31 21:34:01.242 +03:00 [DBG] Endpoint 'ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api)' with route pattern 'api/Links' is valid for the request path '/api/Links'
2023-07-31 21:34:01.244 +03:00 [DBG] Request matched endpoint 'ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api)'
2023-07-31 21:34:01.247 +03:00 [INF] Executing endpoint 'ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api)'
2023-07-31 21:34:01.271 +03:00 [INF] Route matched with {action = "GetToShortLink", controller = "Links"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetToShortLink(System.String) on controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api).
2023-07-31 21:34:01.274 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-31 21:34:01.275 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-31 21:34:01.276 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-31 21:34:01.278 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-31 21:34:01.278 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-31 21:34:01.281 +03:00 [DBG] Executing controller factory for controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api)
2023-07-31 21:34:01.283 +03:00 [DBG] Executed controller factory for controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api)
2023-07-31 21:34:01.296 +03:00 [DBG] Attempting to bind parameter 'url' of type 'System.String' ...
2023-07-31 21:34:01.299 +03:00 [DBG] Attempting to bind parameter 'url' of type 'System.String' using the name 'url' in request data ...
2023-07-31 21:34:01.301 +03:00 [DBG] Done attempting to bind parameter 'url' of type 'System.String'.
2023-07-31 21:34:01.302 +03:00 [DBG] Done attempting to bind parameter 'url' of type 'System.String'.
2023-07-31 21:34:01.304 +03:00 [DBG] Attempting to validate the bound parameter 'url' of type 'System.String' ...
2023-07-31 21:34:01.307 +03:00 [DBG] Done attempting to validate the bound parameter 'url' of type 'System.String'.
2023-07-31 21:34:01.351 +03:00 [DBG] Entity Framework Core 7.0.9 initialized 'ShrtLyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.9' with options: MigrationsAssembly=ShrtLy.Infrastructure 
2023-07-31 21:34:01.395 +03:00 [DBG] Compiling query expression: 
'DbSet<LinkEntity>()
    .Any(l => l.Url == __url_0)'
2023-07-31 21:34:01.529 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Links AS l
                WHERE l.Url == @__url_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        ShrtLy.Infrastructure.ShrtLyContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-07-31 21:34:01.565 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-31 21:34:01.567 +03:00 [DBG] Creating DbConnection.
2023-07-31 21:34:01.568 +03:00 [DBG] Created DbConnection. (0ms).
2023-07-31 21:34:01.569 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2023-07-31 21:34:01.573 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2023-07-31 21:34:01.576 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:34:01.582 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:34:01.586 +03:00 [DBG] Executing DbCommand [Parameters=[@__url_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Links] AS [l]
        WHERE [l].[Url] = @__url_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-07-31 21:34:01.619 +03:00 [INF] Executed DbCommand (35ms) [Parameters=[@__url_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Links] AS [l]
        WHERE [l].[Url] = @__url_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-07-31 21:34:01.633 +03:00 [DBG] Closing data reader to 'Shrtly' on server 'localhost'.
2023-07-31 21:34:01.635 +03:00 [DBG] A data reader for 'Shrtly' on server 'localhost' is being disposed after spending 12ms reading results.
2023-07-31 21:34:01.638 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:34:01.639 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (1ms).
2023-07-31 21:34:01.648 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-07-31 21:34:01.652 +03:00 [DBG] No information found on request to perform content negotiation.
2023-07-31 21:34:01.653 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-31 21:34:01.654 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-31 21:34:01.655 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-07-31 21:34:01.657 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2023-07-31 21:34:01.663 +03:00 [INF] Executed action ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api) in 380.2844ms
2023-07-31 21:34:01.665 +03:00 [INF] Executed endpoint 'ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api)'
2023-07-31 21:34:01.668 +03:00 [DBG] 'ShrtLyContext' disposed.
2023-07-31 21:34:01.671 +03:00 [DBG] Disposing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:34:01.673 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2023-07-31 21:34:01.674 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Links?url=https%3A%2F%2Fforum.uipath.com%2Ft%2Fhow-can-we-check-if-string-contains-combination-of-numbers-and-forward-slash%2F486523%2F5 - - - 409 - text/plain;+charset=utf-8 463.6905ms
2023-07-31 21:34:11.986 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Links?url=https%3A%2F%2Fdayvster.com%2Fblog%2Fmake-a-url-shortener-csharp - -
2023-07-31 21:34:11.989 +03:00 [DBG] The request path  does not match the path filter
2023-07-31 21:34:11.991 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Links'
2023-07-31 21:34:11.992 +03:00 [DBG] Endpoint 'ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api)' with route pattern 'api/Links' is valid for the request path '/api/Links'
2023-07-31 21:34:11.993 +03:00 [DBG] Request matched endpoint 'ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api)'
2023-07-31 21:34:11.994 +03:00 [INF] Executing endpoint 'ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api)'
2023-07-31 21:34:11.995 +03:00 [INF] Route matched with {action = "GetToShortLink", controller = "Links"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetToShortLink(System.String) on controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api).
2023-07-31 21:34:11.996 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-31 21:34:11.997 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-31 21:34:11.998 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-31 21:34:11.999 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-31 21:34:12.000 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-31 21:34:12.001 +03:00 [DBG] Executing controller factory for controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api)
2023-07-31 21:34:12.002 +03:00 [DBG] Executed controller factory for controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api)
2023-07-31 21:34:12.003 +03:00 [DBG] Attempting to bind parameter 'url' of type 'System.String' ...
2023-07-31 21:34:12.004 +03:00 [DBG] Attempting to bind parameter 'url' of type 'System.String' using the name 'url' in request data ...
2023-07-31 21:34:12.005 +03:00 [DBG] Done attempting to bind parameter 'url' of type 'System.String'.
2023-07-31 21:34:12.006 +03:00 [DBG] Done attempting to bind parameter 'url' of type 'System.String'.
2023-07-31 21:34:12.007 +03:00 [DBG] Attempting to validate the bound parameter 'url' of type 'System.String' ...
2023-07-31 21:34:12.008 +03:00 [DBG] Done attempting to validate the bound parameter 'url' of type 'System.String'.
2023-07-31 21:34:12.065 +03:00 [DBG] Entity Framework Core 7.0.9 initialized 'ShrtLyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.9' with options: MigrationsAssembly=ShrtLy.Infrastructure 
2023-07-31 21:34:12.071 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-31 21:34:12.072 +03:00 [DBG] Creating DbConnection.
2023-07-31 21:34:12.073 +03:00 [DBG] Created DbConnection. (0ms).
2023-07-31 21:34:12.074 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-07-31 21:34:12.075 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2023-07-31 21:34:12.076 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:34:12.077 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:34:12.077 +03:00 [DBG] Executing DbCommand [Parameters=[@__url_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Links] AS [l]
        WHERE [l].[Url] = @__url_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-07-31 21:34:12.080 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__url_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Links] AS [l]
        WHERE [l].[Url] = @__url_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-07-31 21:34:12.082 +03:00 [DBG] Closing data reader to 'Shrtly' on server 'localhost'.
2023-07-31 21:34:12.083 +03:00 [DBG] A data reader for 'Shrtly' on server 'localhost' is being disposed after spending 1ms reading results.
2023-07-31 21:34:12.084 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:34:12.085 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (0ms).
2023-07-31 21:34:12.145 +03:00 [DBG] Context 'ShrtLyContext' started tracking 'LinkEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-31 21:34:12.150 +03:00 [DBG] SaveChanges starting for 'ShrtLyContext'.
2023-07-31 21:34:12.154 +03:00 [DBG] DetectChanges starting for 'ShrtLyContext'.
2023-07-31 21:34:12.164 +03:00 [DBG] DetectChanges completed for 'ShrtLyContext'.
2023-07-31 21:34:12.221 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:34:12.223 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:34:12.226 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-31 21:34:12.227 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-07-31 21:34:12.228 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2023-07-31 21:34:12.230 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Links] ([Id], [ShortUrl], [Url])
VALUES (@p0, @p1, @p2);
2023-07-31 21:34:12.239 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Links] ([Id], [ShortUrl], [Url])
VALUES (@p0, @p1, @p2);
2023-07-31 21:34:12.243 +03:00 [DBG] Closing data reader to 'Shrtly' on server 'localhost'.
2023-07-31 21:34:12.244 +03:00 [DBG] A data reader for 'Shrtly' on server 'localhost' is being disposed after spending 3ms reading results.
2023-07-31 21:34:12.246 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:34:12.246 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (0ms).
2023-07-31 21:34:12.255 +03:00 [DBG] An entity of type 'LinkEntity' tracked by 'ShrtLyContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-31 21:34:12.259 +03:00 [DBG] SaveChanges completed for 'ShrtLyContext' with 1 entities written to the database.
2023-07-31 21:34:12.263 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-07-31 21:34:12.265 +03:00 [DBG] No information found on request to perform content negotiation.
2023-07-31 21:34:12.265 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-31 21:34:12.266 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-31 21:34:12.267 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-07-31 21:34:12.267 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2023-07-31 21:34:12.268 +03:00 [INF] Executed action ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api) in 267.1498ms
2023-07-31 21:34:12.270 +03:00 [INF] Executed endpoint 'ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api)'
2023-07-31 21:34:12.271 +03:00 [DBG] 'ShrtLyContext' disposed.
2023-07-31 21:34:12.272 +03:00 [DBG] Disposing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:34:12.272 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2023-07-31 21:34:12.273 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Links?url=https%3A%2F%2Fdayvster.com%2Fblog%2Fmake-a-url-shortener-csharp - - - 200 - text/plain;+charset=utf-8 286.9735ms
2023-07-31 21:34:16.782 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/5f10dw - -
2023-07-31 21:34:16.784 +03:00 [DBG] The request path  does not match the path filter
2023-07-31 21:34:16.785 +03:00 [DBG] 1 candidate(s) found for the request path '/5f10dw'
2023-07-31 21:34:16.787 +03:00 [DBG] Endpoint 'HTTP: GET /{url}' with route pattern '/{url}' is valid for the request path '/5f10dw'
2023-07-31 21:34:16.789 +03:00 [DBG] Request matched endpoint 'HTTP: GET /{url}'
2023-07-31 21:34:16.790 +03:00 [INF] Executing endpoint 'HTTP: GET /{url}'
2023-07-31 21:34:16.795 +03:00 [DBG] Entity Framework Core 7.0.9 initialized 'ShrtLyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.9' with options: MigrationsAssembly=ShrtLy.Infrastructure 
2023-07-31 21:34:16.799 +03:00 [DBG] Compiling query expression: 
'DbSet<LinkEntity>()
    .Where(l => l.ShortUrl == __url_0)
    .Select(l => l.Url)
    .Single()'
2023-07-31 21:34:16.810 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<string>(
    asyncEnumerable: new SingleQueryingEnumerable<string>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT TOP(2) l.Url
            FROM Links AS l
            WHERE l.ShortUrl == @__url_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
        ShrtLy.Infrastructure.ShrtLyContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-07-31 21:34:16.817 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-31 21:34:16.818 +03:00 [DBG] Creating DbConnection.
2023-07-31 21:34:16.819 +03:00 [DBG] Created DbConnection. (0ms).
2023-07-31 21:34:16.819 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-07-31 21:34:16.820 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2023-07-31 21:34:16.821 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:34:16.821 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:34:16.822 +03:00 [DBG] Executing DbCommand [Parameters=[@__url_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [l].[Url]
FROM [Links] AS [l]
WHERE [l].[ShortUrl] = @__url_0
2023-07-31 21:34:16.825 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__url_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [l].[Url]
FROM [Links] AS [l]
WHERE [l].[ShortUrl] = @__url_0
2023-07-31 21:34:16.830 +03:00 [DBG] Closing data reader to 'Shrtly' on server 'localhost'.
2023-07-31 21:34:16.831 +03:00 [DBG] A data reader for 'Shrtly' on server 'localhost' is being disposed after spending 4ms reading results.
2023-07-31 21:34:16.832 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:34:16.833 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (0ms).
2023-07-31 21:34:16.835 +03:00 [INF] Executing RedirectResult, redirecting to https://dayvster.com/blog/make-a-url-shortener-csharp.
2023-07-31 21:34:16.836 +03:00 [INF] Executed endpoint 'HTTP: GET /{url}'
2023-07-31 21:34:16.837 +03:00 [DBG] 'ShrtLyContext' disposed.
2023-07-31 21:34:16.837 +03:00 [DBG] Disposing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:34:16.838 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2023-07-31 21:34:16.839 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/5f10dw - - - 302 0 - 57.5452ms
2023-07-31 21:34:51.325 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/https:%2F%2Flocalhost:5001%2F5f10dw - -
2023-07-31 21:34:51.327 +03:00 [DBG] The request path  does not match the path filter
2023-07-31 21:34:51.329 +03:00 [DBG] 1 candidate(s) found for the request path '/https:%2F%2Flocalhost:5001%2F5f10dw'
2023-07-31 21:34:51.330 +03:00 [DBG] Endpoint 'HTTP: GET /{url}' with route pattern '/{url}' is valid for the request path '/https:%2F%2Flocalhost:5001%2F5f10dw'
2023-07-31 21:34:51.331 +03:00 [DBG] Request matched endpoint 'HTTP: GET /{url}'
2023-07-31 21:34:51.333 +03:00 [INF] Executing endpoint 'HTTP: GET /{url}'
2023-07-31 21:34:51.335 +03:00 [DBG] Entity Framework Core 7.0.9 initialized 'ShrtLyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.9' with options: MigrationsAssembly=ShrtLy.Infrastructure 
2023-07-31 21:34:51.338 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-31 21:34:51.338 +03:00 [DBG] Creating DbConnection.
2023-07-31 21:34:51.339 +03:00 [DBG] Created DbConnection. (0ms).
2023-07-31 21:34:51.340 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-07-31 21:34:51.340 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2023-07-31 21:34:51.341 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:34:51.342 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:34:51.343 +03:00 [DBG] Executing DbCommand [Parameters=[@__url_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [l].[Url]
FROM [Links] AS [l]
WHERE [l].[ShortUrl] = @__url_0
2023-07-31 21:34:51.347 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__url_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [l].[Url]
FROM [Links] AS [l]
WHERE [l].[ShortUrl] = @__url_0
2023-07-31 21:34:51.350 +03:00 [DBG] Closing data reader to 'Shrtly' on server 'localhost'.
2023-07-31 21:34:51.351 +03:00 [DBG] A data reader for 'Shrtly' on server 'localhost' is being disposed after spending 2ms reading results.
2023-07-31 21:34:51.353 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:34:51.354 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (1ms).
2023-07-31 21:34:51.442 +03:00 [INF] Executed endpoint 'HTTP: GET /{url}'
2023-07-31 21:34:51.446 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Sequence contains no elements.
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at ShrtLy.Infrastructure.LinksRepository.FindUrl(String url) in D:\PROJECTS\KeyIvr\shrtly-kata\src\ShrtLy.Infrastructure\LinksRepository.cs:line 50
   at ShrtLy.Application.Features.Redirect.GetToShortLinkHandler.Handle(RedirectCommand request, CancellationToken cancellationToken) in D:\PROJECTS\KeyIvr\shrtly-kata\src\ShrtLy.Application\Features\Redirect\RedirectHandler.cs:line 20
   at Program.<>c.<<<Main>$>b__0_2>d.MoveNext() in D:\PROJECTS\KeyIvr\shrtly-kata\src\ShrtLy.Api\Program.cs:line 69
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-07-31 21:34:51.459 +03:00 [DBG] 'ShrtLyContext' disposed.
2023-07-31 21:34:51.460 +03:00 [DBG] Disposing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:34:51.461 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2023-07-31 21:34:51.462 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/https:%2F%2Flocalhost:5001%2F5f10dw - - - 500 - text/plain;+charset=utf-8 136.9594ms
2023-07-31 21:39:13.191 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-07-31 21:39:13.689 +03:00 [DBG] Entity Framework Core 7.0.9 initialized 'ShrtLyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.9' with options: MigrationsAssembly=ShrtLy.Infrastructure 
2023-07-31 21:39:13.699 +03:00 [DBG] Creating DbConnection.
2023-07-31 21:39:13.772 +03:00 [DBG] Created DbConnection. (69ms).
2023-07-31 21:39:13.779 +03:00 [DBG] Migrating using database 'Shrtly' on server 'localhost'.
2023-07-31 21:39:13.786 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:39:14.033 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:39:14.040 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-07-31 21:39:14.047 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (6ms).
2023-07-31 21:39:14.050 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (12ms).
2023-07-31 21:39:14.057 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-07-31 21:39:14.079 +03:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-07-31 21:39:14.083 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:39:14.091 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (4ms).
2023-07-31 21:39:14.095 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-31 21:39:14.095 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-07-31 21:39:14.096 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2023-07-31 21:39:14.096 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:39:14.098 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:39:14.099 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-07-31 21:39:14.111 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-07-31 21:39:14.112 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:39:14.113 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (0ms).
2023-07-31 21:39:14.115 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:39:14.115 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:39:14.116 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-07-31 21:39:14.117 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-07-31 21:39:14.117 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2023-07-31 21:39:14.118 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-07-31 21:39:14.120 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-07-31 21:39:14.121 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:39:14.122 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (0ms).
2023-07-31 21:39:14.123 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-31 21:39:14.124 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-07-31 21:39:14.125 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2023-07-31 21:39:14.125 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:39:14.127 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:39:14.127 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-07-31 21:39:14.129 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-07-31 21:39:14.130 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:39:14.131 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (0ms).
2023-07-31 21:39:14.152 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-31 21:39:14.152 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-07-31 21:39:14.153 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-07-31 21:39:14.155 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:39:14.156 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:39:14.157 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-07-31 21:39:14.160 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-07-31 21:39:14.164 +03:00 [DBG] Closing data reader to 'Shrtly' on server 'localhost'.
2023-07-31 21:39:14.166 +03:00 [DBG] A data reader for 'Shrtly' on server 'localhost' is being disposed after spending 3ms reading results.
2023-07-31 21:39:14.168 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:39:14.168 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (0ms).
2023-07-31 21:39:14.178 +03:00 [INF] No migrations were applied. The database is already up to date.
2023-07-31 21:39:14.181 +03:00 [DBG] 'ShrtLyContext' disposed.
2023-07-31 21:39:14.183 +03:00 [DBG] Disposing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:39:14.185 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2023-07-31 21:39:14.245 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-07-31 21:39:14.300 +03:00 [DBG] Hosting starting
2023-07-31 21:39:14.407 +03:00 [INF] Now listening on: https://localhost:5001
2023-07-31 21:39:14.409 +03:00 [INF] Now listening on: http://localhost:5000
2023-07-31 21:39:14.410 +03:00 [DBG] Loaded hosting startup assembly ShrtLy.Api
2023-07-31 21:39:14.411 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-07-31 21:39:14.411 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-07-31 21:39:14.412 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-07-31 21:39:14.413 +03:00 [INF] Hosting environment: Development
2023-07-31 21:39:14.413 +03:00 [INF] Content root path: D:\PROJECTS\KeyIvr\shrtly-kata\src\ShrtLy.Api
2023-07-31 21:39:14.414 +03:00 [DBG] Hosting started
2023-07-31 21:39:14.840 +03:00 [DBG] Connection id "0HMSHULOCL7RG" received FIN.
2023-07-31 21:39:14.846 +03:00 [DBG] Connection id "0HMSHULOCL7RG" accepted.
2023-07-31 21:39:14.847 +03:00 [DBG] Connection id "0HMSHULOCL7RG" started.
2023-07-31 21:39:14.859 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-07-31 21:39:14.880 +03:00 [DBG] Connection id "0HMSHULOCL7RG" stopped.
2023-07-31 21:39:14.883 +03:00 [DBG] Connection id "0HMSHULOCL7RG" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-07-31 21:39:14.980 +03:00 [DBG] Connection id "0HMSHULOCL7RH" accepted.
2023-07-31 21:39:14.981 +03:00 [DBG] Connection id "0HMSHULOCL7RH" started.
2023-07-31 21:39:15.020 +03:00 [DBG] Connection 0HMSHULOCL7RH established using the following protocol: "Tls12"
2023-07-31 21:39:15.100 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2023-07-31 21:39:15.118 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-07-31 21:39:15.221 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-07-31 21:39:15.305 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-07-31 21:39:15.309 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 211.2937ms
2023-07-31 21:39:15.381 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - -
2023-07-31 21:39:15.381 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - -
2023-07-31 21:39:15.409 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - - - 200 12352 application/javascript;+charset=utf-8 28.4641ms
2023-07-31 21:39:15.432 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 51.1336ms
2023-07-31 21:39:15.550 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2023-07-31 21:39:15.641 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 90.6899ms
2023-07-31 21:39:31.572 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Links/all - -
2023-07-31 21:39:31.576 +03:00 [DBG] The request path  does not match the path filter
2023-07-31 21:39:31.595 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Links/all'
2023-07-31 21:39:31.598 +03:00 [DBG] Endpoint 'ShrtLy.Api.Controllers.LinksController.GetShortLinks (ShrtLy.Api)' with route pattern 'api/Links/all' is valid for the request path '/api/Links/all'
2023-07-31 21:39:31.600 +03:00 [DBG] Request matched endpoint 'ShrtLy.Api.Controllers.LinksController.GetShortLinks (ShrtLy.Api)'
2023-07-31 21:39:31.603 +03:00 [INF] Executing endpoint 'ShrtLy.Api.Controllers.LinksController.GetShortLinks (ShrtLy.Api)'
2023-07-31 21:39:31.626 +03:00 [INF] Route matched with {action = "GetShortLinks", controller = "Links"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetShortLinks(ShrtLy.Application.DTOs.PaginationDto) on controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api).
2023-07-31 21:39:31.631 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-31 21:39:31.632 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-31 21:39:31.633 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-31 21:39:31.634 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-31 21:39:31.636 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-31 21:39:31.639 +03:00 [DBG] Executing controller factory for controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api)
2023-07-31 21:39:31.640 +03:00 [DBG] Executed controller factory for controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api)
2023-07-31 21:39:31.651 +03:00 [DBG] Attempting to bind parameter 'pagination' of type 'ShrtLy.Application.DTOs.PaginationDto' ...
2023-07-31 21:39:31.653 +03:00 [DBG] Attempting to bind parameter 'pagination' of type 'ShrtLy.Application.DTOs.PaginationDto' using the name '' in request data ...
2023-07-31 21:39:31.658 +03:00 [DBG] Attempting to bind property 'ShrtLy.Application.DTOs.PaginationDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2023-07-31 21:39:31.660 +03:00 [DBG] Could not find a value in the request with name 'Page' for binding property 'ShrtLy.Application.DTOs.PaginationDto.Page' of type 'System.Int32'.
2023-07-31 21:39:31.661 +03:00 [DBG] Done attempting to bind property 'ShrtLy.Application.DTOs.PaginationDto.Page' of type 'System.Int32'.
2023-07-31 21:39:31.664 +03:00 [DBG] Attempting to bind property 'ShrtLy.Application.DTOs.PaginationDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2023-07-31 21:39:31.666 +03:00 [DBG] Could not find a value in the request with name 'PageSize' for binding property 'ShrtLy.Application.DTOs.PaginationDto.PageSize' of type 'System.Int32'.
2023-07-31 21:39:31.667 +03:00 [DBG] Done attempting to bind property 'ShrtLy.Application.DTOs.PaginationDto.PageSize' of type 'System.Int32'.
2023-07-31 21:39:31.668 +03:00 [DBG] Done attempting to bind parameter 'pagination' of type 'ShrtLy.Application.DTOs.PaginationDto'.
2023-07-31 21:39:31.669 +03:00 [DBG] Done attempting to bind parameter 'pagination' of type 'ShrtLy.Application.DTOs.PaginationDto'.
2023-07-31 21:39:31.670 +03:00 [DBG] Attempting to validate the bound parameter 'pagination' of type 'ShrtLy.Application.DTOs.PaginationDto' ...
2023-07-31 21:39:31.674 +03:00 [DBG] Done attempting to validate the bound parameter 'pagination' of type 'ShrtLy.Application.DTOs.PaginationDto'.
2023-07-31 21:39:31.717 +03:00 [DBG] Entity Framework Core 7.0.9 initialized 'ShrtLyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.9' with options: MigrationsAssembly=ShrtLy.Infrastructure 
2023-07-31 21:39:31.755 +03:00 [DBG] Compiling query expression: 
'DbSet<LinkEntity>()
    .Count()'
2023-07-31 21:39:31.893 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: new SingleQueryingEnumerable<int>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Links AS l), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
        ShrtLy.Infrastructure.ShrtLyContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-07-31 21:39:31.922 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-31 21:39:31.924 +03:00 [DBG] Creating DbConnection.
2023-07-31 21:39:31.925 +03:00 [DBG] Created DbConnection. (0ms).
2023-07-31 21:39:31.925 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-07-31 21:39:31.926 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2023-07-31 21:39:31.930 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:39:31.933 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:39:31.935 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Links] AS [l]
2023-07-31 21:39:31.955 +03:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Links] AS [l]
2023-07-31 21:39:31.967 +03:00 [DBG] Closing data reader to 'Shrtly' on server 'localhost'.
2023-07-31 21:39:31.969 +03:00 [DBG] A data reader for 'Shrtly' on server 'localhost' is being disposed after spending 12ms reading results.
2023-07-31 21:39:31.972 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:39:31.973 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (1ms).
2023-07-31 21:39:31.983 +03:00 [DBG] Compiling query expression: 
'DbSet<LinkEntity>()
    .Skip(__p_0)
    .Take(__p_1)
    .AsNoTracking()'
2023-07-31 21:39:31.991 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2023-07-31 21:39:31.992 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2023-07-31 21:39:32.019 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<LinkEntity>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: LinkEntity.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: LinkEntity.ShortUrl (string) Required, 1], [Property: LinkEntity.Url (string) Required, 2] }
        SELECT l.Id, l.ShortUrl, l.Url
        FROM Links AS l
        ORDER BY (SELECT 1)
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, LinkEntity>, 
    ShrtLy.Infrastructure.ShrtLyContext, 
    False, 
    False, 
    True
)'
2023-07-31 21:39:32.031 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-31 21:39:32.033 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-07-31 21:39:32.036 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2023-07-31 21:39:32.037 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:39:32.038 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:39:32.043 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[ShortUrl], [l].[Url]
FROM [Links] AS [l]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2023-07-31 21:39:32.061 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[ShortUrl], [l].[Url]
FROM [Links] AS [l]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2023-07-31 21:39:32.066 +03:00 [DBG] Closing data reader to 'Shrtly' on server 'localhost'.
2023-07-31 21:39:32.068 +03:00 [DBG] A data reader for 'Shrtly' on server 'localhost' is being disposed after spending 4ms reading results.
2023-07-31 21:39:32.069 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:39:32.070 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (0ms).
2023-07-31 21:39:32.080 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-07-31 21:39:32.084 +03:00 [DBG] No information found on request to perform content negotiation.
2023-07-31 21:39:32.084 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-31 21:39:32.085 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-31 21:39:32.086 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-31 21:39:32.088 +03:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`7[[Shrtly.Common.PaginatedList`1[[ShrtLy.Application.DTOs.LinkDto, ShrtLy.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], Shrtly.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-07-31 21:39:32.108 +03:00 [INF] Executed action ShrtLy.Api.Controllers.LinksController.GetShortLinks (ShrtLy.Api) in 467.6439ms
2023-07-31 21:39:32.110 +03:00 [INF] Executed endpoint 'ShrtLy.Api.Controllers.LinksController.GetShortLinks (ShrtLy.Api)'
2023-07-31 21:39:32.112 +03:00 [DBG] 'ShrtLyContext' disposed.
2023-07-31 21:39:32.116 +03:00 [DBG] Disposing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:39:32.117 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2023-07-31 21:39:32.118 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Links/all - - - 200 - application/json;+charset=utf-8 546.3007ms
2023-07-31 21:39:39.789 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/6ad8aw - -
2023-07-31 21:39:39.791 +03:00 [DBG] The request path  does not match the path filter
2023-07-31 21:39:39.792 +03:00 [DBG] No candidates found for the request path '/6ad8aw'
2023-07-31 21:39:39.793 +03:00 [DBG] Request did not match any endpoints
2023-07-31 21:39:39.794 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/6ad8aw - - - 404 0 - 4.9256ms
2023-07-31 21:40:25.188 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-07-31 21:40:25.772 +03:00 [DBG] Entity Framework Core 7.0.9 initialized 'ShrtLyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.9' with options: MigrationsAssembly=ShrtLy.Infrastructure 
2023-07-31 21:40:25.782 +03:00 [DBG] Creating DbConnection.
2023-07-31 21:40:25.838 +03:00 [DBG] Created DbConnection. (53ms).
2023-07-31 21:40:25.851 +03:00 [DBG] Migrating using database 'Shrtly' on server 'localhost'.
2023-07-31 21:40:25.859 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:40:26.080 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:40:26.087 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-07-31 21:40:26.094 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (5ms).
2023-07-31 21:40:26.097 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (11ms).
2023-07-31 21:40:26.103 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-07-31 21:40:26.124 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-07-31 21:40:26.129 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:40:26.137 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (4ms).
2023-07-31 21:40:26.141 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-31 21:40:26.141 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-07-31 21:40:26.142 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2023-07-31 21:40:26.143 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:40:26.144 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:40:26.145 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-07-31 21:40:26.158 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-07-31 21:40:26.160 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:40:26.162 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (1ms).
2023-07-31 21:40:26.164 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:40:26.165 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:40:26.166 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-07-31 21:40:26.167 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-07-31 21:40:26.168 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2023-07-31 21:40:26.169 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-07-31 21:40:26.171 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-07-31 21:40:26.172 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:40:26.173 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (0ms).
2023-07-31 21:40:26.174 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-31 21:40:26.175 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-07-31 21:40:26.175 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2023-07-31 21:40:26.176 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:40:26.177 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:40:26.177 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-07-31 21:40:26.179 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-07-31 21:40:26.181 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:40:26.181 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (0ms).
2023-07-31 21:40:26.203 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-31 21:40:26.204 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-07-31 21:40:26.205 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2023-07-31 21:40:26.206 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:40:26.207 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:40:26.208 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-07-31 21:40:26.213 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-07-31 21:40:26.218 +03:00 [DBG] Closing data reader to 'Shrtly' on server 'localhost'.
2023-07-31 21:40:26.220 +03:00 [DBG] A data reader for 'Shrtly' on server 'localhost' is being disposed after spending 3ms reading results.
2023-07-31 21:40:26.221 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:40:26.222 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (0ms).
2023-07-31 21:40:26.232 +03:00 [INF] No migrations were applied. The database is already up to date.
2023-07-31 21:40:26.234 +03:00 [DBG] 'ShrtLyContext' disposed.
2023-07-31 21:40:26.236 +03:00 [DBG] Disposing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:40:26.238 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2023-07-31 21:40:26.297 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-07-31 21:40:26.353 +03:00 [DBG] Hosting starting
2023-07-31 21:40:26.462 +03:00 [INF] Now listening on: https://localhost:5001
2023-07-31 21:40:26.463 +03:00 [INF] Now listening on: http://localhost:5000
2023-07-31 21:40:26.465 +03:00 [DBG] Loaded hosting startup assembly ShrtLy.Api
2023-07-31 21:40:26.466 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-07-31 21:40:26.467 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-07-31 21:40:26.467 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-07-31 21:40:26.468 +03:00 [INF] Hosting environment: Development
2023-07-31 21:40:26.469 +03:00 [INF] Content root path: D:\PROJECTS\KeyIvr\shrtly-kata\src\ShrtLy.Api
2023-07-31 21:40:26.469 +03:00 [DBG] Hosting started
2023-07-31 21:40:26.486 +03:00 [DBG] Connection id "0HMSHUMDNTUUE" accepted.
2023-07-31 21:40:26.486 +03:00 [DBG] Connection id "0HMSHUMDNTUUD" accepted.
2023-07-31 21:40:26.488 +03:00 [DBG] Connection id "0HMSHUMDNTUUE" started.
2023-07-31 21:40:26.488 +03:00 [DBG] Connection id "0HMSHUMDNTUUD" started.
2023-07-31 21:40:26.511 +03:00 [DBG] Connection id "0HMSHUMDNTUUE" received FIN.
2023-07-31 21:40:26.511 +03:00 [DBG] Connection id "0HMSHUMDNTUUD" received FIN.
2023-07-31 21:40:26.517 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-07-31 21:40:26.518 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-07-31 21:40:26.540 +03:00 [DBG] Connection id "0HMSHUMDNTUUE" stopped.
2023-07-31 21:40:26.540 +03:00 [DBG] Connection id "0HMSHUMDNTUUD" stopped.
2023-07-31 21:40:26.544 +03:00 [DBG] Connection id "0HMSHUMDNTUUE" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-07-31 21:40:26.544 +03:00 [DBG] Connection id "0HMSHUMDNTUUD" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-07-31 21:40:26.648 +03:00 [DBG] Connection id "0HMSHUMDNTUUF" accepted.
2023-07-31 21:40:26.649 +03:00 [DBG] Connection id "0HMSHUMDNTUUF" started.
2023-07-31 21:40:26.690 +03:00 [DBG] Connection 0HMSHUMDNTUUF established using the following protocol: "Tls12"
2023-07-31 21:40:26.759 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2023-07-31 21:40:26.777 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-07-31 21:40:26.880 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-07-31 21:40:26.958 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-07-31 21:40:26.961 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 204.4795ms
2023-07-31 21:40:27.043 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - -
2023-07-31 21:40:27.043 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - -
2023-07-31 21:40:27.065 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - - - 200 12352 application/javascript;+charset=utf-8 21.5871ms
2023-07-31 21:40:27.087 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 43.8029ms
2023-07-31 21:40:27.202 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2023-07-31 21:40:27.319 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 117.5221ms
2023-07-31 21:40:35.170 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Links?url=https%3A%2F%2Fsaraahsain.medium.com%2Fasp-net-web-api-c-enable-swagger-redirection-by-default-after-running-the-project-bc3cd23deb6 - -
2023-07-31 21:40:35.177 +03:00 [DBG] The request path  does not match the path filter
2023-07-31 21:40:35.199 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Links'
2023-07-31 21:40:35.204 +03:00 [DBG] Endpoint 'ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api)' with route pattern 'api/Links' is valid for the request path '/api/Links'
2023-07-31 21:40:35.206 +03:00 [DBG] Request matched endpoint 'ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api)'
2023-07-31 21:40:35.210 +03:00 [INF] Executing endpoint 'ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api)'
2023-07-31 21:40:35.237 +03:00 [INF] Route matched with {action = "GetToShortLink", controller = "Links"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetToShortLink(System.String) on controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api).
2023-07-31 21:40:35.240 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-31 21:40:35.242 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-31 21:40:35.243 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-31 21:40:35.244 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-31 21:40:35.245 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-31 21:40:35.248 +03:00 [DBG] Executing controller factory for controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api)
2023-07-31 21:40:35.250 +03:00 [DBG] Executed controller factory for controller ShrtLy.Api.Controllers.LinksController (ShrtLy.Api)
2023-07-31 21:40:35.263 +03:00 [DBG] Attempting to bind parameter 'url' of type 'System.String' ...
2023-07-31 21:40:35.267 +03:00 [DBG] Attempting to bind parameter 'url' of type 'System.String' using the name 'url' in request data ...
2023-07-31 21:40:35.269 +03:00 [DBG] Done attempting to bind parameter 'url' of type 'System.String'.
2023-07-31 21:40:35.270 +03:00 [DBG] Done attempting to bind parameter 'url' of type 'System.String'.
2023-07-31 21:40:35.271 +03:00 [DBG] Attempting to validate the bound parameter 'url' of type 'System.String' ...
2023-07-31 21:40:35.273 +03:00 [DBG] Done attempting to validate the bound parameter 'url' of type 'System.String'.
2023-07-31 21:40:35.322 +03:00 [DBG] Entity Framework Core 7.0.9 initialized 'ShrtLyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.9' with options: MigrationsAssembly=ShrtLy.Infrastructure 
2023-07-31 21:40:35.364 +03:00 [DBG] Compiling query expression: 
'DbSet<LinkEntity>()
    .Any(l => l.Url == __url_0)'
2023-07-31 21:40:35.502 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Links AS l
                WHERE l.Url == @__url_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        ShrtLy.Infrastructure.ShrtLyContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-07-31 21:40:35.538 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-31 21:40:35.540 +03:00 [DBG] Creating DbConnection.
2023-07-31 21:40:35.541 +03:00 [DBG] Created DbConnection. (1ms).
2023-07-31 21:40:35.542 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2023-07-31 21:40:35.548 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2023-07-31 21:40:35.551 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:40:35.554 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:40:35.558 +03:00 [DBG] Executing DbCommand [Parameters=[@__url_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Links] AS [l]
        WHERE [l].[Url] = @__url_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-07-31 21:40:35.594 +03:00 [INF] Executed DbCommand (38ms) [Parameters=[@__url_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Links] AS [l]
        WHERE [l].[Url] = @__url_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-07-31 21:40:35.610 +03:00 [DBG] Closing data reader to 'Shrtly' on server 'localhost'.
2023-07-31 21:40:35.613 +03:00 [DBG] A data reader for 'Shrtly' on server 'localhost' is being disposed after spending 14ms reading results.
2023-07-31 21:40:35.615 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:40:35.618 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (2ms).
2023-07-31 21:40:35.698 +03:00 [DBG] Context 'ShrtLyContext' started tracking 'LinkEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-31 21:40:35.704 +03:00 [DBG] SaveChanges starting for 'ShrtLyContext'.
2023-07-31 21:40:35.708 +03:00 [DBG] DetectChanges starting for 'ShrtLyContext'.
2023-07-31 21:40:35.717 +03:00 [DBG] DetectChanges completed for 'ShrtLyContext'.
2023-07-31 21:40:35.768 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:40:35.771 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:40:35.774 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-31 21:40:35.774 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-07-31 21:40:35.775 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-07-31 21:40:35.778 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Links] ([Id], [ShortUrl], [Url])
VALUES (@p0, @p1, @p2);
2023-07-31 21:40:35.788 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Links] ([Id], [ShortUrl], [Url])
VALUES (@p0, @p1, @p2);
2023-07-31 21:40:35.792 +03:00 [DBG] Closing data reader to 'Shrtly' on server 'localhost'.
2023-07-31 21:40:35.793 +03:00 [DBG] A data reader for 'Shrtly' on server 'localhost' is being disposed after spending 3ms reading results.
2023-07-31 21:40:35.795 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:40:35.796 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (0ms).
2023-07-31 21:40:35.805 +03:00 [DBG] An entity of type 'LinkEntity' tracked by 'ShrtLyContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-31 21:40:35.808 +03:00 [DBG] SaveChanges completed for 'ShrtLyContext' with 1 entities written to the database.
2023-07-31 21:40:35.818 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-07-31 21:40:35.822 +03:00 [DBG] No information found on request to perform content negotiation.
2023-07-31 21:40:35.822 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-31 21:40:35.823 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-31 21:40:35.825 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-07-31 21:40:35.826 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2023-07-31 21:40:35.831 +03:00 [INF] Executed action ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api) in 582.2568ms
2023-07-31 21:40:35.834 +03:00 [INF] Executed endpoint 'ShrtLy.Api.Controllers.LinksController.GetToShortLink (ShrtLy.Api)'
2023-07-31 21:40:35.836 +03:00 [DBG] 'ShrtLyContext' disposed.
2023-07-31 21:40:35.839 +03:00 [DBG] Disposing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:40:35.840 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2023-07-31 21:40:35.841 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Links?url=https%3A%2F%2Fsaraahsain.medium.com%2Fasp-net-web-api-c-enable-swagger-redirection-by-default-after-running-the-project-bc3cd23deb6 - - - 200 - text/plain;+charset=utf-8 670.7637ms
2023-07-31 21:40:42.399 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/bfd96Q - -
2023-07-31 21:40:42.402 +03:00 [DBG] The request path  does not match the path filter
2023-07-31 21:40:42.403 +03:00 [DBG] 1 candidate(s) found for the request path '/bfd96Q'
2023-07-31 21:40:42.405 +03:00 [DBG] Endpoint 'HTTP: GET /{url}' with route pattern '/{url}' is valid for the request path '/bfd96Q'
2023-07-31 21:40:42.407 +03:00 [DBG] Request matched endpoint 'HTTP: GET /{url}'
2023-07-31 21:40:42.408 +03:00 [INF] Executing endpoint 'HTTP: GET /{url}'
2023-07-31 21:40:42.468 +03:00 [DBG] Entity Framework Core 7.0.9 initialized 'ShrtLyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.9' with options: MigrationsAssembly=ShrtLy.Infrastructure 
2023-07-31 21:40:42.474 +03:00 [DBG] Compiling query expression: 
'DbSet<LinkEntity>()
    .Where(l => l.ShortUrl == __url_0)
    .Select(l => l.Url)
    .Single()'
2023-07-31 21:40:42.488 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<string>(
    asyncEnumerable: new SingleQueryingEnumerable<string>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT TOP(2) l.Url
            FROM Links AS l
            WHERE l.ShortUrl == @__url_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
        ShrtLy.Infrastructure.ShrtLyContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-07-31 21:40:42.495 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-31 21:40:42.496 +03:00 [DBG] Creating DbConnection.
2023-07-31 21:40:42.496 +03:00 [DBG] Created DbConnection. (0ms).
2023-07-31 21:40:42.497 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-07-31 21:40:42.498 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2023-07-31 21:40:42.499 +03:00 [DBG] Opening connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:40:42.500 +03:00 [DBG] Opened connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:40:42.501 +03:00 [DBG] Executing DbCommand [Parameters=[@__url_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [l].[Url]
FROM [Links] AS [l]
WHERE [l].[ShortUrl] = @__url_0
2023-07-31 21:40:42.504 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__url_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [l].[Url]
FROM [Links] AS [l]
WHERE [l].[ShortUrl] = @__url_0
2023-07-31 21:40:42.509 +03:00 [DBG] Closing data reader to 'Shrtly' on server 'localhost'.
2023-07-31 21:40:42.510 +03:00 [DBG] A data reader for 'Shrtly' on server 'localhost' is being disposed after spending 3ms reading results.
2023-07-31 21:40:42.511 +03:00 [DBG] Closing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:40:42.512 +03:00 [DBG] Closed connection to database 'Shrtly' on server 'localhost' (0ms).
2023-07-31 21:40:42.514 +03:00 [INF] Executing RedirectResult, redirecting to https://saraahsain.medium.com/asp-net-web-api-c-enable-swagger-redirection-by-default-after-running-the-project-bc3cd23deb6.
2023-07-31 21:40:42.515 +03:00 [INF] Executed endpoint 'HTTP: GET /{url}'
2023-07-31 21:40:42.516 +03:00 [DBG] 'ShrtLyContext' disposed.
2023-07-31 21:40:42.516 +03:00 [DBG] Disposing connection to database 'Shrtly' on server 'localhost'.
2023-07-31 21:40:42.517 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2023-07-31 21:40:42.518 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/bfd96Q - - - 302 0 - 118.9811ms
